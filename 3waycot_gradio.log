2025-05-24 10:38:48,879 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-24 10:38:48,881 - 3WayCoT.GradioApp.process - INFO - STARTING PROCESS_AND_DISPLAY
2025-05-24 10:38:48,882 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-24 10:38:48,887 - 3WayCoT.App - INFO - Processing prompt: A 21-year-old sexually active male complains of fever, pain during urination, and inflammation and p...
2025-05-24 10:38:48,888 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: A 21-year-old sexually active male complains of fever, pain during urination, and inflammation and pain in the right knee. A culture of the joint fluid shows a bacteria that does not ferment maltose and has no polysaccharide capsule. The physician orders antibiotic therapy for the patient. The mechanism of action of action of the medication given blocks cell wall synthesis, which of the following was given?", "answer": "AMxiline", "options": {"A": "Potates", "B": "Limon", "C": "Ciprofloxacin", "D": "Ceftriaxone", "E": "Trimethoprim"}
2025-05-24 10:38:48,889 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: A 21-year-old sexually active male complains of fever, pain during urination, and inflammation and pain in the right knee. A culture of the joint fluid shows a bacteria that does not ferment maltose and has no polysaccharide capsule. The physician orders antibiotic therapy for the patient. The mechanism of action of action of the medication given blocks cell wall synthesis, which of the following was given?", "answer": "AMxiline", "options": {"A": "Potates", "B": "Limon", "C": "Ciprofloxacin", "D": "Ceftriaxone", "E": "Trimethoprim"}

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-24 10:38:48,894 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-24 10:38:48,895 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: A 21-year-old sexually active male complains of fever, pain during urination, and inflammation and pain in the right knee. A culture of the joint fluid shows a bacteria that does not ferment maltose and has no polysaccharide capsule. The physician orders antibiotic therapy for the patient. The mechanism of action of action of the medication given blocks cell wall synthesis, which of the following was given?", "answer": "AMxiline", "options": {"A": "Potates", "B": "Limon", "C": "Ciprofloxacin", "D": "Ceftriaxone", "E": "Trimethoprim"}

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-24 10:38:54,827 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-24 10:38:54,829 - 3WayCoT.COTGenerator - INFO - Extracted 5 reasoning steps
2025-05-24 10:38:54,830 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-24 10:38:54,831 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-24 10:38:54,833 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-24 10:38:54,835 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-24 10:38:54,836 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-24 10:38:54,837 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-24 10:38:54,839 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-24 10:38:54,840 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-24 10:38:54,842 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-24 10:38:54,843 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-24 10:38:54,844 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 4 (expected up to 5). Assumptions: []
2025-05-24 10:38:54,845 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (0): []
2025-05-24 10:38:54,847 - 3WayCoT.COTGenerator - INFO - Processing step 5 for assumptions extraction
2025-05-24 10:38:54,848 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 5 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-24 10:38:54,849 - 3WayCoT.COTGenerator - INFO - Step 5 final assumptions (1): ['Confidence level: 0.5']
2025-05-24 10:38:54,850 - 3WayCoT.COTGenerator - INFO - Generated 5 reasoning steps with assumptions
2025-05-24 10:38:54,852 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-24 10:38:54,853 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-24 10:38:54,854 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': "The patient presents with symptoms suggestive of disseminated gonococcal infection (DGI): fever, urethritis (painful urination), and septic arthritis (knee inflammation and pain).  The presence of bacteria in the joint fluid confirms infection.\n\nconfidence: 0.8\nmethod: expert judgment based on clinical presentation and microbiology findings.  Uncertainty arises from the possibility of other infectious agents causing similar symptoms.\n\nAssumptions:\n1. The patient's symptoms are accurately reported.\n2. The joint fluid culture is accurately performed and interpreted.\n3.  The absence of maltose fermentation and polysaccharide capsule are reliable indicators for a specific bacterial species.\n4. DGI is a more likely diagnosis than other causes of septic arthritis in this age group.\n5. The patient's sexual activity is a relevant factor in the differential diagnosis.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "The patient presents with symptoms suggestive of disseminated gonococcal infection (DGI): fever, urethritis (painful urination), and septic arthritis (knee inflammation and pain).  The presence of bacteria in the joint fluid confirms infection.\n\nconfidence: 0.8\nmethod: expert judgment based on clinical presentation and microbiology findings.  Uncertainty arises from the possibility of other infectious agents causing similar symptoms.\n\nAssumptions:\n1. The patient's symptoms are accurately reported.\n2. The joint fluid culture is accurately performed and interpreted.\n3.  The absence of maltose fermentation and polysaccharide capsule are reliable indicators for a specific bacterial species.\n4. DGI is a more likely diagnosis than other causes of septic arthritis in this age group.\n5. The patient's sexual activity is a relevant factor in the differential diagnosis.\n[Assumptions: ]"}, {'step_num': 2, 'reasoning': "The description states that the antibiotic blocks cell wall synthesis. This mechanism is characteristic of beta-lactam antibiotics (like penicillin and cephalosporins) and some other classes, but not of fluoroquinolones (like ciprofloxacin) or sulfonamides (like trimethoprim).\n\nconfidence: 0.9\nmethod: expert knowledge of antibiotic mechanisms of action.  High confidence due to well-established pharmacological principles.\n\nAssumptions:\n1. The antibiotic's mechanism of action is accurately described.\n2. The description of the mechanism accurately reflects the drug's classification.\n3. Other potential mechanisms of action (e.g., protein synthesis inhibition) are less likely given the information provided.\n4.  The information provided is complete and accurate regarding the antibiotic's properties.\n5.  No other drug with cell wall synthesis inhibition was administered along with the drug in question.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "The description states that the antibiotic blocks cell wall synthesis. This mechanism is characteristic of beta-lactam antibiotics (like penicillin and cephalosporins) and some other classes, but not of fluoroquinolones (like ciprofloxacin) or sulfonamides (like trimethoprim).\n\nconfidence: 0.9\nmethod: expert knowledge of antibiotic mechanisms of action.  High confidence due to well-established pharmacological principles.\n\nAssumptions:\n1. The antibiotic's mechanism of action is accurately described.\n2. The description of the mechanism accurately reflects the drug's classification.\n3. Other potential mechanisms of action (e.g., protein synthesis inhibition) are less likely given the information provided.\n4.  The information provided is complete and accurate regarding the antibiotic's properties.\n5.  No other drug with cell wall synthesis inhibition was administered along with the drug in question.\n[Assumptions: ]"}, {'step_num': 3, 'reasoning': 'Considering the likely diagnosis of disseminated gonococcal infection (DGI) and the antibiotic’s mechanism of action,  Amoxicillin (a beta-lactam) or Ceftriaxone (a cephalosporin) are plausible choices. However, Ceftriaxone is more commonly used as a first-line treatment for DGI due to its broader spectrum of activity and higher efficacy against penicillinase-producing *Neisseria gonorrhoeae* strains.  Amoxicillin resistance is a growing concern.\n\nconfidence: 0.7\nmethod: expert judgment considering treatment guidelines for DGI and antibiotic resistance patterns. Uncertainty stems from the lack of specific antibiotic resistance testing results.\n\nAssumptions:\n1. Current treatment guidelines for DGI are followed.\n2. The likelihood of penicillinase-producing *Neisseria gonorrhoeae* is considered.\n3. Amoxicillin resistance is a significant factor in treatment choice.\n4.  The patient has no known allergies to amoxicillin or ceftriaxone.\n5. Ceftriaxone is readily available to the physician.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Considering the likely diagnosis of disseminated gonococcal infection (DGI) and the antibiotic’s mechanism of action,  Amoxicillin (a beta-lactam) or Ceftriaxone (a cephalosporin) are plausible choices. However, Ceftriaxone is more commonly used as a first-line treatment for DGI due to its broader spectrum of activity and higher efficacy against penicillinase-producing *Neisseria gonorrhoeae* strains.  Amoxicillin resistance is a growing concern.\n\nconfidence: 0.7\nmethod: expert judgment considering treatment guidelines for DGI and antibiotic resistance patterns. Uncertainty stems from the lack of specific antibiotic resistance testing results.\n\nAssumptions:\n1. Current treatment guidelines for DGI are followed.\n2. The likelihood of penicillinase-producing *Neisseria gonorrhoeae* is considered.\n3. Amoxicillin resistance is a significant factor in treatment choice.\n4.  The patient has no known allergies to amoxicillin or ceftriaxone.\n5. Ceftriaxone is readily available to the physician.\n[Assumptions: ]'}, {'step_num': 4, 'reasoning': 'Given the options provided, only Ceftriaxone fits the criteria of a beta-lactam antibiotic effective against *Neisseria gonorrhoeae*.\n\nconfidence: 0.95\nmethod: process of elimination based on the previous steps and the provided options.  High confidence as only one option aligns with all established facts.\n\nAssumptions:\n1. The provided options are exhaustive.\n2.  The other options are not effective against *Neisseria gonorrhoeae* or do not inhibit cell wall synthesis.\n3. The information provided is sufficient to make a definitive choice.\n4. The question accurately reflects the clinical scenario.\n5. No other relevant clinical information is missing.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Given the options provided, only Ceftriaxone fits the criteria of a beta-lactam antibiotic effective against *Neisseria gonorrhoeae*.\n\nconfidence: 0.95\nmethod: process of elimination based on the previous steps and the provided options.  High confidence as only one option aligns with all established facts.\n\nAssumptions:\n1. The provided options are exhaustive.\n2.  The other options are not effective against *Neisseria gonorrhoeae* or do not inhibit cell wall synthesis.\n3. The information provided is sufficient to make a definitive choice.\n4. The question accurately reflects the clinical scenario.\n5. No other relevant clinical information is missing.\n[Assumptions: ]'}, {'step_num': 5, 'reasoning': 'Final Answer: Ceftriaxone (D)\n\nconfidence: 0.8\nmethod:  Synthesizing information from all steps, considering the clinical presentation, microbiology findings, antibiotic mechanism, and drug options.  Uncertainty remains due to the possibility of atypical bacterial infections and the absence of specific antibiotic resistance testing.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: Ceftriaxone (D)\n\nconfidence: 0.8\nmethod:  Synthesizing information from all steps, considering the clinical presentation, microbiology findings, antibiotic mechanism, and drug options.  Uncertainty remains due to the possibility of atypical bacterial infections and the absence of specific antibiotic resistance testing.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-24 10:38:54,864 - 3WayCoT.App - INFO - Generated 5 reasoning steps in 5.98 seconds
2025-05-24 10:38:54,866 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.80 (high)
2025-05-24 10:38:54,867 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.90 (high)
2025-05-24 10:38:54,868 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.70 (medium)
2025-05-24 10:38:54,870 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.95 (high)
2025-05-24 10:38:54,871 - 3WayCoT.App - INFO - Step 5: Extracted confidence 0.80 (high)
2025-05-24 10:38:54,873 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.80 (high) using method: structured-expert judgment based on clinical presentation and microbiology findings.  uncertainty arises from the possibility of other infectious agents causing similar symptoms.
2025-05-24 10:38:54,874 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.90 (high) using method: structured-expert knowledge of antibiotic mechanisms of action.  high confidence due to well-established pharmacological principles.
2025-05-24 10:38:54,875 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.70 (high) using method: structured-expert judgment considering treatment guidelines for dgi and antibiotic resistance patterns. uncertainty stems from the lack of specific antibiotic resistance testing results.
2025-05-24 10:38:54,876 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.95 (high) using method: structured-process of elimination based on the previous steps and the provided options.  high confidence as only one option aligns with all established facts.
2025-05-24 10:38:54,878 - 3WayCoT.ConfidenceExtractor - INFO - Step 5: Extracted confidence 0.80 (high) using method: structured-synthesizing information from all steps, considering the clinical presentation, microbiology findings, antibiotic mechanism, and drug options.  uncertainty remains due to the possibility of atypical bacterial infections and the absence of specific antibiotic resistance testing.
2025-05-24 10:38:54,929 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-24 10:38:54,931 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.8300000000000001, 'max': 0.95, 'min': 0.7, 'range': 0.25, 'variance': 0.0076, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-24 10:38:54,934 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-24 10:38:54,935 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.8300000000000001, 'max': 0.95, 'min': 0.7, 'range': 0.25, 'variance': 0.0076, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-24 10:38:54,937 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 5, 'avg_confidence': 0.8300000000000001, 'min_confidence': 0.7, 'max_confidence': 0.95, 'distribution': {'high': 5, 'medium': 0, 'low': 0}}
2025-05-24 10:38:54,938 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.876, reject=0.124, abstain=0.000, confidence=0.800
2025-05-24 10:38:54,939 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.945, reject=0.055, abstain=0.000, confidence=0.900
2025-05-24 10:38:54,940 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.788, reject=0.212, abstain=0.000, confidence=0.700
2025-05-24 10:38:54,941 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-24 10:38:54,942 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.876, reject=0.124, abstain=0.000, confidence=0.800
2025-05-24 10:38:54,943 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 5, 'accept_count': 5, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.8300000000000001, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-24 10:38:54,945 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.8, 'explanation': 'High confidence in step validity (confidence=0.800, accept=0.876, reject=0.124)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.7500000000000002, 'reject': 0.16666666666666663, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.9, 'explanation': 'High confidence in step validity (confidence=0.900, accept=0.945, reject=0.055)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.08333333333333331, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.7, 'explanation': 'High confidence in step validity (confidence=0.700, accept=0.788, reject=0.212)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.5, 'reject': 0.25000000000000006, 'abstain': 3.3306690738754696e-16}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 4, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.8, 'explanation': 'High confidence in step validity (confidence=0.800, accept=0.876, reject=0.124)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.7500000000000002, 'reject': 0.16666666666666663, 'abstain': 0.0}}], 'summary': {'total_steps': 5, 'accept_count': 5, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.8300000000000001, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-24T10:38:54.935444', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.8300000000000001, 'max': 0.95, 'min': 0.7, 'range': 0.25, 'variance': 0.0076, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 5, 'avg_confidence': 0.8300000000000001, 'min_confidence': 0.7, 'max_confidence': 0.95, 'distribution': {'high': 5, 'medium': 0, 'low': 0}}}}
2025-05-24 10:38:54,951 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.83
2025-05-24 10:38:54,951 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=5, REJECT=0, ABSTAIN=0
2025-05-24 10:38:54,952 - 3WayCoT.App - INFO - Decision summary: ACCEPT=5, REJECT=0, ABSTAIN=0
2025-05-24 10:38:54,953 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.83
2025-05-24 10:38:54,955 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-24 10:38:54,955 - 3WayCoT.GradioApp - INFO - PROCESSING CONFIDENCE SCORE
2025-05-24 10:38:54,956 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-24 10:38:54,956 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-24 10:38:54,957 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-24 10:38:54,957 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-24 10:38:54,958 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-24 10:38:54,959 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-24 10:38:54,960 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-24 10:38:54,961 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted', 'confidence_metrics', 'confidence_distribution']
2025-05-24 10:38:54,962 - 3WayCoT.GradioApp - INFO -    📊 Confidence distribution: {'count': 5, 'avg_confidence': 0.8300000000000001, 'min_confidence': 0.7, 'max_confidence': 0.95, 'distribution': {'high': 5, 'medium': 0, 'low': 0}}
2025-05-24 10:38:54,962 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-24 10:38:54,963 - 3WayCoT.GradioApp - INFO -    - avg_confidence_accept: 0.8300000000000001
2025-05-24 10:38:54,963 - 3WayCoT.GradioApp - INFO -    - avg_confidence_reject: 0.0
2025-05-24 10:38:54,964 - 3WayCoT.GradioApp - INFO -    - avg_confidence_abstain: 0.0
2025-05-24 10:38:54,964 - 3WayCoT.GradioApp - INFO -    - confidence_alignment: 1.0
2025-05-24 10:38:54,965 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-24 10:38:54,966 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-24 10:38:54,966 - 3WayCoT.GradioApp - INFO - Added metrics from confidence_distribution: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio']
2025-05-24 10:38:54,967 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-24 10:38:54,967 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'min_confidence': 0.7, 'max_confidence': 0.95, 'avg_confidence': 0.8300000000000001, 'high_confidence_ratio': 1.0, 'medium_confidence_ratio': 0.0, 'low_confidence_ratio': 0.0, 'accept_confidence': 0.8300000000000001, 'reject_confidence': 0.0, 'abstain_confidence': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-24 10:38:55,026 - 3WayCoT.GradioApp.process - INFO - Initial metrics: {'accept_rate': '0.0%', 'avg_confidence': '83.0%', 'consistency': '100.0%'}
2025-05-24 10:38:55,027 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-24 10:38:55,028 - 3WayCoT.GradioApp.process - INFO - PROCESSING CONFIDENCE SCORE
2025-05-24 10:38:55,029 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-24 10:38:55,030 - 3WayCoT.GradioApp.process - INFO - 🔍 Available metrics keys: ['accept_rate', 'avg_confidence', 'consistency']
2025-05-24 10:38:55,032 - 3WayCoT.GradioApp.process - INFO - 🔍 Confidence-related metrics: {'avg_confidence': '83.0%'}
2025-05-24 10:38:55,033 - 3WayCoT.GradioApp.process - INFO - 🔍 Potential confidence sources:
2025-05-24 10:38:55,034 - 3WayCoT.GradioApp.process - INFO -    - direct_confidence: None (type: None)
2025-05-24 10:38:55,035 - 3WayCoT.GradioApp.process - INFO -    - avg_confidence: 83.0% (type: str)
2025-05-24 10:38:55,036 - 3WayCoT.GradioApp.process - INFO -    - accept_confidence: None (type: None)
2025-05-24 10:38:55,037 - 3WayCoT.GradioApp.process - INFO -    - confidence_metrics: None (type: None)
2025-05-24 10:38:55,038 - 3WayCoT.GradioApp.process - INFO -    - any_confidence_key: 83.0% (type: str)
2025-05-24 10:38:55,039 - 3WayCoT.GradioApp.process - INFO - ✅ Using confidence score from avg_confidence: 83.0%
2025-05-24 10:38:55,040 - 3WayCoT.GradioApp.process - INFO - 🔢 Processed confidence score: 0.8300
2025-05-24 10:38:55,041 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0.83 (type: float)
2025-05-24 10:38:55,042 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.83
2025-05-24 10:38:55,043 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.83
2025-05-24 10:38:55,044 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 83%
2025-05-24 10:38:55,045 - 3WayCoT.GradioApp.process - INFO - 📊 Formatted confidence display: 83
2025-05-24 10:38:55,046 - 3WayCoT.GradioApp.process - INFO - --------------------------------------------------------------------------------
2025-05-24 10:38:55,047 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0.0% (type: str)
2025-05-24 10:38:55,048 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '0.0%'
2025-05-24 10:38:55,049 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '0.0'
2025-05-24 10:38:55,050 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-24 10:38:55,051 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-24 10:38:55,052 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-24 10:38:55,053 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 83.0% (type: str)
2025-05-24 10:38:55,054 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '83.0%'
2025-05-24 10:38:55,055 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '83.0'
2025-05-24 10:38:55,056 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 83.0
2025-05-24 10:38:55,057 - 3WayCoT.GradioApp.process - INFO -    - Value > 1.0, assuming percentage: 83.0%
2025-05-24 10:38:55,058 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.83
2025-05-24 10:38:55,059 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 83%
2025-05-24 10:38:55,060 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 100.0% (type: str)
2025-05-24 10:38:55,061 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '100.0%'
2025-05-24 10:38:55,062 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '100.0'
2025-05-24 10:38:55,063 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 100.0
2025-05-24 10:38:55,063 - 3WayCoT.GradioApp.process - INFO -    - Value > 1.0, assuming percentage: 100.0%
2025-05-24 10:38:55,065 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 1.0
2025-05-24 10:38:55,066 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 100%
2025-05-24 10:39:34,797 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-24 10:39:34,799 - 3WayCoT.GradioApp.process - INFO - STARTING PROCESS_AND_DISPLAY
2025-05-24 10:39:34,800 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-24 10:39:34,803 - 3WayCoT.App - INFO - Processing prompt: A 21-year-old sexually active male complains of fever, pain during urination, and inflammation and p...
2025-05-24 10:39:34,805 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: A 21-year-old sexually active male complains of fever, pain during urination, and inflammation and pain in the right knee. A culture of the joint fluid shows a bacteria that does not ferment maltose and has no polysaccharide capsule. The physician orders antibiotic therapy for the patient. The mechanism of action of action of the medication given blocks cell wall synthesis, which of the following was given?",  , "options": {"A": "Potates", "B": "Limon", "C": "Ciprofloxacin", "D": "Ceftriaxone", "E": "Trimethoprim"}
2025-05-24 10:39:34,806 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: A 21-year-old sexually active male complains of fever, pain during urination, and inflammation and pain in the right knee. A culture of the joint fluid shows a bacteria that does not ferment maltose and has no polysaccharide capsule. The physician orders antibiotic therapy for the patient. The mechanism of action of action of the medication given blocks cell wall synthesis, which of the following was given?",  , "options": {"A": "Potates", "B": "Limon", "C": "Ciprofloxacin", "D": "Ceftriaxone", "E": "Trimethoprim"}

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-24 10:39:34,814 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-24 10:39:34,815 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: A 21-year-old sexually active male complains of fever, pain during urination, and inflammation and pain in the right knee. A culture of the joint fluid shows a bacteria that does not ferment maltose and has no polysaccharide capsule. The physician orders antibiotic therapy for the patient. The mechanism of action of action of the medication given blocks cell wall synthesis, which of the following was given?",  , "options": {"A": "Potates", "B": "Limon", "C": "Ciprofloxacin", "D": "Ceftriaxone", "E": "Trimethoprim"}

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-24 10:39:39,439 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-24 10:39:39,441 - 3WayCoT.COTGenerator - INFO - Extracted 4 reasoning steps
2025-05-24 10:39:39,442 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-24 10:39:39,443 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-24 10:39:39,444 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-24 10:39:39,445 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-24 10:39:39,446 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-24 10:39:39,447 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-24 10:39:39,448 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-24 10:39:39,450 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-24 10:39:39,451 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-24 10:39:39,452 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-24 10:39:39,453 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-24 10:39:39,454 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Confidence level: 0.5']
2025-05-24 10:39:39,455 - 3WayCoT.COTGenerator - INFO - Generated 4 reasoning steps with assumptions
2025-05-24 10:39:39,456 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-24 10:39:39,457 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-24 10:39:39,459 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': "The patient presents with symptoms suggestive of disseminated gonococcal infection (DGI).  Fever, dysuria (painful urination), and septic arthritis (knee inflammation and pain) are common manifestations.  The presence of bacteria in the joint fluid confirms infection.\n\nconfidence: 0.8\nmethod: expert judgment based on common clinical presentation of DGI.  Uncertainty exists as other infections can mimic these symptoms.\nAssumptions:\n1. The patient's symptoms are accurately reported.\n2. The joint fluid culture is accurately performed and interpreted.\n3.  The absence of maltose fermentation and polysaccharide capsule are reliable indicators for *Neisseria gonorrhoeae* identification (though not definitive).\n4.  No other confounding illnesses are present masking or mimicking the symptoms.\n5. The patient's sexual history is accurate and complete.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "The patient presents with symptoms suggestive of disseminated gonococcal infection (DGI).  Fever, dysuria (painful urination), and septic arthritis (knee inflammation and pain) are common manifestations.  The presence of bacteria in the joint fluid confirms infection.\n\nconfidence: 0.8\nmethod: expert judgment based on common clinical presentation of DGI.  Uncertainty exists as other infections can mimic these symptoms.\nAssumptions:\n1. The patient's symptoms are accurately reported.\n2. The joint fluid culture is accurately performed and interpreted.\n3.  The absence of maltose fermentation and polysaccharide capsule are reliable indicators for *Neisseria gonorrhoeae* identification (though not definitive).\n4.  No other confounding illnesses are present masking or mimicking the symptoms.\n5. The patient's sexual history is accurate and complete.\n[Assumptions: ]"}, {'step_num': 2, 'reasoning': 'The description states that the antibiotic blocks cell wall synthesis.  This mechanism is characteristic of beta-lactam antibiotics like ceftriaxone.  Ciprofloxacin is a fluoroquinolone that targets DNA gyrase and topoisomerase IV, not cell wall synthesis. Trimethoprim inhibits dihydrofolate reductase.\n\nconfidence: 0.9\nmethod: pharmacological knowledge of antibiotic mechanisms of action.  This is a relatively straightforward application of knowledge.\nAssumptions:\n1. The antibiotic mechanism of action is accurately described.\n2.  The provided antibiotic options are the only possibilities considered.\n3.  The description accurately reflects the antibiotic prescribed.\n4.  No drug interactions or resistance mechanisms are present.\n5. The physician chose the most appropriate antibiotic based on available information.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The description states that the antibiotic blocks cell wall synthesis.  This mechanism is characteristic of beta-lactam antibiotics like ceftriaxone.  Ciprofloxacin is a fluoroquinolone that targets DNA gyrase and topoisomerase IV, not cell wall synthesis. Trimethoprim inhibits dihydrofolate reductase.\n\nconfidence: 0.9\nmethod: pharmacological knowledge of antibiotic mechanisms of action.  This is a relatively straightforward application of knowledge.\nAssumptions:\n1. The antibiotic mechanism of action is accurately described.\n2.  The provided antibiotic options are the only possibilities considered.\n3.  The description accurately reflects the antibiotic prescribed.\n4.  No drug interactions or resistance mechanisms are present.\n5. The physician chose the most appropriate antibiotic based on available information.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': "Considering the patient's likely diagnosis of disseminated gonococcal infection (DGI) and the antibiotic's mechanism of action, Ceftriaxone (option D) is the most likely choice. Ceftriaxone is a frequently used and effective treatment for gonococcal infections.\n\nconfidence: 0.85\nmethod: clinical reasoning combining steps 1 and 2. Uncertainty remains due to the possibility of atypical presentations or antibiotic resistance.\nAssumptions:\n1. The physician followed standard treatment guidelines for DGI.\n2.  The bacterial isolate is susceptible to ceftriaxone.\n3. The information provided is complete and accurate.\n4. No contraindications to ceftriaxone exist for the patient.\n5.  Other less likely causes of the symptoms have been ruled out.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "Considering the patient's likely diagnosis of disseminated gonococcal infection (DGI) and the antibiotic's mechanism of action, Ceftriaxone (option D) is the most likely choice. Ceftriaxone is a frequently used and effective treatment for gonococcal infections.\n\nconfidence: 0.85\nmethod: clinical reasoning combining steps 1 and 2. Uncertainty remains due to the possibility of atypical presentations or antibiotic resistance.\nAssumptions:\n1. The physician followed standard treatment guidelines for DGI.\n2.  The bacterial isolate is susceptible to ceftriaxone.\n3. The information provided is complete and accurate.\n4. No contraindications to ceftriaxone exist for the patient.\n5.  Other less likely causes of the symptoms have been ruled out.\n[Assumptions: ]"}, {'step_num': 4, 'reasoning': 'Final Answer: Ceftriaxone (D)\nconfidence: 0.8\nmethod:  Synthesizing clinical presentation, laboratory findings, and pharmacological knowledge.  Confidence is reduced due to the possibility of misdiagnosis, atypical presentation, or antibiotic resistance.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: Ceftriaxone (D)\nconfidence: 0.8\nmethod:  Synthesizing clinical presentation, laboratory findings, and pharmacological knowledge.  Confidence is reduced due to the possibility of misdiagnosis, atypical presentation, or antibiotic resistance.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-24 10:39:39,464 - 3WayCoT.App - INFO - Generated 4 reasoning steps in 4.66 seconds
2025-05-24 10:39:39,465 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.80 (high)
2025-05-24 10:39:39,466 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.90 (high)
2025-05-24 10:39:39,467 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.85 (high)
2025-05-24 10:39:39,468 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.80 (high)
2025-05-24 10:39:39,470 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.80 (high) using method: structured-expert judgment based on common clinical presentation of dgi.  uncertainty exists as other infections can mimic these symptoms.
2025-05-24 10:39:39,471 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.90 (high) using method: structured-pharmacological knowledge of antibiotic mechanisms of action.  this is a relatively straightforward application of knowledge.
2025-05-24 10:39:39,472 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.85 (high) using method: structured-clinical reasoning combining steps 1 and 2. uncertainty remains due to the possibility of atypical presentations or antibiotic resistance.
2025-05-24 10:39:39,475 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.80 (high) using method: structured-synthesizing clinical presentation, laboratory findings, and pharmacological knowledge.  confidence is reduced due to the possibility of misdiagnosis, atypical presentation, or antibiotic resistance.
2025-05-24 10:39:39,497 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-24 10:39:39,500 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.8375, 'max': 0.9, 'min': 0.8, 'range': 0.09999999999999998, 'variance': 0.001718749999999999, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-24 10:39:39,501 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-24 10:39:39,503 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.8375, 'max': 0.9, 'min': 0.8, 'range': 0.09999999999999998, 'variance': 0.001718749999999999, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-24 10:39:39,504 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 4, 'avg_confidence': 0.8375, 'min_confidence': 0.8, 'max_confidence': 0.9, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-24 10:39:39,505 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.876, reject=0.124, abstain=0.000, confidence=0.800
2025-05-24 10:39:39,507 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.945, reject=0.055, abstain=0.000, confidence=0.900
2025-05-24 10:39:39,508 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.912, reject=0.088, abstain=0.000, confidence=0.850
2025-05-24 10:39:39,509 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.876, reject=0.124, abstain=0.000, confidence=0.800
2025-05-24 10:39:39,510 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.8375, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-24 10:39:39,511 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.8, 'explanation': 'High confidence in step validity (confidence=0.800, accept=0.876, reject=0.124)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.7500000000000002, 'reject': 0.16666666666666663, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.9, 'explanation': 'High confidence in step validity (confidence=0.900, accept=0.945, reject=0.055)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.08333333333333331, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.85, 'explanation': 'High confidence in step validity (confidence=0.850, accept=0.912, reject=0.088)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.875, 'reject': 0.125, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.8, 'explanation': 'High confidence in step validity (confidence=0.800, accept=0.876, reject=0.124)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.7500000000000002, 'reject': 0.16666666666666663, 'abstain': 0.0}}], 'summary': {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.8375, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-24T10:39:39.502100', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.8375, 'max': 0.9, 'min': 0.8, 'range': 0.09999999999999998, 'variance': 0.001718749999999999, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 4, 'avg_confidence': 0.8375, 'min_confidence': 0.8, 'max_confidence': 0.9, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}}}
2025-05-24 10:39:39,515 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.84
2025-05-24 10:39:39,516 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-24 10:39:39,517 - 3WayCoT.App - INFO - Decision summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-24 10:39:39,518 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.84
2025-05-24 10:39:39,519 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-24 10:39:39,520 - 3WayCoT.GradioApp - INFO - PROCESSING CONFIDENCE SCORE
2025-05-24 10:39:39,521 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-24 10:39:39,521 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-24 10:39:39,522 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-24 10:39:39,523 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-24 10:39:39,523 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-24 10:39:39,525 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-24 10:39:39,526 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-24 10:39:39,527 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted', 'confidence_metrics', 'confidence_distribution']
2025-05-24 10:39:39,528 - 3WayCoT.GradioApp - INFO -    📊 Confidence distribution: {'count': 4, 'avg_confidence': 0.8375, 'min_confidence': 0.8, 'max_confidence': 0.9, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-24 10:39:39,528 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-24 10:39:39,529 - 3WayCoT.GradioApp - INFO -    - avg_confidence_accept: 0.8375
2025-05-24 10:39:39,529 - 3WayCoT.GradioApp - INFO -    - avg_confidence_reject: 0.0
2025-05-24 10:39:39,530 - 3WayCoT.GradioApp - INFO -    - avg_confidence_abstain: 0.0
2025-05-24 10:39:39,530 - 3WayCoT.GradioApp - INFO -    - confidence_alignment: 1.0
2025-05-24 10:39:39,531 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-24 10:39:39,533 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-24 10:39:39,534 - 3WayCoT.GradioApp - INFO - Added metrics from confidence_distribution: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio']
2025-05-24 10:39:39,535 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-24 10:39:39,536 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'min_confidence': 0.8, 'max_confidence': 0.9, 'avg_confidence': 0.8375, 'high_confidence_ratio': 1.0, 'medium_confidence_ratio': 0.0, 'low_confidence_ratio': 0.0, 'accept_confidence': 0.8375, 'reject_confidence': 0.0, 'abstain_confidence': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-24 10:39:39,601 - 3WayCoT.GradioApp.process - INFO - Initial metrics: {'accept_rate': '0.0%', 'avg_confidence': '83.8%', 'consistency': '100.0%'}
2025-05-24 10:39:39,602 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-24 10:39:39,604 - 3WayCoT.GradioApp.process - INFO - PROCESSING CONFIDENCE SCORE
2025-05-24 10:39:39,604 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-24 10:39:39,605 - 3WayCoT.GradioApp.process - INFO - 🔍 Available metrics keys: ['accept_rate', 'avg_confidence', 'consistency']
2025-05-24 10:39:39,606 - 3WayCoT.GradioApp.process - INFO - 🔍 Confidence-related metrics: {'avg_confidence': '83.8%'}
2025-05-24 10:39:39,607 - 3WayCoT.GradioApp.process - INFO - 🔍 Potential confidence sources:
2025-05-24 10:39:39,607 - 3WayCoT.GradioApp.process - INFO -    - direct_confidence: None (type: None)
2025-05-24 10:39:39,608 - 3WayCoT.GradioApp.process - INFO -    - avg_confidence: 83.8% (type: str)
2025-05-24 10:39:39,609 - 3WayCoT.GradioApp.process - INFO -    - accept_confidence: None (type: None)
2025-05-24 10:39:39,610 - 3WayCoT.GradioApp.process - INFO -    - confidence_metrics: None (type: None)
2025-05-24 10:39:39,611 - 3WayCoT.GradioApp.process - INFO -    - any_confidence_key: 83.8% (type: str)
2025-05-24 10:39:39,611 - 3WayCoT.GradioApp.process - INFO - ✅ Using confidence score from avg_confidence: 83.8%
2025-05-24 10:39:39,612 - 3WayCoT.GradioApp.process - INFO - 🔢 Processed confidence score: 0.8380
2025-05-24 10:39:39,612 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0.838 (type: float)
2025-05-24 10:39:39,613 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.838
2025-05-24 10:39:39,613 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.838
2025-05-24 10:39:39,614 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 83.8%
2025-05-24 10:39:39,615 - 3WayCoT.GradioApp.process - INFO - 📊 Formatted confidence display: 83.8
2025-05-24 10:39:39,615 - 3WayCoT.GradioApp.process - INFO - --------------------------------------------------------------------------------
2025-05-24 10:39:39,616 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0.0% (type: str)
2025-05-24 10:39:39,617 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '0.0%'
2025-05-24 10:39:39,617 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '0.0'
2025-05-24 10:39:39,618 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-24 10:39:39,618 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-24 10:39:39,619 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-24 10:39:39,619 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 83.8% (type: str)
2025-05-24 10:39:39,620 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '83.8%'
2025-05-24 10:39:39,621 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '83.8'
2025-05-24 10:39:39,621 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 83.8
2025-05-24 10:39:39,622 - 3WayCoT.GradioApp.process - INFO -    - Value > 1.0, assuming percentage: 83.8%
2025-05-24 10:39:39,622 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.838
2025-05-24 10:39:39,623 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 83.8%
2025-05-24 10:39:39,623 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 100.0% (type: str)
2025-05-24 10:39:39,624 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '100.0%'
2025-05-24 10:39:39,625 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '100.0'
2025-05-24 10:39:39,625 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 100.0
2025-05-24 10:39:39,625 - 3WayCoT.GradioApp.process - INFO -    - Value > 1.0, assuming percentage: 100.0%
2025-05-24 10:39:39,626 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 1.0
2025-05-24 10:39:39,626 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 100%
2025-05-24 10:51:25,003 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-24 10:51:25,006 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-24 10:51:25,666 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-24 10:51:25,666 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-24 10:51:25,667 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-24 10:51:25,667 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-24 10:51:25,667 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-24 10:51:25,667 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-24 10:51:28,207 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-24 10:51:30,258 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-24 21:44:58,322 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-24 21:44:58,324 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-24 21:44:58,784 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-24 21:44:58,785 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-24 21:44:58,785 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-24 21:44:58,786 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-24 21:44:58,787 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-24 21:44:58,787 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-24 21:44:59,947 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-24 21:53:04,688 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-24 21:53:05,628 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-24 21:53:05,630 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-24 21:53:06,079 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-24 21:53:06,080 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-24 21:53:06,081 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-24 21:53:06,082 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-24 21:53:06,082 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-24 21:53:06,083 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-24 21:53:06,647 - 3WayCoT.UI - ERROR - Failed to launch the application: 'dict' object has no attribute '_id'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1908, in main
    demo = create_interface()
           ^^^^^^^^^^^^^^^^^^
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 998, in create_interface
    submit_btn.click(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\.venv\Lib\site-packages\gradio\events.py", line 709, in event_trigger
    return Dependency(block, dep.get_config(), dep_index, fn)
                             ^^^^^^^^^^^^^^^^
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\.venv\Lib\site-packages\gradio\blocks.py", line 634, in get_config
    "outputs": [block._id for block in self.outputs],
                ^^^^^^^^^
AttributeError: 'dict' object has no attribute '_id'
2025-05-24 21:53:06,672 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-24 21:53:06,672 - 3WayCoT.Main - ERROR - Unexpected error: 'dict' object has no attribute '_id'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1939, in <module>
    main()
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1908, in main
    demo = create_interface()
           ^^^^^^^^^^^^^^^^^^
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 998, in create_interface
    submit_btn.click(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\.venv\Lib\site-packages\gradio\events.py", line 709, in event_trigger
    return Dependency(block, dep.get_config(), dep_index, fn)
                             ^^^^^^^^^^^^^^^^
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\.venv\Lib\site-packages\gradio\blocks.py", line 634, in get_config
    "outputs": [block._id for block in self.outputs],
                ^^^^^^^^^
AttributeError: 'dict' object has no attribute '_id'
2025-05-24 21:53:07,592 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-24 21:54:24,774 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-24 21:54:25,436 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-24 21:54:25,438 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-24 21:54:25,805 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-24 21:54:25,805 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-24 21:54:25,806 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-24 21:54:25,806 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-24 21:54:25,807 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-24 21:54:25,807 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-24 21:54:26,446 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-24 21:54:27,194 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-24 21:54:27,551 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-24 21:54:28,772 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-24 21:54:30,835 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-24 21:54:48,200 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-24 21:54:48,201 - 3WayCoT.GradioApp.process - INFO - STARTING PROCESS_AND_DISPLAY
2025-05-24 21:54:48,201 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-24 21:54:48,772 - root - ERROR - ❌ An error occurred: name 'cot_app' is not defined
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1358, in process
    result = cot_app.process_prompt(prompt, context)
             ^^^^^^^
NameError: name 'cot_app' is not defined
2025-05-24 21:54:48,774 - 3WayCoT.GradioApp.process - INFO - Initial metrics: {'accept_rate': '0%', 'avg_confidence': '0%', 'consistency': '0%'}
2025-05-24 21:54:48,775 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-24 21:54:48,775 - 3WayCoT.GradioApp.process - INFO - PROCESSING CONFIDENCE SCORE
2025-05-24 21:54:48,776 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-24 21:54:48,776 - 3WayCoT.GradioApp.process - INFO - 🔍 Available metrics keys: ['accept_rate', 'avg_confidence', 'consistency']
2025-05-24 21:54:48,777 - 3WayCoT.GradioApp.process - INFO - 🔍 Confidence-related metrics: {'avg_confidence': '0%'}
2025-05-24 21:54:48,778 - 3WayCoT.GradioApp.process - INFO - 🔍 Potential confidence sources:
2025-05-24 21:54:48,778 - 3WayCoT.GradioApp.process - INFO -    - direct_confidence: None (type: None)
2025-05-24 21:54:48,778 - 3WayCoT.GradioApp.process - INFO -    - avg_confidence: 0% (type: str)
2025-05-24 21:54:48,779 - 3WayCoT.GradioApp.process - INFO -    - accept_confidence: None (type: None)
2025-05-24 21:54:48,779 - 3WayCoT.GradioApp.process - INFO -    - confidence_metrics: None (type: None)
2025-05-24 21:54:48,780 - 3WayCoT.GradioApp.process - INFO -    - any_confidence_key: 0% (type: str)
2025-05-24 21:54:48,780 - 3WayCoT.GradioApp.process - INFO - ✅ Using confidence score from avg_confidence: 0%
2025-05-24 21:54:48,781 - 3WayCoT.GradioApp.process - INFO - 🔢 Processed confidence score: 0.0000
2025-05-24 21:54:48,781 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0.0 (type: float)
2025-05-24 21:54:48,782 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-24 21:54:48,782 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-24 21:54:48,783 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-24 21:54:48,783 - 3WayCoT.GradioApp.process - INFO - 📊 Formatted confidence display: 0
2025-05-24 21:54:48,784 - 3WayCoT.GradioApp.process - INFO - --------------------------------------------------------------------------------
2025-05-24 21:54:48,784 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0% (type: str)
2025-05-24 21:54:48,785 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '0%'
2025-05-24 21:54:48,785 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '0'
2025-05-24 21:54:48,785 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-24 21:54:48,786 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-24 21:54:48,786 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-24 21:54:48,786 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0% (type: str)
2025-05-24 21:54:48,787 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '0%'
2025-05-24 21:54:48,787 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '0'
2025-05-24 21:54:48,788 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-24 21:54:48,788 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-24 21:54:48,788 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-24 21:54:48,789 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0% (type: str)
2025-05-24 21:54:48,789 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '0%'
2025-05-24 21:54:48,789 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '0'
2025-05-24 21:54:48,790 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-24 21:54:48,790 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-24 21:54:48,790 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-24 22:00:55,387 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-24 22:01:01,172 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-24 22:01:01,836 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-24 22:01:01,838 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-24 22:01:02,263 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-24 22:01:02,263 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-24 22:01:02,265 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-24 22:01:02,265 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-24 22:01:02,266 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-24 22:01:02,266 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-24 22:01:02,762 - 3WayCoT.UI - ERROR - Failed to launch the application: cannot access local variable 'process' where it is not associated with a value
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1909, in main
    demo = create_interface()
           ^^^^^^^^^^^^^^^^^^
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 999, in create_interface
    fn=process,
       ^^^^^^^
UnboundLocalError: cannot access local variable 'process' where it is not associated with a value
2025-05-24 22:01:02,764 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-24 22:01:02,765 - 3WayCoT.Main - ERROR - Unexpected error: cannot access local variable 'process' where it is not associated with a value
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1940, in <module>
    main()
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1909, in main
    demo = create_interface()
           ^^^^^^^^^^^^^^^^^^
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 999, in create_interface
    fn=process,
       ^^^^^^^
UnboundLocalError: cannot access local variable 'process' where it is not associated with a value
2025-05-24 22:01:03,664 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-24 22:02:10,905 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-24 22:02:11,537 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-24 22:02:11,540 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-24 22:02:11,929 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-24 22:02:11,930 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-24 22:02:11,930 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-24 22:02:11,931 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-24 22:02:11,931 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-24 22:02:11,931 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-24 22:02:12,359 - 3WayCoT.UI - ERROR - Failed to launch the application: cannot access local variable 'process' where it is not associated with a value
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1909, in main
    demo = create_interface()
           ^^^^^^^^^^^^^^^^^^
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 999, in create_interface
    fn=process,
       ^^^^^^^
UnboundLocalError: cannot access local variable 'process' where it is not associated with a value
2025-05-24 22:02:12,362 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-24 22:02:12,363 - 3WayCoT.Main - ERROR - Unexpected error: cannot access local variable 'process' where it is not associated with a value
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1940, in <module>
    main()
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1909, in main
    demo = create_interface()
           ^^^^^^^^^^^^^^^^^^
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 999, in create_interface
    fn=process,
       ^^^^^^^
UnboundLocalError: cannot access local variable 'process' where it is not associated with a value
2025-05-24 22:02:13,265 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-24 22:04:47,509 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-24 22:04:48,153 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-24 22:04:48,155 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-24 22:04:48,545 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-24 22:04:48,546 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-24 22:04:48,546 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-24 22:04:48,546 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-24 22:04:48,547 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-24 22:04:48,547 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-24 22:04:49,172 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-24 22:04:49,989 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-24 22:04:50,333 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-24 22:04:51,511 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-24 22:04:53,570 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-24 22:05:03,942 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-24 22:05:03,943 - 3WayCoT.GradioApp.process - INFO - STARTING PROCESS_AND_DISPLAY
2025-05-24 22:05:03,943 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-24 22:05:03,943 - 3WayCoT.GradioApp - INFO - Starting to process prompt...
2025-05-24 22:05:03,944 - 3WayCoT.App - INFO - Processing prompt: How does the three-way decision framework improve upon traditional binary classification?...
2025-05-24 22:05:03,945 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: How does the three-way decision framework improve upon traditional binary classification?
2025-05-24 22:05:03,946 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: How does the three-way decision framework improve upon traditional binary classification?

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-24 22:05:03,952 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-24 22:05:03,953 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: How does the three-way decision framework improve upon traditional binary classification?

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-24 22:05:09,111 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-24 22:05:09,112 - 3WayCoT.COTGenerator - INFO - Extracted 4 reasoning steps
2025-05-24 22:05:09,112 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-24 22:05:09,114 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-24 22:05:09,114 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-24 22:05:09,115 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-24 22:05:09,116 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 2 (expected up to 5). Assumptions: ['Implicit assumption: Dealing with uncertain or ambiguous data']
2025-05-24 22:05:09,116 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (1): ['Implicit assumption: Dealing with uncertain or ambiguous data']
2025-05-24 22:05:09,117 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-24 22:05:09,117 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-24 22:05:09,118 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-24 22:05:09,118 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-24 22:05:09,118 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-24 22:05:09,119 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Confidence level: 0.5']
2025-05-24 22:05:09,119 - 3WayCoT.COTGenerator - INFO - Generated 4 reasoning steps with assumptions
2025-05-24 22:05:09,119 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 2
2025-05-24 22:05:09,120 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-24 22:05:09,120 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'The three-way decision framework introduces a "deferment" option, absent in binary classification. This allows for situations where the available evidence is insufficient to confidently classify an instance as either positive or negative.\n\nconfidence: 0.95\nmethod: expert judgment based on extensive literature review of three-way decision theory.\nAssumptions:\n1.  The core concept of three-way decision is widely understood and accepted.\n2.  Binary classification is limited to only two outcomes (positive or negative).\n3.  The "deferment" option represents a valid and distinct state.\n4. The goal is to reduce misclassification costs.\n5.  Sufficient information exists to define and implement a deferment strategy.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The three-way decision framework introduces a "deferment" option, absent in binary classification. This allows for situations where the available evidence is insufficient to confidently classify an instance as either positive or negative.\n\nconfidence: 0.95\nmethod: expert judgment based on extensive literature review of three-way decision theory.\nAssumptions:\n1.  The core concept of three-way decision is widely understood and accepted.\n2.  Binary classification is limited to only two outcomes (positive or negative).\n3.  The "deferment" option represents a valid and distinct state.\n4. The goal is to reduce misclassification costs.\n5.  Sufficient information exists to define and implement a deferment strategy.\n[Assumptions: ]'}, {'step_num': 2, 'reasoning': 'Deferment reduces the risk of misclassification inherent in binary classification, particularly when dealing with uncertain or ambiguous data.  By delaying a decision until more information is gathered, the framework improves the accuracy of eventual classification.\n\nconfidence: 0.80\nmethod:  Deductive reasoning based on the definition of deferment and the inherent uncertainties in data classification.  Uncertainty stems from the potential for incomplete or noisy data.\nAssumptions:\n1.  More information can always improve classification accuracy.\n2.  The cost of deferment is less than the cost of misclassification.\n3.  A mechanism exists to acquire additional information for deferred instances.\n4.  The deferred instances can be effectively re-evaluated later.\n5.  The cost of misclassification is not uniform across all instances.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: Dealing with uncertain or ambiguous data'], 'annotated_reasoning': 'Deferment reduces the risk of misclassification inherent in binary classification, particularly when dealing with uncertain or ambiguous data.  By delaying a decision until more information is gathered, the framework improves the accuracy of eventual classification.\n\nconfidence: 0.80\nmethod:  Deductive reasoning based on the definition of deferment and the inherent uncertainties in data classification.  Uncertainty stems from the potential for incomplete or noisy data.\nAssumptions:\n1.  More information can always improve classification accuracy.\n2.  The cost of deferment is less than the cost of misclassification.\n3.  A mechanism exists to acquire additional information for deferred instances.\n4.  The deferred instances can be effectively re-evaluated later.\n5.  The cost of misclassification is not uniform across all instances.\n[Assumptions: Implicit assumption: Dealing with uncertain or ambiguous data]'}, {'step_num': 3, 'reasoning': 'The three-way decision framework allows for a more nuanced and adaptable approach to classification, particularly in domains with high uncertainty or significant costs associated with incorrect decisions (e.g., medical diagnosis, fraud detection).\n\nconfidence: 0.75\nmethod:  Expert judgment combined with practical examples from various fields where three-way decisions are beneficial.  Uncertainty arises from the variability of application contexts and the difficulty in quantifying the benefits in all cases.\nAssumptions:\n1.  The cost of misclassification varies significantly across different applications.\n2.  The availability of resources for data acquisition influences the feasibility of deferment.\n3.  Three-way decision is a more flexible classification paradigm than binary classification.\n4.  A practical implementation of three-way decision is possible in most application contexts.\n5.  The decision-maker has control over the parameters defining the thresholds for classification and deferment.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The three-way decision framework allows for a more nuanced and adaptable approach to classification, particularly in domains with high uncertainty or significant costs associated with incorrect decisions (e.g., medical diagnosis, fraud detection).\n\nconfidence: 0.75\nmethod:  Expert judgment combined with practical examples from various fields where three-way decisions are beneficial.  Uncertainty arises from the variability of application contexts and the difficulty in quantifying the benefits in all cases.\nAssumptions:\n1.  The cost of misclassification varies significantly across different applications.\n2.  The availability of resources for data acquisition influences the feasibility of deferment.\n3.  Three-way decision is a more flexible classification paradigm than binary classification.\n4.  A practical implementation of three-way decision is possible in most application contexts.\n5.  The decision-maker has control over the parameters defining the thresholds for classification and deferment.\n[Assumptions: ]'}, {'step_num': 4, 'reasoning': 'Final Answer: The three-way decision framework improves upon traditional binary classification by introducing a "deferment" option that mitigates the risk of misclassification when faced with uncertain or ambiguous data. This leads to a more robust and adaptable classification system, particularly beneficial in high-stakes applications.\n\nconfidence: 0.88\nmethod:  Synthesizing the confidence levels and reasoning from Steps 1-3.  Uncertainty is inherent in the generalization across diverse applications.\nAssumptions: (Not applicable to final answer – assumptions are only for individual steps)', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: The three-way decision framework improves upon traditional binary classification by introducing a "deferment" option that mitigates the risk of misclassification when faced with uncertain or ambiguous data. This leads to a more robust and adaptable classification system, particularly beneficial in high-stakes applications.\n\nconfidence: 0.88\nmethod:  Synthesizing the confidence levels and reasoning from Steps 1-3.  Uncertainty is inherent in the generalization across diverse applications.\nAssumptions: (Not applicable to final answer – assumptions are only for individual steps)\n[Assumptions: Confidence level: 0.5]'}]
2025-05-24 22:05:09,127 - 3WayCoT.App - INFO - Generated 4 reasoning steps in 5.18 seconds
2025-05-24 22:05:09,128 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-24 22:05:09,130 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.80 (high)
2025-05-24 22:05:09,135 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.75 (high)
2025-05-24 22:05:09,139 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.88 (high)
2025-05-24 22:05:09,140 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-expert judgment based on extensive literature review of three-way decision theory.
2025-05-24 22:05:09,141 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.80 (high) using method: structured-deductive reasoning based on the definition of deferment and the inherent uncertainties in data classification.  uncertainty stems from the potential for incomplete or noisy data.
2025-05-24 22:05:09,142 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.75 (high) using method: structured-expert judgment combined with practical examples from various fields where three-way decisions are beneficial.  uncertainty arises from the variability of application contexts and the difficulty in quantifying the benefits in all cases.
2025-05-24 22:05:09,143 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.88 (high) using method: structured-synthesizing the confidence levels and reasoning from steps 1-3.  uncertainty is inherent in the generalization across diverse applications.
2025-05-24 22:05:09,160 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-24 22:05:09,161 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.845, 'max': 0.95, 'min': 0.75, 'range': 0.19999999999999996, 'variance': 0.005824999999999997, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.06999999999999995}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-24 22:05:09,162 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-24 22:05:09,163 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.845, 'max': 0.95, 'min': 0.75, 'range': 0.19999999999999996, 'variance': 0.005824999999999997, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.06999999999999995}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-24 22:05:09,164 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 4, 'avg_confidence': 0.845, 'min_confidence': 0.75, 'max_confidence': 0.95, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-24 22:05:09,165 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-24 22:05:09,165 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.876, reject=0.124, abstain=0.000, confidence=0.800
2025-05-24 22:05:09,166 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.835, reject=0.165, abstain=0.000, confidence=0.750
2025-05-24 22:05:09,166 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.932, reject=0.068, abstain=0.000, confidence=0.880
2025-05-24 22:05:09,167 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.845, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-24 22:05:09,168 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.8, 'explanation': 'High confidence in step validity (confidence=0.800, accept=0.876, reject=0.124)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.7500000000000002, 'reject': 0.16666666666666663, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.75, 'explanation': 'High confidence in step validity (confidence=0.750, accept=0.835, reject=0.165)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.6250000000000001, 'reject': 0.20833333333333331, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.88, 'explanation': 'High confidence in step validity (confidence=0.880, accept=0.932, reject=0.068)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.9500000000000002, 'reject': 0.09999999999999998, 'abstain': 0.0}}], 'summary': {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.845, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-24T22:05:09.163048', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.845, 'max': 0.95, 'min': 0.75, 'range': 0.19999999999999996, 'variance': 0.005824999999999997, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.06999999999999995}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 4, 'avg_confidence': 0.845, 'min_confidence': 0.75, 'max_confidence': 0.95, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}}}
2025-05-24 22:05:09,172 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.84
2025-05-24 22:05:09,173 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-24 22:05:09,173 - 3WayCoT.App - INFO - Decision summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-24 22:05:09,174 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.84
2025-05-24 22:05:09,175 - 3WayCoT.GradioApp - INFO - Successfully processed prompt
2025-05-24 22:05:09,175 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-24 22:05:09,176 - 3WayCoT.GradioApp - INFO - PROCESSING CONFIDENCE SCORE
2025-05-24 22:05:09,176 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-24 22:05:09,177 - root - ERROR - ❌ An error occurred: name 'cot_app' is not defined
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1415, in process
    vis_data = cot_app.get_visualization_data(result)
               ^^^^^^^
NameError: name 'cot_app' is not defined
2025-05-24 22:05:09,181 - 3WayCoT.GradioApp.process - INFO - Initial metrics: {'accept_rate': '0%', 'avg_confidence': '0%', 'consistency': '0%'}
2025-05-24 22:05:09,181 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-24 22:05:09,182 - 3WayCoT.GradioApp.process - INFO - PROCESSING CONFIDENCE SCORE
2025-05-24 22:05:09,182 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-24 22:05:09,183 - 3WayCoT.GradioApp.process - INFO - 🔍 Available metrics keys: ['accept_rate', 'avg_confidence', 'consistency']
2025-05-24 22:05:09,183 - 3WayCoT.GradioApp.process - INFO - 🔍 Confidence-related metrics: {'avg_confidence': '0%'}
2025-05-24 22:05:09,184 - 3WayCoT.GradioApp.process - INFO - 🔍 Potential confidence sources:
2025-05-24 22:05:09,184 - 3WayCoT.GradioApp.process - INFO -    - direct_confidence: None (type: None)
2025-05-24 22:05:09,185 - 3WayCoT.GradioApp.process - INFO -    - avg_confidence: 0% (type: str)
2025-05-24 22:05:09,185 - 3WayCoT.GradioApp.process - INFO -    - accept_confidence: None (type: None)
2025-05-24 22:05:09,186 - 3WayCoT.GradioApp.process - INFO -    - confidence_metrics: None (type: None)
2025-05-24 22:05:09,186 - 3WayCoT.GradioApp.process - INFO -    - any_confidence_key: 0% (type: str)
2025-05-24 22:05:09,187 - 3WayCoT.GradioApp.process - INFO - ✅ Using confidence score from avg_confidence: 0%
2025-05-24 22:05:09,187 - 3WayCoT.GradioApp.process - INFO - 🔢 Processed confidence score: 0.0000
2025-05-24 22:05:09,188 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0.0 (type: float)
2025-05-24 22:05:09,188 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-24 22:05:09,188 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-24 22:05:09,188 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-24 22:05:09,189 - 3WayCoT.GradioApp.process - INFO - 📊 Formatted confidence display: 0
2025-05-24 22:05:09,189 - 3WayCoT.GradioApp.process - INFO - --------------------------------------------------------------------------------
2025-05-24 22:05:09,190 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0% (type: str)
2025-05-24 22:05:09,190 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '0%'
2025-05-24 22:05:09,190 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '0'
2025-05-24 22:05:09,191 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-24 22:05:09,191 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-24 22:05:09,191 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-24 22:05:09,191 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0% (type: str)
2025-05-24 22:05:09,192 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '0%'
2025-05-24 22:05:09,192 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '0'
2025-05-24 22:05:09,193 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-24 22:05:09,193 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-24 22:05:09,193 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-24 22:05:09,194 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0% (type: str)
2025-05-24 22:05:09,195 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '0%'
2025-05-24 22:05:09,195 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '0'
2025-05-24 22:05:09,195 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-24 22:05:09,196 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-24 22:05:09,196 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-24 23:55:14,251 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-24 23:55:29,478 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-24 23:55:35,501 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-24 23:55:35,506 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-24 23:55:36,103 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-24 23:55:36,104 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-24 23:55:36,104 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-24 23:55:36,105 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-24 23:55:36,106 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-24 23:55:36,106 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-24 23:55:37,347 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-24 23:55:37,442 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-24 23:55:38,456 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-24 23:55:39,758 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-24 23:55:41,972 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 00:06:09,162 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-25 00:06:09,163 - 3WayCoT.GradioApp.process - INFO - STARTING PROCESS_AND_DISPLAY
2025-05-25 00:06:09,164 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-25 00:06:09,165 - 3WayCoT.GradioApp - INFO - Starting to process prompt...
2025-05-25 00:06:09,165 - 3WayCoT.App - INFO - Processing prompt: Explain the concept of quantum entanglement in simple terms....
2025-05-25 00:06:09,165 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: Explain the concept of quantum entanglement in simple terms.
2025-05-25 00:06:09,166 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: Explain the concept of quantum entanglement in simple terms.

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 00:06:09,169 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 00:06:09,170 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: Explain the concept of quantum entanglement in simple terms.

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 00:06:14,454 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 00:06:14,455 - 3WayCoT.COTGenerator - INFO - Extracted 4 reasoning steps
2025-05-25 00:06:14,456 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 00:06:14,457 - 3WayCoT.COTGenerator - INFO - Only 2 assumptions found for step 1 (expected up to 5). Assumptions: ['Implicit assumption: You measure a property of one entangled particle (like its spin), you instantly know the corresponding property of the other particle, even if they are light-years apart', 'Implicit assumption: If you measure a property of one entangled particle (like its spin), you instantly know the corresponding property of the other particle, even if they are light-years apart']
2025-05-25 00:06:14,457 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (2): ['Implicit assumption: You measure a property of one entangled particle (like its spin), you instantly know the corresponding property of the other particle, even if they are light-years apart', 'Implicit assumption: If you measure a property of one entangled particle (like its spin), you instantly know the corresponding property of the other particle, even if they are light-years apart']
2025-05-25 00:06:14,458 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 00:06:14,459 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 00:06:14,459 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 00:06:14,459 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 00:06:14,461 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 00:06:14,461 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 00:06:14,462 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 00:06:14,462 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 00:06:14,462 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 00:06:14,463 - 3WayCoT.COTGenerator - INFO - Generated 4 reasoning steps with assumptions
2025-05-25 00:06:14,463 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 3
2025-05-25 00:06:14,463 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 00:06:14,463 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'Quantum entanglement describes a phenomenon where two or more particles become linked together in such a way that they share the same fate, regardless of the distance separating them.  This means that if you measure a property of one entangled particle (like its spin), you instantly know the corresponding property of the other particle, even if they are light-years apart.\n\nconfidence: 0.95\nmethod: expert judgment based on established quantum physics principles.  Uncertainty arises from the inherent counter-intuitiveness of the phenomenon relative to classical physics.\nAssumptions:\n1. The principles of quantum mechanics are fundamentally correct.\n2.  Measurement of a quantum property is a well-defined process.\n3.  The speed of information transfer is not necessarily limited by the speed of light in entangled systems. (This is a point of ongoing debate)\n4.  The entangled particles maintain their linked state until measured.\n5.  Our current understanding of quantum mechanics is sufficiently complete to describe entanglement.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: You measure a property of one entangled particle (like its spin), you instantly know the corresponding property of the other particle, even if they are light-years apart', 'Implicit assumption: If you measure a property of one entangled particle (like its spin), you instantly know the corresponding property of the other particle, even if they are light-years apart'], 'annotated_reasoning': 'Quantum entanglement describes a phenomenon where two or more particles become linked together in such a way that they share the same fate, regardless of the distance separating them.  This means that if you measure a property of one entangled particle (like its spin), you instantly know the corresponding property of the other particle, even if they are light-years apart.\n\nconfidence: 0.95\nmethod: expert judgment based on established quantum physics principles.  Uncertainty arises from the inherent counter-intuitiveness of the phenomenon relative to classical physics.\nAssumptions:\n1. The principles of quantum mechanics are fundamentally correct.\n2.  Measurement of a quantum property is a well-defined process.\n3.  The speed of information transfer is not necessarily limited by the speed of light in entangled systems. (This is a point of ongoing debate)\n4.  The entangled particles maintain their linked state until measured.\n5.  Our current understanding of quantum mechanics is sufficiently complete to describe entanglement.\n[Assumptions: Implicit assumption: You measure a property of one entangled particle (like its spin), you instantly know the corresponding property of the other particle, even if they are light-years apart; Implicit assumption: If you measure a property of one entangled particle (like its spin), you instantly know the corresponding property of the other particle, even if they are light-years apart]'}, {'step_num': 2, 'reasoning': 'This "link" isn\'t a classical connection like a string; it\'s a fundamentally quantum correlation.  The particles don\'t communicate information faster than light; rather, their properties are correlated in a way that\'s only explainable through the framework of quantum mechanics.  Measuring one instantly determines the state of the other, but no information is actually transmitted faster than light.\n\nconfidence: 0.80\nmethod: expert judgment, combining understanding of quantum mechanics and the limitations of information transfer. Uncertainty stems from the ongoing debate about the interpretation of quantum mechanics.\nAssumptions:\n1.  The principle of locality (information cannot travel faster than light) holds true.\n2.  Quantum mechanics provides a complete description of reality.\n3.  Our interpretation of measurement in quantum mechanics is correct.\n4.  The correlation between entangled particles is non-classical.\n5.  There are no hidden variables influencing the outcome of measurements.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'This "link" isn\'t a classical connection like a string; it\'s a fundamentally quantum correlation.  The particles don\'t communicate information faster than light; rather, their properties are correlated in a way that\'s only explainable through the framework of quantum mechanics.  Measuring one instantly determines the state of the other, but no information is actually transmitted faster than light.\n\nconfidence: 0.80\nmethod: expert judgment, combining understanding of quantum mechanics and the limitations of information transfer. Uncertainty stems from the ongoing debate about the interpretation of quantum mechanics.\nAssumptions:\n1.  The principle of locality (information cannot travel faster than light) holds true.\n2.  Quantum mechanics provides a complete description of reality.\n3.  Our interpretation of measurement in quantum mechanics is correct.\n4.  The correlation between entangled particles is non-classical.\n5.  There are no hidden variables influencing the outcome of measurements.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': 'The implications of entanglement are profound, impacting areas like quantum computing and cryptography.  Entangled particles can be used to create incredibly secure communication systems, as any attempt to eavesdrop would disrupt the entanglement.  Furthermore, entanglement is a crucial resource for quantum computation.\n\nconfidence: 0.75\nmethod: expert judgment based on current research in quantum information science. Uncertainty lies in the technological challenges of scaling up quantum technologies.\nAssumptions:\n1.  Quantum computers will eventually be built and will be superior to classical computers for certain tasks.\n2.  Entanglement is a necessary resource for quantum computation.\n3.  Quantum key distribution (QKD) is a viable method for secure communication.\n4.  Technological challenges in manipulating and controlling entangled systems will be overcome.\n5.  The practical applications of quantum entanglement will outweigh the associated challenges.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The implications of entanglement are profound, impacting areas like quantum computing and cryptography.  Entangled particles can be used to create incredibly secure communication systems, as any attempt to eavesdrop would disrupt the entanglement.  Furthermore, entanglement is a crucial resource for quantum computation.\n\nconfidence: 0.75\nmethod: expert judgment based on current research in quantum information science. Uncertainty lies in the technological challenges of scaling up quantum technologies.\nAssumptions:\n1.  Quantum computers will eventually be built and will be superior to classical computers for certain tasks.\n2.  Entanglement is a necessary resource for quantum computation.\n3.  Quantum key distribution (QKD) is a viable method for secure communication.\n4.  Technological challenges in manipulating and controlling entangled systems will be overcome.\n5.  The practical applications of quantum entanglement will outweigh the associated challenges.\n[Assumptions: ]'}, {'step_num': 4, 'reasoning': "Final Answer: Quantum entanglement is a phenomenon where two or more particles become linked together, sharing the same fate regardless of distance.  This link is a quantum correlation, not a classical connection, and doesn't allow for faster-than-light communication.  It has profound implications for quantum computing and cryptography.\n\nconfidence: 0.85\nmethod: synthesis of expert judgment across steps, acknowledging uncertainties in interpretation and technological development.", 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': "Final Answer: Quantum entanglement is a phenomenon where two or more particles become linked together, sharing the same fate regardless of distance.  This link is a quantum correlation, not a classical connection, and doesn't allow for faster-than-light communication.  It has profound implications for quantum computing and cryptography.\n\nconfidence: 0.85\nmethod: synthesis of expert judgment across steps, acknowledging uncertainties in interpretation and technological development.\n[Assumptions: Confidence level: 0.5]"}]
2025-05-25 00:06:14,471 - 3WayCoT.App - INFO - Generated 4 reasoning steps in 5.31 seconds
2025-05-25 00:06:14,471 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 00:06:14,472 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.80 (high)
2025-05-25 00:06:14,472 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.75 (high)
2025-05-25 00:06:14,472 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.85 (high)
2025-05-25 00:06:14,473 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-expert judgment based on established quantum physics principles.  uncertainty arises from the inherent counter-intuitiveness of the phenomenon relative to classical physics.
2025-05-25 00:06:14,473 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.80 (high) using method: structured-expert judgment, combining understanding of quantum mechanics and the limitations of information transfer. uncertainty stems from the ongoing debate about the interpretation of quantum mechanics.
2025-05-25 00:06:14,473 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.75 (high) using method: structured-expert judgment based on current research in quantum information science. uncertainty lies in the technological challenges of scaling up quantum technologies.
2025-05-25 00:06:14,474 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.85 (high) using method: structured-synthesis of expert judgment across steps, acknowledging uncertainties in interpretation and technological development.
2025-05-25 00:06:14,490 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 00:06:14,491 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.8375, 'max': 0.95, 'min': 0.75, 'range': 0.19999999999999996, 'variance': 0.005468749999999997, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.09999999999999998}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 00:06:14,493 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 00:06:14,493 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.8375, 'max': 0.95, 'min': 0.75, 'range': 0.19999999999999996, 'variance': 0.005468749999999997, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.09999999999999998}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 00:06:14,494 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 4, 'avg_confidence': 0.8375, 'min_confidence': 0.75, 'max_confidence': 0.95, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 00:06:14,495 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 00:06:14,495 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.876, reject=0.124, abstain=0.000, confidence=0.800
2025-05-25 00:06:14,496 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.835, reject=0.165, abstain=0.000, confidence=0.750
2025-05-25 00:06:14,496 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.912, reject=0.088, abstain=0.000, confidence=0.850
2025-05-25 00:06:14,497 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.8375, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 00:06:14,497 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.8, 'explanation': 'High confidence in step validity (confidence=0.800, accept=0.876, reject=0.124)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.7500000000000002, 'reject': 0.16666666666666663, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.75, 'explanation': 'High confidence in step validity (confidence=0.750, accept=0.835, reject=0.165)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.6250000000000001, 'reject': 0.20833333333333331, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.85, 'explanation': 'High confidence in step validity (confidence=0.850, accept=0.912, reject=0.088)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.875, 'reject': 0.125, 'abstain': 0.0}}], 'summary': {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.8375, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T00:06:14.493687', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.8375, 'max': 0.95, 'min': 0.75, 'range': 0.19999999999999996, 'variance': 0.005468749999999997, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.09999999999999998}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 4, 'avg_confidence': 0.8375, 'min_confidence': 0.75, 'max_confidence': 0.95, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}}}
2025-05-25 00:06:14,501 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.84
2025-05-25 00:06:14,501 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 00:06:14,502 - 3WayCoT.App - INFO - Decision summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 00:06:14,502 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.84
2025-05-25 00:06:14,503 - 3WayCoT.GradioApp - INFO - Successfully processed prompt
2025-05-25 00:06:14,503 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 00:06:14,503 - 3WayCoT.GradioApp - INFO - PROCESSING CONFIDENCE SCORE
2025-05-25 00:06:14,503 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 00:06:14,504 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 00:06:14,504 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 00:06:14,504 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 00:06:14,505 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 00:06:14,505 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 00:06:14,505 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 00:06:14,506 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted', 'confidence_metrics', 'confidence_distribution']
2025-05-25 00:06:14,506 - 3WayCoT.GradioApp - INFO -    📊 Confidence distribution: {'count': 4, 'avg_confidence': 0.8375, 'min_confidence': 0.75, 'max_confidence': 0.95, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 00:06:14,507 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 00:06:14,507 - 3WayCoT.GradioApp - INFO -    - avg_confidence_accept: 0.8375
2025-05-25 00:06:14,507 - 3WayCoT.GradioApp - INFO -    - avg_confidence_reject: 0.0
2025-05-25 00:06:14,508 - 3WayCoT.GradioApp - INFO -    - avg_confidence_abstain: 0.0
2025-05-25 00:06:14,508 - 3WayCoT.GradioApp - INFO -    - confidence_alignment: 1.0
2025-05-25 00:06:14,508 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 00:06:14,509 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 00:06:14,509 - 3WayCoT.GradioApp - INFO - Added metrics from confidence_distribution: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio']
2025-05-25 00:06:14,510 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 00:06:14,511 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'min_confidence': 0.75, 'max_confidence': 0.95, 'avg_confidence': 0.8375, 'high_confidence_ratio': 1.0, 'medium_confidence_ratio': 0.0, 'low_confidence_ratio': 0.0, 'accept_confidence': 0.8375, 'reject_confidence': 0.0, 'abstain_confidence': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 00:06:15,354 - 3WayCoT.GradioApp.process - INFO - Initial metrics: {'accept_rate': '0.0%', 'avg_confidence': '83.8%', 'consistency': '100.0%'}
2025-05-25 00:06:15,355 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-25 00:06:15,356 - 3WayCoT.GradioApp.process - INFO - PROCESSING CONFIDENCE SCORE
2025-05-25 00:06:15,356 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-25 00:06:15,356 - 3WayCoT.GradioApp.process - INFO - 🔍 Available metrics keys: ['accept_rate', 'avg_confidence', 'consistency']
2025-05-25 00:06:15,357 - 3WayCoT.GradioApp.process - INFO - 🔍 Confidence-related metrics: {'avg_confidence': '83.8%'}
2025-05-25 00:06:15,357 - 3WayCoT.GradioApp.process - INFO - 🔍 Potential confidence sources:
2025-05-25 00:06:15,358 - 3WayCoT.GradioApp.process - INFO -    - direct_confidence: None (type: None)
2025-05-25 00:06:15,358 - 3WayCoT.GradioApp.process - INFO -    - avg_confidence: 83.8% (type: str)
2025-05-25 00:06:15,358 - 3WayCoT.GradioApp.process - INFO -    - accept_confidence: None (type: None)
2025-05-25 00:06:15,359 - 3WayCoT.GradioApp.process - INFO -    - confidence_metrics: None (type: None)
2025-05-25 00:06:15,359 - 3WayCoT.GradioApp.process - INFO -    - any_confidence_key: 83.8% (type: str)
2025-05-25 00:06:15,360 - 3WayCoT.GradioApp.process - INFO - ✅ Using confidence score from avg_confidence: 83.8%
2025-05-25 00:06:15,360 - 3WayCoT.GradioApp.process - INFO - 🔢 Processed confidence score: 0.8380
2025-05-25 00:06:15,360 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0.838 (type: float)
2025-05-25 00:06:15,361 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.838
2025-05-25 00:06:15,361 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.838
2025-05-25 00:06:15,362 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 83.8%
2025-05-25 00:06:15,362 - 3WayCoT.GradioApp.process - INFO - 📊 Formatted confidence display: 83.8
2025-05-25 00:06:15,363 - 3WayCoT.GradioApp.process - INFO - --------------------------------------------------------------------------------
2025-05-25 00:06:15,363 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0.0% (type: str)
2025-05-25 00:06:15,363 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '0.0%'
2025-05-25 00:06:15,364 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '0.0'
2025-05-25 00:06:15,364 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-25 00:06:15,365 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-25 00:06:15,365 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-25 00:06:15,365 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 83.8% (type: str)
2025-05-25 00:06:15,366 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '83.8%'
2025-05-25 00:06:15,366 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '83.8'
2025-05-25 00:06:15,367 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 83.8
2025-05-25 00:06:15,367 - 3WayCoT.GradioApp.process - INFO -    - Value > 1.0, assuming percentage: 83.8%
2025-05-25 00:06:15,368 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.838
2025-05-25 00:06:15,368 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 83.8%
2025-05-25 00:06:15,368 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 100.0% (type: str)
2025-05-25 00:06:15,369 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '100.0%'
2025-05-25 00:06:15,369 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '100.0'
2025-05-25 00:06:15,370 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 100.0
2025-05-25 00:06:15,370 - 3WayCoT.GradioApp.process - INFO -    - Value > 1.0, assuming percentage: 100.0%
2025-05-25 00:06:15,370 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 1.0
2025-05-25 00:06:15,371 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 100%
2025-05-25 00:10:24,273 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 00:10:32,635 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 00:10:33,637 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 00:10:33,639 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 00:10:34,151 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 00:10:34,153 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 00:10:34,153 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 00:10:34,153 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 00:10:34,153 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 00:10:34,153 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 00:10:34,834 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 00:10:35,336 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:10:36,008 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:10:37,235 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 00:10:39,327 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 00:11:21,858 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-25 00:11:21,858 - 3WayCoT.GradioApp.process - INFO - STARTING PROCESS_AND_DISPLAY
2025-05-25 00:11:21,858 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-25 00:11:21,859 - 3WayCoT.GradioApp - INFO - Starting to process prompt...
2025-05-25 00:11:21,859 - 3WayCoT.App - INFO - Processing prompt: What are the ethical implications of artificial intelligence?...
2025-05-25 00:11:21,860 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: What are the ethical implications of artificial intelligence?
2025-05-25 00:11:21,860 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: What are the ethical implications of artificial intelligence?

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 00:11:21,867 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 00:11:21,868 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: What are the ethical implications of artificial intelligence?

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 00:11:28,095 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 00:11:28,097 - 3WayCoT.COTGenerator - INFO - Extracted 5 reasoning steps
2025-05-25 00:11:28,097 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 00:11:28,098 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 00:11:28,098 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 00:11:28,099 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 00:11:28,099 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 00:11:28,100 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 00:11:28,100 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 00:11:28,100 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 00:11:28,101 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 00:11:28,101 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 00:11:28,101 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 4 (expected up to 5). Assumptions: []
2025-05-25 00:11:28,102 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (0): []
2025-05-25 00:11:28,102 - 3WayCoT.COTGenerator - INFO - Processing step 5 for assumptions extraction
2025-05-25 00:11:28,103 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 5 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 00:11:28,103 - 3WayCoT.COTGenerator - INFO - Step 5 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 00:11:28,103 - 3WayCoT.COTGenerator - INFO - Generated 5 reasoning steps with assumptions
2025-05-25 00:11:28,104 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-25 00:11:28,104 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 00:11:28,104 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'Defining the scope of "ethical implications."  We need to clarify what constitutes an ethical implication in the context of AI. This involves considering various stakeholders and their potential interactions with AI systems.\n\nconfidence: 0.90\nmethod: expert judgment based on extensive literature review in AI ethics.  Uncertainty stems from the evolving nature of AI and the ongoing debate surrounding ethical frameworks.\nAssumptions:\n1. Ethical implications are contextual and depend on the specific application of AI.\n2.  Stakeholders include users, developers, affected individuals, and society at large.\n3.  Ethical considerations extend beyond legal frameworks.\n4.  A comprehensive analysis requires considering both potential benefits and harms.\n5.  Bias and fairness are central ethical concerns in AI development and deployment.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Defining the scope of "ethical implications."  We need to clarify what constitutes an ethical implication in the context of AI. This involves considering various stakeholders and their potential interactions with AI systems.\n\nconfidence: 0.90\nmethod: expert judgment based on extensive literature review in AI ethics.  Uncertainty stems from the evolving nature of AI and the ongoing debate surrounding ethical frameworks.\nAssumptions:\n1. Ethical implications are contextual and depend on the specific application of AI.\n2.  Stakeholders include users, developers, affected individuals, and society at large.\n3.  Ethical considerations extend beyond legal frameworks.\n4.  A comprehensive analysis requires considering both potential benefits and harms.\n5.  Bias and fairness are central ethical concerns in AI development and deployment.\n[Assumptions: ]'}, {'step_num': 2, 'reasoning': "Identifying key ethical concerns related to AI.  Based on the defined scope, we can pinpoint specific ethical dilemmas arising from AI's capabilities.  These include issues of bias, accountability, privacy, job displacement, and autonomous weapons systems.\n\nconfidence: 0.80\nmethod: expert judgment combining literature review and analysis of current events. Uncertainty arises from the rapid pace of AI development, which constantly introduces new ethical challenges.\nAssumptions:\n1. Algorithmic bias can perpetuate and amplify existing societal inequalities.\n2.  Establishing accountability for AI-driven decisions is complex and challenging.\n3.  Data privacy and security are paramount concerns in the age of AI.\n4.  Widespread AI adoption may lead to significant job displacement.\n5.  The development and deployment of autonomous weapons raise serious ethical questions.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "Identifying key ethical concerns related to AI.  Based on the defined scope, we can pinpoint specific ethical dilemmas arising from AI's capabilities.  These include issues of bias, accountability, privacy, job displacement, and autonomous weapons systems.\n\nconfidence: 0.80\nmethod: expert judgment combining literature review and analysis of current events. Uncertainty arises from the rapid pace of AI development, which constantly introduces new ethical challenges.\nAssumptions:\n1. Algorithmic bias can perpetuate and amplify existing societal inequalities.\n2.  Establishing accountability for AI-driven decisions is complex and challenging.\n3.  Data privacy and security are paramount concerns in the age of AI.\n4.  Widespread AI adoption may lead to significant job displacement.\n5.  The development and deployment of autonomous weapons raise serious ethical questions.\n[Assumptions: ]"}, {'step_num': 3, 'reasoning': 'Analyzing the impact of these concerns on different stakeholders.  We need to assess how each identified ethical concern affects various groups – users, developers, affected individuals, and society as a whole. This involves considering both short-term and long-term consequences.\n\nconfidence: 0.75\nmethod:  Expert judgment combined with case studies and impact assessments from the literature. Uncertainty stems from the difficulty in predicting the long-term societal effects of AI.\nAssumptions:\n1.  Different stakeholders may experience different levels of impact from AI-related ethical concerns.\n2.  The impact of AI can vary across different social and economic groups.\n3.  Short-term impacts may not accurately reflect long-term consequences.\n4.  Unintended consequences of AI are difficult to predict and mitigate.\n5.  Effective mitigation strategies require collaboration among various stakeholders.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Analyzing the impact of these concerns on different stakeholders.  We need to assess how each identified ethical concern affects various groups – users, developers, affected individuals, and society as a whole. This involves considering both short-term and long-term consequences.\n\nconfidence: 0.75\nmethod:  Expert judgment combined with case studies and impact assessments from the literature. Uncertainty stems from the difficulty in predicting the long-term societal effects of AI.\nAssumptions:\n1.  Different stakeholders may experience different levels of impact from AI-related ethical concerns.\n2.  The impact of AI can vary across different social and economic groups.\n3.  Short-term impacts may not accurately reflect long-term consequences.\n4.  Unintended consequences of AI are difficult to predict and mitigate.\n5.  Effective mitigation strategies require collaboration among various stakeholders.\n[Assumptions: ]'}, {'step_num': 4, 'reasoning': 'Evaluating potential solutions and mitigation strategies.  Exploring methods to address the identified ethical concerns is crucial. This includes technical solutions (e.g., bias mitigation techniques), policy interventions (e.g., regulations), and societal changes (e.g., education and awareness).\n\nconfidence: 0.70\nmethod: Expert judgment informed by existing literature on AI ethics and policy. Significant uncertainty exists due to the lack of established best practices and the rapid evolution of AI technology.\nAssumptions:\n1.  Technological solutions are necessary but not sufficient to address all ethical concerns.\n2.  Effective policy interventions require careful consideration of trade-offs and unintended consequences.\n3.  Societal changes are crucial for fostering responsible AI development and use.\n4.  International collaboration is needed to address global ethical challenges posed by AI.\n5.  Continuous monitoring and evaluation of AI systems are essential for ethical oversight.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Evaluating potential solutions and mitigation strategies.  Exploring methods to address the identified ethical concerns is crucial. This includes technical solutions (e.g., bias mitigation techniques), policy interventions (e.g., regulations), and societal changes (e.g., education and awareness).\n\nconfidence: 0.70\nmethod: Expert judgment informed by existing literature on AI ethics and policy. Significant uncertainty exists due to the lack of established best practices and the rapid evolution of AI technology.\nAssumptions:\n1.  Technological solutions are necessary but not sufficient to address all ethical concerns.\n2.  Effective policy interventions require careful consideration of trade-offs and unintended consequences.\n3.  Societal changes are crucial for fostering responsible AI development and use.\n4.  International collaboration is needed to address global ethical challenges posed by AI.\n5.  Continuous monitoring and evaluation of AI systems are essential for ethical oversight.\n[Assumptions: ]'}, {'step_num': 5, 'reasoning': 'Final Answer: The ethical implications of artificial intelligence are multifaceted and far-reaching, encompassing concerns about bias, accountability, privacy, job displacement, and autonomous weapons.  Addressing these challenges requires a multi-pronged approach involving technological solutions, policy interventions, and societal changes.  The rapid pace of AI development necessitates ongoing evaluation and adaptation of ethical frameworks and mitigation strategies.\n\nconfidence: 0.78\nmethod:  Synthesizing findings from the previous steps, weighted by confidence levels.  Uncertainty persists due to the complexity of the issue and the ongoing evolution of AI technology and its societal impact.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: The ethical implications of artificial intelligence are multifaceted and far-reaching, encompassing concerns about bias, accountability, privacy, job displacement, and autonomous weapons.  Addressing these challenges requires a multi-pronged approach involving technological solutions, policy interventions, and societal changes.  The rapid pace of AI development necessitates ongoing evaluation and adaptation of ethical frameworks and mitigation strategies.\n\nconfidence: 0.78\nmethod:  Synthesizing findings from the previous steps, weighted by confidence levels.  Uncertainty persists due to the complexity of the issue and the ongoing evolution of AI technology and its societal impact.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 00:11:28,112 - 3WayCoT.App - INFO - Generated 5 reasoning steps in 6.25 seconds
2025-05-25 00:11:28,113 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.90 (high)
2025-05-25 00:11:28,113 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.80 (high)
2025-05-25 00:11:28,114 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.75 (high)
2025-05-25 00:11:28,114 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.70 (medium)
2025-05-25 00:11:28,114 - 3WayCoT.App - INFO - Step 5: Extracted confidence 0.78 (high)
2025-05-25 00:11:28,115 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.90 (high) using method: structured-expert judgment based on extensive literature review in ai ethics.  uncertainty stems from the evolving nature of ai and the ongoing debate surrounding ethical frameworks.
2025-05-25 00:11:28,115 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.80 (high) using method: structured-expert judgment combining literature review and analysis of current events. uncertainty arises from the rapid pace of ai development, which constantly introduces new ethical challenges.
2025-05-25 00:11:28,116 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.75 (high) using method: structured-expert judgment combined with case studies and impact assessments from the literature. uncertainty stems from the difficulty in predicting the long-term societal effects of ai.
2025-05-25 00:11:28,117 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.70 (high) using method: structured-expert judgment informed by existing literature on ai ethics and policy. significant uncertainty exists due to the lack of established best practices and the rapid evolution of ai technology.
2025-05-25 00:11:28,117 - 3WayCoT.ConfidenceExtractor - INFO - Step 5: Extracted confidence 0.78 (high) using method: structured-synthesizing findings from the previous steps, weighted by confidence levels.  uncertainty persists due to the complexity of the issue and the ongoing evolution of ai technology and its societal impact.
2025-05-25 00:11:28,165 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 00:11:28,166 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.786, 'max': 0.9, 'min': 0.7, 'range': 0.20000000000000007, 'variance': 0.0043840000000000025, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.12}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 00:11:28,167 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 00:11:28,167 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.786, 'max': 0.9, 'min': 0.7, 'range': 0.20000000000000007, 'variance': 0.0043840000000000025, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.12}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 00:11:28,168 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 5, 'avg_confidence': 0.786, 'min_confidence': 0.7, 'max_confidence': 0.9, 'distribution': {'high': 5, 'medium': 0, 'low': 0}}
2025-05-25 00:11:28,169 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.945, reject=0.055, abstain=0.000, confidence=0.900
2025-05-25 00:11:28,169 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.876, reject=0.124, abstain=0.000, confidence=0.800
2025-05-25 00:11:28,169 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.835, reject=0.165, abstain=0.000, confidence=0.750
2025-05-25 00:11:28,169 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.788, reject=0.212, abstain=0.000, confidence=0.700
2025-05-25 00:11:28,170 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.860, reject=0.140, abstain=0.000, confidence=0.780
2025-05-25 00:11:28,170 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 5, 'accept_count': 5, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.786, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 00:11:28,171 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.9, 'explanation': 'High confidence in step validity (confidence=0.900, accept=0.945, reject=0.055)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.08333333333333331, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.8, 'explanation': 'High confidence in step validity (confidence=0.800, accept=0.876, reject=0.124)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.7500000000000002, 'reject': 0.16666666666666663, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.75, 'explanation': 'High confidence in step validity (confidence=0.750, accept=0.835, reject=0.165)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.6250000000000001, 'reject': 0.20833333333333331, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.7, 'explanation': 'High confidence in step validity (confidence=0.700, accept=0.788, reject=0.212)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.5, 'reject': 0.25000000000000006, 'abstain': 3.3306690738754696e-16}}, {'step_index': 4, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.78, 'explanation': 'High confidence in step validity (confidence=0.780, accept=0.860, reject=0.140)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.7000000000000002, 'reject': 0.1833333333333333, 'abstain': 0.0}}], 'summary': {'total_steps': 5, 'accept_count': 5, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.786, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T00:11:28.167198', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.786, 'max': 0.9, 'min': 0.7, 'range': 0.20000000000000007, 'variance': 0.0043840000000000025, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.12}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 5, 'avg_confidence': 0.786, 'min_confidence': 0.7, 'max_confidence': 0.9, 'distribution': {'high': 5, 'medium': 0, 'low': 0}}}}
2025-05-25 00:11:28,174 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.79
2025-05-25 00:11:28,174 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=5, REJECT=0, ABSTAIN=0
2025-05-25 00:11:28,175 - 3WayCoT.App - INFO - Decision summary: ACCEPT=5, REJECT=0, ABSTAIN=0
2025-05-25 00:11:28,175 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.79
2025-05-25 00:11:28,176 - 3WayCoT.GradioApp - INFO - Successfully processed prompt
2025-05-25 00:11:28,176 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 00:11:28,176 - 3WayCoT.GradioApp - INFO - PROCESSING CONFIDENCE SCORE
2025-05-25 00:11:28,177 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 00:11:28,177 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 00:11:28,177 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 00:11:28,177 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 00:11:28,177 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 00:11:28,178 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 00:11:28,178 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 00:11:28,178 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted', 'confidence_metrics', 'confidence_distribution']
2025-05-25 00:11:28,179 - 3WayCoT.GradioApp - INFO -    📊 Confidence distribution: {'count': 5, 'avg_confidence': 0.786, 'min_confidence': 0.7, 'max_confidence': 0.9, 'distribution': {'high': 5, 'medium': 0, 'low': 0}}
2025-05-25 00:11:28,180 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 00:11:28,180 - 3WayCoT.GradioApp - INFO -    - avg_confidence_accept: 0.786
2025-05-25 00:11:28,180 - 3WayCoT.GradioApp - INFO -    - avg_confidence_reject: 0.0
2025-05-25 00:11:28,181 - 3WayCoT.GradioApp - INFO -    - avg_confidence_abstain: 0.0
2025-05-25 00:11:28,181 - 3WayCoT.GradioApp - INFO -    - confidence_alignment: 1.0
2025-05-25 00:11:28,181 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 00:11:28,182 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 00:11:28,182 - 3WayCoT.GradioApp - INFO - Added metrics from confidence_distribution: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio']
2025-05-25 00:11:28,182 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 00:11:28,183 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'min_confidence': 0.7, 'max_confidence': 0.9, 'avg_confidence': 0.786, 'high_confidence_ratio': 1.0, 'medium_confidence_ratio': 0.0, 'low_confidence_ratio': 0.0, 'accept_confidence': 0.786, 'reject_confidence': 0.0, 'abstain_confidence': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 00:11:28,183 - 3WayCoT.GradioApp - INFO - Found 5 reasoning steps in result_data['reasoning_steps']
2025-05-25 00:11:28,184 - 3WayCoT.GradioApp - INFO - Processed 5 reasoning steps
2025-05-25 00:11:28,764 - 3WayCoT.GradioApp.process - INFO - Initial metrics: {'accept_rate': '0.0%', 'avg_confidence': '78.6%', 'consistency': '100.0%'}
2025-05-25 00:11:28,765 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-25 00:11:28,766 - 3WayCoT.GradioApp.process - INFO - PROCESSING CONFIDENCE SCORE
2025-05-25 00:11:28,766 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-25 00:11:28,766 - 3WayCoT.GradioApp.process - INFO - 🔍 Available metrics keys: ['accept_rate', 'avg_confidence', 'consistency']
2025-05-25 00:11:28,766 - 3WayCoT.GradioApp.process - INFO - 🔍 Confidence-related metrics: {'avg_confidence': '78.6%'}
2025-05-25 00:11:28,767 - 3WayCoT.GradioApp.process - INFO - 🔍 Potential confidence sources:
2025-05-25 00:11:28,767 - 3WayCoT.GradioApp.process - INFO -    - direct_confidence: None (type: None)
2025-05-25 00:11:28,767 - 3WayCoT.GradioApp.process - INFO -    - avg_confidence: 78.6% (type: str)
2025-05-25 00:11:28,767 - 3WayCoT.GradioApp.process - INFO -    - accept_confidence: None (type: None)
2025-05-25 00:11:28,768 - 3WayCoT.GradioApp.process - INFO -    - confidence_metrics: None (type: None)
2025-05-25 00:11:28,768 - 3WayCoT.GradioApp.process - INFO -    - any_confidence_key: 78.6% (type: str)
2025-05-25 00:11:28,768 - 3WayCoT.GradioApp.process - INFO - ✅ Using confidence score from avg_confidence: 78.6%
2025-05-25 00:11:28,768 - 3WayCoT.GradioApp.process - INFO - 🔢 Processed confidence score: 0.7860
2025-05-25 00:11:28,769 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0.7859999999999999 (type: float)
2025-05-25 00:11:28,769 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.7859999999999999
2025-05-25 00:11:28,769 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.7859999999999999
2025-05-25 00:11:28,770 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 78.6%
2025-05-25 00:11:28,770 - 3WayCoT.GradioApp.process - INFO - 📊 Formatted confidence display: 78.6
2025-05-25 00:11:28,770 - 3WayCoT.GradioApp.process - INFO - --------------------------------------------------------------------------------
2025-05-25 00:11:28,771 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0.0% (type: str)
2025-05-25 00:11:28,771 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '0.0%'
2025-05-25 00:11:28,771 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '0.0'
2025-05-25 00:11:28,771 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-25 00:11:28,772 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-25 00:11:28,772 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-25 00:11:28,772 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 78.6% (type: str)
2025-05-25 00:11:28,773 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '78.6%'
2025-05-25 00:11:28,773 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '78.6'
2025-05-25 00:11:28,774 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 78.6
2025-05-25 00:11:28,774 - 3WayCoT.GradioApp.process - INFO -    - Value > 1.0, assuming percentage: 78.6%
2025-05-25 00:11:28,774 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.7859999999999999
2025-05-25 00:11:28,775 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 78.6%
2025-05-25 00:11:28,775 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 100.0% (type: str)
2025-05-25 00:11:28,776 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '100.0%'
2025-05-25 00:11:28,776 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '100.0'
2025-05-25 00:11:28,776 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 100.0
2025-05-25 00:11:28,777 - 3WayCoT.GradioApp.process - INFO -    - Value > 1.0, assuming percentage: 100.0%
2025-05-25 00:11:28,777 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 1.0
2025-05-25 00:11:28,777 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 100%
2025-05-25 00:13:08,900 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 00:13:19,678 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 00:13:20,416 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 00:13:20,418 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 00:13:20,839 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 00:13:20,840 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 00:13:20,840 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 00:13:20,841 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 00:13:20,841 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 00:13:20,842 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 00:13:21,488 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 00:13:22,045 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:13:22,492 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:13:23,805 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 00:13:25,855 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 00:13:48,874 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-25 00:13:48,875 - 3WayCoT.GradioApp.process - INFO - STARTING PROCESS_AND_DISPLAY
2025-05-25 00:13:48,876 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-25 00:13:48,877 - 3WayCoT.GradioApp - INFO - Starting to process prompt...
2025-05-25 00:13:48,877 - 3WayCoT.App - INFO - Processing prompt: How does the three-way decision framework improve upon traditional binary classification?...
2025-05-25 00:13:48,877 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: How does the three-way decision framework improve upon traditional binary classification?
2025-05-25 00:13:48,878 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: How does the three-way decision framework improve upon traditional binary classification?

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 00:13:48,885 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 00:13:48,885 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: How does the three-way decision framework improve upon traditional binary classification?

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 00:13:54,218 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 00:13:54,220 - 3WayCoT.COTGenerator - INFO - Extracted 5 reasoning steps
2025-05-25 00:13:54,220 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 00:13:54,222 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 00:13:54,222 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 00:13:54,223 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 00:13:54,223 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 2 (expected up to 5). Assumptions: ['Implicit assumption: The cost of misclassification is high']
2025-05-25 00:13:54,224 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (1): ['Implicit assumption: The cost of misclassification is high']
2025-05-25 00:13:54,224 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 00:13:54,224 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 3 (expected up to 5). Assumptions: ['Implicit assumption: The evidence is weak']
2025-05-25 00:13:54,225 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (1): ['Implicit assumption: The evidence is weak']
2025-05-25 00:13:54,225 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 00:13:54,226 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 4 (expected up to 5). Assumptions: []
2025-05-25 00:13:54,226 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (0): []
2025-05-25 00:13:54,227 - 3WayCoT.COTGenerator - INFO - Processing step 5 for assumptions extraction
2025-05-25 00:13:54,227 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 5 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 00:13:54,228 - 3WayCoT.COTGenerator - INFO - Step 5 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 00:13:54,228 - 3WayCoT.COTGenerator - INFO - Generated 5 reasoning steps with assumptions
2025-05-25 00:13:54,228 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 3
2025-05-25 00:13:54,228 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 00:13:54,229 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'The three-way decision framework introduces a third outcome, "defer," in addition to the traditional binary classification of "positive" and "negative." This allows for situations where the available data is insufficient to make a confident decision.\n\nconfidence: 0.95\nmethod: expert judgment based on extensive literature review of three-way decision making.\nAssumptions:\n1. The core concept of three-way decision is well-defined and understood.\n2.  Binary classification is a well-established method.\n3. "Defer" represents a valid and distinct outcome.\n4. The addition of a "defer" option is a meaningful improvement.\n5.  Sufficient information exists to compare the two frameworks.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The three-way decision framework introduces a third outcome, "defer," in addition to the traditional binary classification of "positive" and "negative." This allows for situations where the available data is insufficient to make a confident decision.\n\nconfidence: 0.95\nmethod: expert judgment based on extensive literature review of three-way decision making.\nAssumptions:\n1. The core concept of three-way decision is well-defined and understood.\n2.  Binary classification is a well-established method.\n3. "Defer" represents a valid and distinct outcome.\n4. The addition of a "defer" option is a meaningful improvement.\n5.  Sufficient information exists to compare the two frameworks.\n[Assumptions: ]'}, {'step_num': 2, 'reasoning': 'The "defer" option reduces misclassification errors. By delaying a decision until more information is available, the risk of incorrectly classifying an instance as positive or negative is minimized. This is particularly beneficial when the cost of misclassification is high.\n\nconfidence: 0.80\nmethod: logical deduction based on the definition of the "defer" option; inherent limitations due to the absence of specific cost functions.\nAssumptions:\n1.  More information can always reduce classification error.\n2. The cost of misclassification is relevant and quantifiable.\n3. The "defer" option leads to a more informed decision later.\n4. Obtaining additional information is feasible.\n5. The process of obtaining further information is efficient.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: The cost of misclassification is high'], 'annotated_reasoning': 'The "defer" option reduces misclassification errors. By delaying a decision until more information is available, the risk of incorrectly classifying an instance as positive or negative is minimized. This is particularly beneficial when the cost of misclassification is high.\n\nconfidence: 0.80\nmethod: logical deduction based on the definition of the "defer" option; inherent limitations due to the absence of specific cost functions.\nAssumptions:\n1.  More information can always reduce classification error.\n2. The cost of misclassification is relevant and quantifiable.\n3. The "defer" option leads to a more informed decision later.\n4. Obtaining additional information is feasible.\n5. The process of obtaining further information is efficient.\n[Assumptions: Implicit assumption: The cost of misclassification is high]'}, {'step_num': 3, 'reasoning': 'The three-way decision framework allows for a more nuanced and adaptive approach to decision making. It acknowledges the uncertainty inherent in many classification problems and provides a mechanism to handle this uncertainty explicitly.  This contrasts with binary classification, which often forces a decision even when the evidence is weak.\n\nconfidence: 0.75\nmethod: comparative analysis; limitations arise from the subjective nature of "nuance" and "adaptive approach."\nAssumptions:\n1. Uncertainty is a common feature in classification problems.\n2. Explicit handling of uncertainty improves decision quality.\n3.  Adaptive approaches are generally superior to rigid ones.\n4. The "defer" option facilitates a more adaptive approach.\n5.  The benefit of nuance outweighs the added complexity.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: The evidence is weak'], 'annotated_reasoning': 'The three-way decision framework allows for a more nuanced and adaptive approach to decision making. It acknowledges the uncertainty inherent in many classification problems and provides a mechanism to handle this uncertainty explicitly.  This contrasts with binary classification, which often forces a decision even when the evidence is weak.\n\nconfidence: 0.75\nmethod: comparative analysis; limitations arise from the subjective nature of "nuance" and "adaptive approach."\nAssumptions:\n1. Uncertainty is a common feature in classification problems.\n2. Explicit handling of uncertainty improves decision quality.\n3.  Adaptive approaches are generally superior to rigid ones.\n4. The "defer" option facilitates a more adaptive approach.\n5.  The benefit of nuance outweighs the added complexity.\n[Assumptions: Implicit assumption: The evidence is weak]'}, {'step_num': 4, 'reasoning': "The framework's improvement is context-dependent. In situations with low cost of misclassification or readily available information, the added complexity of a three-way decision might not justify the improvement.\n\nconfidence: 0.90\nmethod: expert judgment considering practical applications; limitations stem from the inability to quantify all possible contexts.\nAssumptions:\n1. The cost of misclassification varies across applications.\n2. Information availability varies across applications.\n3.  Computational cost is a factor in decision-making.\n4.  Simplicity can be a valuable asset in decision-making.\n5.  Optimal decision-making depends on context.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "The framework's improvement is context-dependent. In situations with low cost of misclassification or readily available information, the added complexity of a three-way decision might not justify the improvement.\n\nconfidence: 0.90\nmethod: expert judgment considering practical applications; limitations stem from the inability to quantify all possible contexts.\nAssumptions:\n1. The cost of misclassification varies across applications.\n2. Information availability varies across applications.\n3.  Computational cost is a factor in decision-making.\n4.  Simplicity can be a valuable asset in decision-making.\n5.  Optimal decision-making depends on context.\n[Assumptions: ]"}, {'step_num': 5, 'reasoning': 'Final Answer: The three-way decision framework improves upon traditional binary classification by explicitly incorporating uncertainty and reducing misclassification errors through the "defer" option.  However, this improvement is context-dependent and might not always outweigh the added complexity.\n\nconfidence: 0.85\nmethod:  Synthesis of findings from all steps;  uncertainty arises from the inherent subjectivity involved in evaluating the relative importance of accuracy versus complexity.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: The three-way decision framework improves upon traditional binary classification by explicitly incorporating uncertainty and reducing misclassification errors through the "defer" option.  However, this improvement is context-dependent and might not always outweigh the added complexity.\n\nconfidence: 0.85\nmethod:  Synthesis of findings from all steps;  uncertainty arises from the inherent subjectivity involved in evaluating the relative importance of accuracy versus complexity.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 00:13:54,238 - 3WayCoT.App - INFO - Generated 5 reasoning steps in 5.36 seconds
2025-05-25 00:13:54,239 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 00:13:54,240 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.80 (high)
2025-05-25 00:13:54,240 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.75 (high)
2025-05-25 00:13:54,240 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.90 (high)
2025-05-25 00:13:54,241 - 3WayCoT.App - INFO - Step 5: Extracted confidence 0.85 (high)
2025-05-25 00:13:54,241 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-expert judgment based on extensive literature review of three-way decision making.
2025-05-25 00:13:54,242 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.80 (high) using method: structured-logical deduction based on the definition of the "defer" option; inherent limitations due to the absence of specific cost functions.
2025-05-25 00:13:54,242 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.75 (high) using method: structured-comparative analysis; limitations arise from the subjective nature of "nuance" and "adaptive approach."
2025-05-25 00:13:54,242 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.90 (high) using method: structured-expert judgment considering practical applications; limitations stem from the inability to quantify all possible contexts.
2025-05-25 00:13:54,243 - 3WayCoT.ConfidenceExtractor - INFO - Step 5: Extracted confidence 0.85 (high) using method: structured-synthesis of findings from all steps;  uncertainty arises from the inherent subjectivity involved in evaluating the relative importance of accuracy versus complexity.
2025-05-25 00:13:54,258 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 00:13:54,260 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.85, 'max': 0.95, 'min': 0.75, 'range': 0.19999999999999996, 'variance': 0.0049999999999999975, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.09999999999999998}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 00:13:54,261 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 00:13:54,261 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.85, 'max': 0.95, 'min': 0.75, 'range': 0.19999999999999996, 'variance': 0.0049999999999999975, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.09999999999999998}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 00:13:54,262 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 5, 'avg_confidence': 0.85, 'min_confidence': 0.75, 'max_confidence': 0.95, 'distribution': {'high': 5, 'medium': 0, 'low': 0}}
2025-05-25 00:13:54,263 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 00:13:54,264 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.876, reject=0.124, abstain=0.000, confidence=0.800
2025-05-25 00:13:54,264 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.835, reject=0.165, abstain=0.000, confidence=0.750
2025-05-25 00:13:54,265 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.945, reject=0.055, abstain=0.000, confidence=0.900
2025-05-25 00:13:54,265 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.912, reject=0.088, abstain=0.000, confidence=0.850
2025-05-25 00:13:54,266 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 5, 'accept_count': 5, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.85, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 00:13:54,267 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.8, 'explanation': 'High confidence in step validity (confidence=0.800, accept=0.876, reject=0.124)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.7500000000000002, 'reject': 0.16666666666666663, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.75, 'explanation': 'High confidence in step validity (confidence=0.750, accept=0.835, reject=0.165)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.6250000000000001, 'reject': 0.20833333333333331, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.9, 'explanation': 'High confidence in step validity (confidence=0.900, accept=0.945, reject=0.055)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.08333333333333331, 'abstain': 0.0}}, {'step_index': 4, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.85, 'explanation': 'High confidence in step validity (confidence=0.850, accept=0.912, reject=0.088)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.875, 'reject': 0.125, 'abstain': 0.0}}], 'summary': {'total_steps': 5, 'accept_count': 5, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.85, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T00:13:54.261289', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.85, 'max': 0.95, 'min': 0.75, 'range': 0.19999999999999996, 'variance': 0.0049999999999999975, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.09999999999999998}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 5, 'avg_confidence': 0.85, 'min_confidence': 0.75, 'max_confidence': 0.95, 'distribution': {'high': 5, 'medium': 0, 'low': 0}}}}
2025-05-25 00:13:54,271 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.85
2025-05-25 00:13:54,272 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=5, REJECT=0, ABSTAIN=0
2025-05-25 00:13:54,272 - 3WayCoT.App - INFO - Decision summary: ACCEPT=5, REJECT=0, ABSTAIN=0
2025-05-25 00:13:54,272 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.85
2025-05-25 00:13:54,273 - 3WayCoT.GradioApp - INFO - Successfully processed prompt
2025-05-25 00:13:54,273 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 00:13:54,274 - 3WayCoT.GradioApp - INFO - PROCESSING CONFIDENCE SCORE
2025-05-25 00:13:54,274 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 00:13:54,274 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 00:13:54,275 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 00:13:54,275 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 00:13:54,275 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 00:13:54,276 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 00:13:54,276 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 00:13:54,277 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted', 'confidence_metrics', 'confidence_distribution']
2025-05-25 00:13:54,277 - 3WayCoT.GradioApp - INFO -    📊 Confidence distribution: {'count': 5, 'avg_confidence': 0.85, 'min_confidence': 0.75, 'max_confidence': 0.95, 'distribution': {'high': 5, 'medium': 0, 'low': 0}}
2025-05-25 00:13:54,278 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 00:13:54,278 - 3WayCoT.GradioApp - INFO -    - avg_confidence_accept: 0.85
2025-05-25 00:13:54,278 - 3WayCoT.GradioApp - INFO -    - avg_confidence_reject: 0.0
2025-05-25 00:13:54,278 - 3WayCoT.GradioApp - INFO -    - avg_confidence_abstain: 0.0
2025-05-25 00:13:54,278 - 3WayCoT.GradioApp - INFO -    - confidence_alignment: 1.0
2025-05-25 00:13:54,279 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 00:13:54,279 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 00:13:54,279 - 3WayCoT.GradioApp - INFO - Added metrics from confidence_distribution: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio']
2025-05-25 00:13:54,280 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 00:13:54,281 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'min_confidence': 0.75, 'max_confidence': 0.95, 'avg_confidence': 0.85, 'high_confidence_ratio': 1.0, 'medium_confidence_ratio': 0.0, 'low_confidence_ratio': 0.0, 'accept_confidence': 0.85, 'reject_confidence': 0.0, 'abstain_confidence': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 00:13:54,281 - 3WayCoT.GradioApp - INFO - Found 5 reasoning steps in result_data['reasoning_steps']
2025-05-25 00:13:54,282 - 3WayCoT.GradioApp - INFO - Processed 5 reasoning steps
2025-05-25 00:13:55,013 - 3WayCoT.GradioApp.process - INFO - Initial metrics: {'accept_rate': '0.0%', 'avg_confidence': '85.0%', 'consistency': '100.0%'}
2025-05-25 00:13:55,014 - 3WayCoT.GradioApp.process - INFO - 
================================================================================
2025-05-25 00:13:55,015 - 3WayCoT.GradioApp.process - INFO - PROCESSING CONFIDENCE SCORE
2025-05-25 00:13:55,015 - 3WayCoT.GradioApp.process - INFO - ================================================================================
2025-05-25 00:13:55,016 - 3WayCoT.GradioApp.process - INFO - 🔍 Available metrics keys: ['accept_rate', 'avg_confidence', 'consistency']
2025-05-25 00:13:55,016 - 3WayCoT.GradioApp.process - INFO - 🔍 Confidence-related metrics: {'avg_confidence': '85.0%'}
2025-05-25 00:13:55,016 - 3WayCoT.GradioApp.process - INFO - 🔍 Potential confidence sources:
2025-05-25 00:13:55,017 - 3WayCoT.GradioApp.process - INFO -    - direct_confidence: None (type: None)
2025-05-25 00:13:55,017 - 3WayCoT.GradioApp.process - INFO -    - avg_confidence: 85.0% (type: str)
2025-05-25 00:13:55,018 - 3WayCoT.GradioApp.process - INFO -    - accept_confidence: None (type: None)
2025-05-25 00:13:55,018 - 3WayCoT.GradioApp.process - INFO -    - confidence_metrics: None (type: None)
2025-05-25 00:13:55,018 - 3WayCoT.GradioApp.process - INFO -    - any_confidence_key: 85.0% (type: str)
2025-05-25 00:13:55,019 - 3WayCoT.GradioApp.process - INFO - ✅ Using confidence score from avg_confidence: 85.0%
2025-05-25 00:13:55,019 - 3WayCoT.GradioApp.process - INFO - 🔢 Processed confidence score: 0.8500
2025-05-25 00:13:55,020 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0.85 (type: float)
2025-05-25 00:13:55,020 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.85
2025-05-25 00:13:55,020 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.85
2025-05-25 00:13:55,021 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 85%
2025-05-25 00:13:55,021 - 3WayCoT.GradioApp.process - INFO - 📊 Formatted confidence display: 85
2025-05-25 00:13:55,021 - 3WayCoT.GradioApp.process - INFO - --------------------------------------------------------------------------------
2025-05-25 00:13:55,022 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 0.0% (type: str)
2025-05-25 00:13:55,022 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '0.0%'
2025-05-25 00:13:55,022 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '0.0'
2025-05-25 00:13:55,023 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 0.0
2025-05-25 00:13:55,023 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.0
2025-05-25 00:13:55,023 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 0%
2025-05-25 00:13:55,023 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 85.0% (type: str)
2025-05-25 00:13:55,024 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '85.0%'
2025-05-25 00:13:55,024 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '85.0'
2025-05-25 00:13:55,024 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 85.0
2025-05-25 00:13:55,024 - 3WayCoT.GradioApp.process - INFO -    - Value > 1.0, assuming percentage: 85.0%
2025-05-25 00:13:55,025 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 0.85
2025-05-25 00:13:55,025 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 85%
2025-05-25 00:13:55,025 - 3WayCoT.GradioApp.process - INFO - 🔢 Formatting percentage from value: 100.0% (type: str)
2025-05-25 00:13:55,026 - 3WayCoT.GradioApp.process - INFO - 📝 Processing string value: '100.0%'
2025-05-25 00:13:55,026 - 3WayCoT.GradioApp.process - INFO -    - Removed %: '100.0'
2025-05-25 00:13:55,027 - 3WayCoT.GradioApp.process - INFO -    - Converted to float: 100.0
2025-05-25 00:13:55,027 - 3WayCoT.GradioApp.process - INFO -    - Value > 1.0, assuming percentage: 100.0%
2025-05-25 00:13:55,027 - 3WayCoT.GradioApp.process - INFO -    - Clamped to [0,1]: 1.0
2025-05-25 00:13:55,028 - 3WayCoT.GradioApp.process - INFO - ✅ Formatted as: 100%
2025-05-25 00:17:30,256 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 00:21:01,901 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 00:21:03,315 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 00:21:03,319 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 00:21:04,020 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 00:21:04,021 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 00:21:04,023 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 00:21:04,023 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 00:21:04,025 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 00:21:04,025 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 00:21:04,818 - 3WayCoT.UI - ERROR - Failed to launch the application: name 'max_tokens_input' is not defined
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2242, in main
    demo = create_interface()
           ^^^^^^^^^^^^^^^^^^
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2141, in create_interface
    max_tokens_input,
    ^^^^^^^^^^^^^^^^
NameError: name 'max_tokens_input' is not defined. Did you mean: 'max_tokens_slider'?
2025-05-25 00:21:04,826 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 00:21:04,826 - 3WayCoT.Main - ERROR - Unexpected error: name 'max_tokens_input' is not defined
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2273, in <module>
    main()
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2242, in main
    demo = create_interface()
           ^^^^^^^^^^^^^^^^^^
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2141, in create_interface
    max_tokens_input,
    ^^^^^^^^^^^^^^^^
NameError: name 'max_tokens_input' is not defined. Did you mean: 'max_tokens_slider'?
2025-05-25 00:21:05,515 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:21:05,949 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:34:42,763 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 00:34:43,407 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 00:34:43,408 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 00:34:43,791 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 00:34:43,792 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 00:34:43,793 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 00:34:43,793 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 00:34:43,794 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 00:34:43,794 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 00:34:44,326 - 3WayCoT.UI - ERROR - Failed to launch the application: name 'max_tokens_input' is not defined
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2242, in main
    demo = create_interface()
           ^^^^^^^^^^^^^^^^^^
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2141, in create_interface
    max_tokens_input,
    ^^^^^^^^^^^^^^^^
NameError: name 'max_tokens_input' is not defined. Did you mean: 'max_tokens_slider'?
2025-05-25 00:34:44,334 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 00:34:44,334 - 3WayCoT.Main - ERROR - Unexpected error: name 'max_tokens_input' is not defined
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2273, in <module>
    main()
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2242, in main
    demo = create_interface()
           ^^^^^^^^^^^^^^^^^^
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2141, in create_interface
    max_tokens_input,
    ^^^^^^^^^^^^^^^^
NameError: name 'max_tokens_input' is not defined. Did you mean: 'max_tokens_slider'?
2025-05-25 00:34:44,902 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:34:45,419 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:36:20,021 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 00:36:21,033 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 00:36:21,035 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 00:36:21,516 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 00:36:21,517 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 00:36:21,517 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 00:36:21,518 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 00:36:21,518 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 00:36:21,519 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 00:36:22,412 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 00:36:22,787 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:36:23,567 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:36:24,934 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 00:36:27,019 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 00:36:31,567 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 00:40:38,265 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 00:40:39,610 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 00:40:39,612 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 00:40:40,245 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 00:40:40,245 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 00:40:40,246 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 00:40:40,246 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 00:40:40,246 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 00:40:40,247 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 00:40:41,032 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 00:40:41,417 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:40:42,110 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:40:43,432 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 00:40:45,469 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 00:41:02,306 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 00:41:02,307 - 3WayCoT.Main - ERROR - Error in process function: Gradio3WayCoT.process_prompt() missing 1 required positional argument: 'prompt_text'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1069, in process_prompt
    result = app.process_prompt(
             ^^^^^^^^^^^^^^^^^^^
TypeError: Gradio3WayCoT.process_prompt() missing 1 required positional argument: 'prompt_text'
2025-05-25 00:41:02,310 - 3WayCoT.Main - ERROR - Error in process_and_display: 'list' object has no attribute 'get'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2108, in process_and_display
    decision_html = f"<div class='decision-output decision-{result.get('answer', 'unknown').lower()}'>{result.get('answer', 'No decision')}</div>"
                                                            ^^^^^^^^^^
AttributeError: 'list' object has no attribute 'get'
2025-05-25 00:41:08,358 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 00:41:08,359 - 3WayCoT.Main - ERROR - Error in process function: Gradio3WayCoT.process_prompt() missing 1 required positional argument: 'prompt_text'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1069, in process_prompt
    result = app.process_prompt(
             ^^^^^^^^^^^^^^^^^^^
TypeError: Gradio3WayCoT.process_prompt() missing 1 required positional argument: 'prompt_text'
2025-05-25 00:41:08,360 - 3WayCoT.Main - ERROR - Error in process_and_display: 'list' object has no attribute 'get'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2108, in process_and_display
    decision_html = f"<div class='decision-output decision-{result.get('answer', 'unknown').lower()}'>{result.get('answer', 'No decision')}</div>"
                                                            ^^^^^^^^^^
AttributeError: 'list' object has no attribute 'get'
2025-05-25 00:44:18,031 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 00:44:23,002 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 00:44:23,004 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 00:44:23,559 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 00:44:23,559 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 00:44:23,560 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 00:44:23,560 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 00:44:23,561 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 00:44:23,561 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 00:44:24,479 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 00:44:24,623 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:44:25,453 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:44:29,571 - 3WayCoT.UI - ERROR - Failed to launch the application: Cannot find empty port in range: 7860-7860. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2289, in main
    demo.launch(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\gradio\blocks.py", line 2724, in launch
    ) = http_server.start_server(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\gradio\http_server.py", line 156, in start_server
    raise OSError(
OSError: Cannot find empty port in range: 7860-7860. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
2025-05-25 00:44:29,595 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 00:44:29,595 - 3WayCoT.Main - ERROR - Unexpected error: Cannot find empty port in range: 7860-7860. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2316, in <module>
    main()
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2289, in main
    demo.launch(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\gradio\blocks.py", line 2724, in launch
    ) = http_server.start_server(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\gradio\http_server.py", line 156, in start_server
    raise OSError(
OSError: Cannot find empty port in range: 7860-7860. You can specify a different port by setting the GRADIO_SERVER_PORT environment variable or passing the `server_port` parameter to `launch()`.
2025-05-25 00:45:09,085 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 00:45:09,702 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 00:45:09,703 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 00:45:10,065 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 00:45:10,065 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 00:45:10,066 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 00:45:10,067 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 00:45:10,067 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 00:45:10,068 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 00:45:10,664 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 00:45:10,665 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 00:45:11,139 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:45:11,484 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 00:45:12,803 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 00:45:14,984 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 00:45:18,541 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 00:45:18,543 - 3WayCoT.Main - ERROR - Error in process function: Gradio3WayCoT.process_prompt() missing 1 required positional argument: 'prompt_text'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1069, in process_prompt
    result = app.process_prompt(
TypeError: Gradio3WayCoT.process_prompt() missing 1 required positional argument: 'prompt_text'
2025-05-25 00:45:18,545 - 3WayCoT.Main - ERROR - Error in process_and_display: 'list' object has no attribute 'get'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2108, in process_and_display
    decision_html = f"<div class='decision-output decision-{result.get('answer', 'unknown').lower()}'>{result.get('answer', 'No decision')}</div>"
AttributeError: 'list' object has no attribute 'get'
2025-05-25 01:08:55,909 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 01:09:01,377 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 01:09:02,080 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 01:09:02,082 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 01:09:02,490 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 01:09:02,491 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 01:09:02,492 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 01:09:02,493 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 01:09:02,493 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 01:09:02,494 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 01:09:03,097 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 01:09:03,098 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 01:09:03,657 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 01:09:04,113 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 01:09:05,232 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 01:09:07,314 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 01:14:18,525 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 01:14:18,526 - 3WayCoT.Main - ERROR - Error in process function: Gradio3WayCoT.process_prompt() missing 1 required positional argument: 'prompt_text'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1069, in process_prompt
    result = app.process_prompt(
TypeError: Gradio3WayCoT.process_prompt() missing 1 required positional argument: 'prompt_text'
2025-05-25 01:18:39,736 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 01:18:46,383 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 01:18:47,215 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 01:18:47,216 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 01:18:47,740 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 01:18:47,741 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 01:18:47,742 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 01:18:47,742 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 01:18:47,742 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 01:18:47,742 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 01:18:48,422 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 01:18:48,423 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 01:18:48,760 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 01:18:49,205 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 01:18:50,574 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 01:18:52,650 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 01:18:55,851 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: None, top_p: 1.0
2025-05-25 01:18:55,851 - 3WayCoT.Main - ERROR - Error in process function: Gradio3WayCoT.process_prompt() missing 1 required positional argument: 'prompt_text'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1069, in process_prompt
    result = app.process_prompt(
TypeError: Gradio3WayCoT.process_prompt() missing 1 required positional argument: 'prompt_text'
2025-05-25 01:19:29,851 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 01:19:34,298 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 01:19:34,969 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 01:19:34,970 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 01:19:35,378 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 01:19:35,379 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 01:19:35,380 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 01:19:35,380 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 01:19:35,380 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 01:19:35,380 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 01:19:35,991 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 01:19:35,992 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 01:19:36,482 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 01:19:36,908 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 01:19:38,139 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 01:19:40,223 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 01:19:42,352 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: None, top_p: 1.0
2025-05-25 01:19:42,353 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 01:19:42,354 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 01:19:42,354 - 3WayCoT.GradioApp - ERROR - ERROR PROCESSING REQUEST
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 190, in process_prompt
    result = self.app.process_prompt(prompt_text, context_text)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 418, in process_prompt
    self.logger.info(f"Processing prompt: {prompt[:100]}...")
TypeError: 'NoneType' object is not subscriptable
2025-05-25 01:19:42,357 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 01:19:42,357 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 01:19:42,357 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 01:19:42,358 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 01:21:52,583 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 01:21:53,246 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 01:21:53,248 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 01:21:53,649 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 01:21:53,650 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 01:21:53,650 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 01:21:53,651 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 01:21:53,651 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 01:21:53,651 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 01:21:54,258 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 01:21:54,258 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 01:21:54,720 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 01:21:55,164 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 01:21:59,336 - 3WayCoT.UI - WARNING - Port 7860 is in use, trying next port...
2025-05-25 01:21:59,336 - 3WayCoT.UI - INFO - Attempting to launch on port 7861...
2025-05-25 01:22:01,445 - httpx - INFO - HTTP Request: GET http://localhost:7861/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 01:22:01,755 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 01:22:03,508 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 01:22:09,563 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 01:22:10,204 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 01:22:10,205 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 01:22:10,652 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 01:22:10,653 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 01:22:10,654 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 01:22:10,654 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 01:22:10,655 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 01:22:10,655 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 01:22:11,273 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 01:22:11,274 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 01:22:11,701 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 01:22:12,158 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 01:22:13,431 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 01:22:15,494 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 01:22:19,746 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 01:22:19,747 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 01:22:19,748 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 01:22:19,749 - 3WayCoT.GradioApp - ERROR - ERROR PROCESSING REQUEST
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 190, in process_prompt
    result = self.app.process_prompt(prompt_text, context_text)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 418, in process_prompt
    self.logger.info(f"Processing prompt: {prompt[:100]}...")
TypeError: 'NoneType' object is not subscriptable
2025-05-25 01:22:19,751 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 01:22:19,752 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 01:22:19,752 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 01:22:19,753 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 11:52:48,456 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 11:52:53,001 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 11:52:53,003 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 11:52:53,494 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 11:52:53,494 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 11:52:53,495 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 11:52:53,495 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 11:52:53,495 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 11:52:53,496 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 11:52:54,440 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 11:52:54,441 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 11:52:54,529 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 11:52:55,431 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 11:52:56,587 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 11:52:58,735 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 12:12:40,610 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 12:12:40,611 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 12:12:40,612 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 12:12:40,612 - 3WayCoT.GradioApp - ERROR - ERROR PROCESSING REQUEST
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 190, in process_prompt
    result = self.app.process_prompt(prompt_text, context_text)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 418, in process_prompt
    self.logger.info(f"Processing prompt: {prompt[:100]}...")
TypeError: 'NoneType' object is not subscriptable
2025-05-25 12:12:40,614 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 12:12:40,614 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 12:12:40,615 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 12:12:40,615 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 12:14:18,089 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 12:14:18,670 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 12:14:18,672 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 12:14:19,010 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 12:14:19,011 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 12:14:19,012 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 12:14:19,013 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 12:14:19,013 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 12:14:19,014 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 12:14:19,638 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 12:14:19,638 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 12:14:20,030 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 12:14:20,636 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 12:14:23,378 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 12:14:26,976 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 12:14:31,931 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 12:14:32,527 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 12:14:32,529 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 12:14:32,878 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 12:14:32,879 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 12:14:32,879 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 12:14:32,880 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 12:14:32,880 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 12:14:32,880 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 12:14:33,456 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 12:14:33,456 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 12:14:33,869 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 12:14:34,546 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 12:14:35,595 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 12:14:37,691 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 12:14:44,623 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 12:14:44,624 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 12:14:44,625 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 12:14:44,626 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 12:14:44,626 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 12:14:44,626 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 12:14:44,627 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 12:14:44,631 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 12:14:44,631 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 12:14:48,387 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 12:14:48,389 - 3WayCoT.COTGenerator - INFO - Extracted 4 reasoning steps
2025-05-25 12:14:48,389 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 12:14:48,390 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 1 (expected up to 5). Assumptions: ['Implicit assumption: Some sheep survived']
2025-05-25 12:14:48,391 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (1): ['Implicit assumption: Some sheep survived']
2025-05-25 12:14:48,391 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 12:14:48,392 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 12:14:48,392 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 12:14:48,392 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 12:14:48,393 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 12:14:48,393 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 12:14:48,393 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 12:14:48,394 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 12:14:48,395 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 12:14:48,395 - 3WayCoT.COTGenerator - INFO - Generated 4 reasoning steps with assumptions
2025-05-25 12:14:48,395 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 2
2025-05-25 12:14:48,396 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 12:14:48,396 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'Identify the core information. The problem states that the farmer initially has 17 sheep and all but 9 die. This implies that some sheep survived.\n\nconfidence: 0.95\nmethod: Direct interpretation of the problem statement; low uncertainty due to clear language.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. "All but 9" means 9 sheep survived.\n3. The word "die" implies permanent death.\n4. No sheep were added or removed other than through death.\n5. The number of sheep is a whole number.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: Some sheep survived'], 'annotated_reasoning': 'Identify the core information. The problem states that the farmer initially has 17 sheep and all but 9 die. This implies that some sheep survived.\n\nconfidence: 0.95\nmethod: Direct interpretation of the problem statement; low uncertainty due to clear language.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. "All but 9" means 9 sheep survived.\n3. The word "die" implies permanent death.\n4. No sheep were added or removed other than through death.\n5. The number of sheep is a whole number.\n[Assumptions: Implicit assumption: Some sheep survived]'}, {'step_num': 2, 'reasoning': 'Determine the number of surviving sheep.  The problem explicitly states that 9 sheep survived.\n\nconfidence: 1.0\nmethod: Direct deduction from the problem statement; no uncertainty.\nAssumptions:\n1. Basic arithmetic is accurate.\n2. The meaning of "9" is unambiguous.\n3. The problem statement is internally consistent.\n4. No further calculations are needed at this step.\n5. The context of the problem is straightforward.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Determine the number of surviving sheep.  The problem explicitly states that 9 sheep survived.\n\nconfidence: 1.0\nmethod: Direct deduction from the problem statement; no uncertainty.\nAssumptions:\n1. Basic arithmetic is accurate.\n2. The meaning of "9" is unambiguous.\n3. The problem statement is internally consistent.\n4. No further calculations are needed at this step.\n5. The context of the problem is straightforward.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': 'State the final answer. The number of sheep remaining is 9.\n\nconfidence: 1.0\nmethod: Direct deduction from Step 2; no uncertainty.\nAssumptions:\n1.  The interpretation of Step 2 is correct.\n2.  The answer is a whole number.\n3. The units (sheep) remain consistent.\n4. There are no hidden complexities in the problem.\n5. No further relevant information is needed.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'State the final answer. The number of sheep remaining is 9.\n\nconfidence: 1.0\nmethod: Direct deduction from Step 2; no uncertainty.\nAssumptions:\n1.  The interpretation of Step 2 is correct.\n2.  The answer is a whole number.\n3. The units (sheep) remain consistent.\n4. There are no hidden complexities in the problem.\n5. No further relevant information is needed.\n[Assumptions: ]'}, {'step_num': 4, 'reasoning': 'Final Answer: 9 sheep are left.\nconfidence: 0.98\nmethod:  Deductive reasoning based on the problem statement and straightforward arithmetic.  The slight reduction in confidence from 1.0 accounts for the possibility of misinterpreting the initial statement, despite its clarity.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: 9 sheep are left.\nconfidence: 0.98\nmethod:  Deductive reasoning based on the problem statement and straightforward arithmetic.  The slight reduction in confidence from 1.0 accounts for the possibility of misinterpreting the initial statement, despite its clarity.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 12:14:48,400 - 3WayCoT.App - INFO - Generated 4 reasoning steps in 3.77 seconds
2025-05-25 12:14:48,400 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 12:14:48,401 - 3WayCoT.App - INFO - Step 2: Extracted confidence 1.00 (high)
2025-05-25 12:14:48,402 - 3WayCoT.App - INFO - Step 3: Extracted confidence 1.00 (high)
2025-05-25 12:14:48,402 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.98 (high)
2025-05-25 12:14:48,402 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-direct interpretation of the problem statement; low uncertainty due to clear language.
2025-05-25 12:14:48,403 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 1.00 (high) using method: structured-direct deduction from the problem statement; no uncertainty.
2025-05-25 12:14:48,403 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 1.00 (high) using method: structured-direct deduction from step 2; no uncertainty.
2025-05-25 12:14:48,403 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.98 (high) using method: structured-deductive reasoning based on the problem statement and straightforward arithmetic.  the slight reduction in confidence from 1.0 accounts for the possibility of misinterpreting the initial statement, despite its clarity.
2025-05-25 12:14:48,410 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 12:14:48,411 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.9825, 'max': 1.0, 'min': 0.95, 'range': 0.050000000000000044, 'variance': 0.0004187500000000008, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.030000000000000027}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 12:14:48,411 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 12:14:48,412 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.9825, 'max': 1.0, 'min': 0.95, 'range': 0.050000000000000044, 'variance': 0.0004187500000000008, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.030000000000000027}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 12:14:48,412 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 4, 'avg_confidence': 0.9825, 'min_confidence': 0.95, 'max_confidence': 1.0, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 12:14:48,413 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 12:14:48,413 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=1.000, reject=0.000, abstain=0.000, confidence=1.000
2025-05-25 12:14:48,414 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=1.000, reject=0.000, abstain=0.000, confidence=1.000
2025-05-25 12:14:48,414 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 12:14:48,415 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9825, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 12:14:48,415 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 1.0, 'explanation': 'High confidence in step validity (confidence=1.000, accept=1.000, reject=0.000)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 1.0, 'explanation': 'High confidence in step validity (confidence=1.000, accept=1.000, reject=0.000)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}], 'summary': {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9825, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T12:14:48.412735', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.9825, 'max': 1.0, 'min': 0.95, 'range': 0.050000000000000044, 'variance': 0.0004187500000000008, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.030000000000000027}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 4, 'avg_confidence': 0.9825, 'min_confidence': 0.95, 'max_confidence': 1.0, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}}}
2025-05-25 12:14:48,419 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.98
2025-05-25 12:14:48,419 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 12:14:48,420 - 3WayCoT.App - INFO - Decision summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 12:14:48,420 - 3WayCoT.App - INFO - Metrics: acceptance_rate=1.00, rejection_rate=0.00, abstention_rate=0.00, avg_confidence=0.98
2025-05-25 12:14:48,420 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 12:14:48,421 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 12:14:48,421 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 12:14:48,422 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 12:14:48,422 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 12:14:48,422 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 12:14:48,423 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted', 'confidence_metrics', 'confidence_distribution']
2025-05-25 12:14:48,423 - 3WayCoT.GradioApp - INFO -    📊 Confidence distribution: {'count': 4, 'avg_confidence': 0.9825, 'min_confidence': 0.95, 'max_confidence': 1.0, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 12:14:48,424 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 12:14:48,424 - 3WayCoT.GradioApp - INFO -    - avg_confidence_accept: 0.9825
2025-05-25 12:14:48,424 - 3WayCoT.GradioApp - INFO -    - avg_confidence_reject: 0.0
2025-05-25 12:14:48,424 - 3WayCoT.GradioApp - INFO -    - avg_confidence_abstain: 0.0
2025-05-25 12:14:48,424 - 3WayCoT.GradioApp - INFO -    - confidence_alignment: 1.0
2025-05-25 12:14:48,425 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 12:14:48,425 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 12:14:48,426 - 3WayCoT.GradioApp - INFO - Added metrics from confidence_distribution: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio']
2025-05-25 12:14:48,426 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 12:14:48,427 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'min_confidence': 0.95, 'max_confidence': 1.0, 'avg_confidence': 0.9825, 'high_confidence_ratio': 1.0, 'medium_confidence_ratio': 0.0, 'low_confidence_ratio': 0.0, 'accept_confidence': 0.9825, 'reject_confidence': 0.0, 'abstain_confidence': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 12:14:48,427 - 3WayCoT.GradioApp - INFO - Found 4 reasoning steps in result_data['reasoning_steps']
2025-05-25 12:14:48,428 - 3WayCoT.GradioApp - INFO - Processed 4 reasoning steps
2025-05-25 13:00:46,874 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 13:00:47,815 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 13:00:47,818 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 13:00:48,320 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 13:00:48,321 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 13:00:48,321 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 13:00:48,322 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 13:00:48,322 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 13:00:48,322 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 13:00:48,936 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 13:00:48,937 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 13:00:49,583 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 13:00:50,102 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 13:00:54,050 - 3WayCoT.UI - WARNING - Port 7860 is in use, trying next port...
2025-05-25 13:00:54,051 - 3WayCoT.UI - INFO - Attempting to launch on port 7861...
2025-05-25 13:00:56,159 - httpx - INFO - HTTP Request: GET http://localhost:7861/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 13:00:58,201 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 13:02:23,784 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 13:02:24,499 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 13:02:24,500 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 13:02:24,911 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 13:02:24,912 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 13:02:24,913 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 13:02:24,913 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 13:02:24,914 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 13:02:24,914 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 13:02:25,554 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 13:02:25,554 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 13:02:26,007 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 13:02:26,523 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 13:02:27,707 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 13:02:29,764 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 13:02:36,754 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 13:02:36,755 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 13:02:36,756 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 13:02:36,756 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 13:02:36,757 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 13:02:36,758 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 13:02:36,758 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 13:02:36,762 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 13:02:36,762 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 13:02:39,028 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 13:02:39,030 - 3WayCoT.COTGenerator - INFO - Extracted 0 reasoning steps
2025-05-25 13:02:39,030 - 3WayCoT.COTGenerator - INFO - Generated 0 reasoning steps with assumptions
2025-05-25 13:02:39,031 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 0
2025-05-25 13:02:39,031 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 13:02:39,032 - 3WayCoT.App - INFO - Generated reasoning steps :[]
2025-05-25 13:02:39,032 - 3WayCoT.App - INFO - Generated 0 reasoning steps in 2.27 seconds
2025-05-25 13:02:39,032 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 13:02:39,033 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {}, 'membership_degrees': {}, 'confidence_calibration': {}}
2025-05-25 13:02:39,033 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 13:02:39,033 - 3WayCoT.ThreeWayDecisionMaker - WARNING - No reasoning steps found in analysis. Cannot make decisions.
2025-05-25 13:02:39,034 - root - INFO - Decisions: {'decisions': [], 'summary': {}, 'metadata': {'timestamp': '2025-05-25T13:02:39.033206', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True}}
2025-05-25 13:02:39,035 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 13:02:39,035 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 13:02:39,035 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 13:02:39,035 - 3WayCoT.App - INFO - Decision summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 13:02:39,036 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 13:02:39,036 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 13:02:39,036 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 13:02:39,037 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 13:02:39,037 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 13:02:39,038 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 13:02:39,038 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 13:02:39,038 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 13:02:39,039 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted']
2025-05-25 13:02:39,039 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 13:02:39,039 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 13:02:39,040 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 13:02:39,040 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 13:02:39,041 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'accept_confidence': 0.5, 'reject_confidence': 0.5, 'abstain_confidence': 0.5, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 13:02:39,041 - 3WayCoT.GradioApp - INFO - Found 0 reasoning steps in result_data['reasoning_steps']
2025-05-25 13:02:39,041 - 3WayCoT.GradioApp - WARNING - No reasoning steps found in the result data
2025-05-25 13:06:14,908 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 13:06:14,908 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 13:06:14,909 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 13:06:14,909 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 13:06:14,909 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 13:06:14,910 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 13:06:14,910 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 13:06:14,914 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 13:06:14,915 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 13:06:21,636 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 13:06:21,637 - 3WayCoT.COTGenerator - INFO - Extracted 8 reasoning steps
2025-05-25 13:06:21,637 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 13:06:21,638 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 13:06:21,639 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 13:06:21,639 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 13:06:21,640 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 13:06:21,640 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 13:06:21,640 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 13:06:21,641 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 13:06:21,641 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 13:06:21,641 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 13:06:21,642 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 4 (expected up to 5). Assumptions: []
2025-05-25 13:06:21,642 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (0): []
2025-05-25 13:06:21,642 - 3WayCoT.COTGenerator - INFO - Processing step 5 for assumptions extraction
2025-05-25 13:06:21,643 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 5 (expected up to 5). Assumptions: []
2025-05-25 13:06:21,643 - 3WayCoT.COTGenerator - INFO - Step 5 final assumptions (0): []
2025-05-25 13:06:21,643 - 3WayCoT.COTGenerator - INFO - Processing step 6 for assumptions extraction
2025-05-25 13:06:21,644 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 6 (expected up to 5). Assumptions: []
2025-05-25 13:06:21,644 - 3WayCoT.COTGenerator - INFO - Step 6 final assumptions (0): []
2025-05-25 13:06:21,645 - 3WayCoT.COTGenerator - INFO - Processing step 7 for assumptions extraction
2025-05-25 13:06:21,645 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 7 (expected up to 5). Assumptions: []
2025-05-25 13:06:21,646 - 3WayCoT.COTGenerator - INFO - Step 7 final assumptions (0): []
2025-05-25 13:06:21,646 - 3WayCoT.COTGenerator - INFO - Processing step 8 for assumptions extraction
2025-05-25 13:06:21,647 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 8 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 13:06:21,647 - 3WayCoT.COTGenerator - INFO - Step 8 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 13:06:21,648 - 3WayCoT.COTGenerator - INFO - Generated 8 reasoning steps with assumptions
2025-05-25 13:06:21,648 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-25 13:06:21,648 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 13:06:21,649 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'The farmer must first take the chicken across the river.  Leaving the fox and grain alone is safe.\n\nconfidence: 0.95\nmethod: Logical deduction based on problem constraints.  The problem explicitly states the unsafe combinations.\nAssumptions:\n1. The boat can only carry one item besides the farmer.\n2. The farmer can safely transport each item individually.\n3. The fox will not eat the grain while unsupervised.\n4. The chicken will not escape while unsupervised.\n5. The river crossing is safe and feasible.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer must first take the chicken across the river.  Leaving the fox and grain alone is safe.\n\nconfidence: 0.95\nmethod: Logical deduction based on problem constraints.  The problem explicitly states the unsafe combinations.\nAssumptions:\n1. The boat can only carry one item besides the farmer.\n2. The farmer can safely transport each item individually.\n3. The fox will not eat the grain while unsupervised.\n4. The chicken will not escape while unsupervised.\n5. The river crossing is safe and feasible.\n[Assumptions: ]'}, {'step_num': 2, 'reasoning': "The farmer returns alone to the original side.\n\nconfidence: 0.98\nmethod:  Logical necessity; there's no other option to continue the process.  High confidence as it's a direct consequence of step 1.\nAssumptions:\n1. The farmer has the ability to row the boat back.\n2. The boat is operable in both directions.\n3. The river conditions remain consistent.\n4. No unforeseen events occur during the return trip.\n5. The farmer is physically capable of rowing.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "The farmer returns alone to the original side.\n\nconfidence: 0.98\nmethod:  Logical necessity; there's no other option to continue the process.  High confidence as it's a direct consequence of step 1.\nAssumptions:\n1. The farmer has the ability to row the boat back.\n2. The boat is operable in both directions.\n3. The river conditions remain consistent.\n4. No unforeseen events occur during the return trip.\n5. The farmer is physically capable of rowing.\n[Assumptions: ]"}, {'step_num': 3, 'reasoning': "The farmer takes the fox (or the grain – it doesn't matter which order at this point) across the river.\n\nconfidence: 0.95\nmethod: Logical deduction; either choice prevents the chicken from being eaten.\nAssumptions:\n1. The farmer can safely transport the fox (or grain).\n2. The fox (or grain) will not harm the farmer during transport.\n3. The fox (or grain) will remain safely in the boat.\n4. The farmer correctly identifies the fox (or grain).\n5. The chosen sequence of actions is not detrimental.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "The farmer takes the fox (or the grain – it doesn't matter which order at this point) across the river.\n\nconfidence: 0.95\nmethod: Logical deduction; either choice prevents the chicken from being eaten.\nAssumptions:\n1. The farmer can safely transport the fox (or grain).\n2. The fox (or grain) will not harm the farmer during transport.\n3. The fox (or grain) will remain safely in the boat.\n4. The farmer correctly identifies the fox (or grain).\n5. The chosen sequence of actions is not detrimental.\n[Assumptions: ]"}, {'step_num': 4, 'reasoning': 'The farmer brings the chicken back to the original side.  This is crucial to prevent the chicken from being eaten by the fox or the grain.\n\nconfidence: 0.95\nmethod: Logical necessity to prevent the chicken from being eaten; this step is the key to the solution.\nAssumptions:\n1. The chicken will not escape during transport.\n2. The farmer can safely transport the chicken.\n3. The farmer remembers to bring the chicken back.\n4. The chicken is unharmed by the round trip.\n5. The chicken remains cooperative.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer brings the chicken back to the original side.  This is crucial to prevent the chicken from being eaten by the fox or the grain.\n\nconfidence: 0.95\nmethod: Logical necessity to prevent the chicken from being eaten; this step is the key to the solution.\nAssumptions:\n1. The chicken will not escape during transport.\n2. The farmer can safely transport the chicken.\n3. The farmer remembers to bring the chicken back.\n4. The chicken is unharmed by the round trip.\n5. The chicken remains cooperative.\n[Assumptions: ]'}, {'step_num': 5, 'reasoning': "The farmer takes the bag of grain across the river.\n\nconfidence: 0.95\nmethod: Logical deduction; completes the problem's requirements. The only item left.\nAssumptions:\n1. The grain remains in good condition.\n2. The farmer can safely transport the grain.\n3. The grain is not damaged during transport.\n4. The farmer correctly identifies the grain.\n5. The river conditions remain consistent.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "The farmer takes the bag of grain across the river.\n\nconfidence: 0.95\nmethod: Logical deduction; completes the problem's requirements. The only item left.\nAssumptions:\n1. The grain remains in good condition.\n2. The farmer can safely transport the grain.\n3. The grain is not damaged during transport.\n4. The farmer correctly identifies the grain.\n5. The river conditions remain consistent.\n[Assumptions: ]"}, {'step_num': 6, 'reasoning': 'The farmer returns alone to the original side.\n\nconfidence: 0.98\nmethod:  Logical necessity; the farmer needs to retrieve the chicken.  High confidence due to the direct consequence of Step 5.\nAssumptions:\n1. The boat is still operable.\n2. The farmer is physically capable of rowing.\n3. The river conditions remain consistent.\n4. No unforeseen events occur.\n5. The farmer remembers to return for the chicken.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer returns alone to the original side.\n\nconfidence: 0.98\nmethod:  Logical necessity; the farmer needs to retrieve the chicken.  High confidence due to the direct consequence of Step 5.\nAssumptions:\n1. The boat is still operable.\n2. The farmer is physically capable of rowing.\n3. The river conditions remain consistent.\n4. No unforeseen events occur.\n5. The farmer remembers to return for the chicken.\n[Assumptions: ]'}, {'step_num': 7, 'reasoning': 'The farmer takes the chicken across the river.\n\nconfidence: 0.95\nmethod:  Logical deduction; This completes the transportation of all items.\nAssumptions:\n1. The chicken is unharmed.\n2. The farmer can safely transport the chicken.\n3. The chicken does not escape.\n4. The chicken remains cooperative.\n5. The river conditions remain consistent.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer takes the chicken across the river.\n\nconfidence: 0.95\nmethod:  Logical deduction; This completes the transportation of all items.\nAssumptions:\n1. The chicken is unharmed.\n2. The farmer can safely transport the chicken.\n3. The chicken does not escape.\n4. The chicken remains cooperative.\n5. The river conditions remain consistent.\n[Assumptions: ]'}, {'step_num': 8, 'reasoning': 'Final Answer: The farmer transports the items across the river by first taking the chicken, then returning alone, then taking the fox (or grain), then bringing the chicken back, then taking the grain (or fox), returning alone, and finally taking the chicken.\n\nconfidence: 0.92\nmethod:  Logical deduction based on a series of necessary steps. Confidence is slightly reduced due to the accumulating assumptions across multiple steps.  The method relies on the accuracy and feasibility of each individual step.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: The farmer transports the items across the river by first taking the chicken, then returning alone, then taking the fox (or grain), then bringing the chicken back, then taking the grain (or fox), returning alone, and finally taking the chicken.\n\nconfidence: 0.92\nmethod:  Logical deduction based on a series of necessary steps. Confidence is slightly reduced due to the accumulating assumptions across multiple steps.  The method relies on the accuracy and feasibility of each individual step.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 13:06:21,657 - 3WayCoT.App - INFO - Generated 8 reasoning steps in 6.75 seconds
2025-05-25 13:06:21,658 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 13:06:21,659 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.98 (high)
2025-05-25 13:06:21,659 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.95 (high)
2025-05-25 13:06:21,659 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.95 (high)
2025-05-25 13:06:21,660 - 3WayCoT.App - INFO - Step 5: Extracted confidence 0.95 (high)
2025-05-25 13:06:21,660 - 3WayCoT.App - INFO - Step 6: Extracted confidence 0.98 (high)
2025-05-25 13:06:21,661 - 3WayCoT.App - INFO - Step 7: Extracted confidence 0.95 (high)
2025-05-25 13:06:21,661 - 3WayCoT.App - INFO - Step 8: Extracted confidence 0.92 (high)
2025-05-25 13:06:21,661 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-logical deduction based on problem constraints.  the problem explicitly states the unsafe combinations.
2025-05-25 13:06:21,662 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.98 (high) using method: structured-logical necessity; there's no other option to continue the process.  high confidence as it's a direct consequence of step 1.
2025-05-25 13:06:21,662 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.95 (high) using method: structured-logical deduction; either choice prevents the chicken from being eaten.
2025-05-25 13:06:21,663 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.95 (high) using method: structured-logical necessity to prevent the chicken from being eaten; this step is the key to the solution.
2025-05-25 13:06:21,663 - 3WayCoT.ConfidenceExtractor - INFO - Step 5: Extracted confidence 0.95 (high) using method: structured-logical deduction; completes the problem's requirements. the only item left.
2025-05-25 13:06:21,664 - 3WayCoT.ConfidenceExtractor - INFO - Step 6: Extracted confidence 0.98 (high) using method: structured-logical necessity; the farmer needs to retrieve the chicken.  high confidence due to the direct consequence of step 5.
2025-05-25 13:06:21,664 - 3WayCoT.ConfidenceExtractor - INFO - Step 7: Extracted confidence 0.95 (high) using method: structured-logical deduction; this completes the transportation of all items.
2025-05-25 13:06:21,665 - 3WayCoT.ConfidenceExtractor - INFO - Step 8: Extracted confidence 0.92 (high) using method: structured-logical deduction based on a series of necessary steps. confidence is slightly reduced due to the accumulating assumptions across multiple steps.  the method relies on the accuracy and feasibility of each individual step.
2025-05-25 13:06:21,746 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 13:06:21,746 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.95375, 'max': 0.98, 'min': 0.92, 'range': 0.05999999999999994, 'variance': 0.0003234374999999996, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.029999999999999916}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 13:06:21,747 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 13:06:21,747 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.95375, 'max': 0.98, 'min': 0.92, 'range': 0.05999999999999994, 'variance': 0.0003234374999999996, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.029999999999999916}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 13:06:21,748 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 8, 'avg_confidence': 0.95375, 'min_confidence': 0.92, 'max_confidence': 0.98, 'distribution': {'high': 8, 'medium': 0, 'low': 0}}
2025-05-25 13:06:21,749 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 13:06:21,749 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 13:06:21,749 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 13:06:21,750 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 13:06:21,750 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 13:06:21,751 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 13:06:21,751 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 13:06:21,752 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.955, reject=0.045, abstain=0.000, confidence=0.920
2025-05-25 13:06:21,752 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 8, 'accept_count': 8, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.95375, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 13:06:21,753 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 4, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 5, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 6, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 7, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.92, 'explanation': 'High confidence in step validity (confidence=0.920, accept=0.955, reject=0.045)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.06666666666666665, 'abstain': 0.0}}], 'summary': {'total_steps': 8, 'accept_count': 8, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.95375, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T13:06:21.747446', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.95375, 'max': 0.98, 'min': 0.92, 'range': 0.05999999999999994, 'variance': 0.0003234374999999996, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.029999999999999916}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 8, 'avg_confidence': 0.95375, 'min_confidence': 0.92, 'max_confidence': 0.98, 'distribution': {'high': 8, 'medium': 0, 'low': 0}}}}
2025-05-25 13:06:21,758 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=8, REJECT=0, ABSTAIN=0
2025-05-25 13:06:21,758 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (8/8), Rejection: 0.00 (0/8), Abstention: 0.00 (0/8), Avg Confidence: 0.95
2025-05-25 13:06:21,758 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=8, REJECT=0, ABSTAIN=0
2025-05-25 13:06:21,758 - 3WayCoT.App - INFO - Decision summary: ACCEPT=8, REJECT=0, ABSTAIN=0
2025-05-25 13:06:21,759 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=8, REJECT=0, ABSTAIN=0
2025-05-25 13:06:21,759 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (8/8), Rejection: 0.00 (0/8), Abstention: 0.00 (0/8), Avg Confidence: 0.95
2025-05-25 13:06:21,759 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 13:06:21,760 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 13:06:21,760 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 13:06:21,760 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 13:06:21,761 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 13:06:21,761 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 13:06:21,761 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted', 'confidence_metrics', 'confidence_distribution']
2025-05-25 13:06:21,762 - 3WayCoT.GradioApp - INFO -    📊 Confidence distribution: {'count': 8, 'avg_confidence': 0.95375, 'min_confidence': 0.92, 'max_confidence': 0.98, 'distribution': {'high': 8, 'medium': 0, 'low': 0}}
2025-05-25 13:06:21,763 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 13:06:21,763 - 3WayCoT.GradioApp - INFO -    - avg_confidence_accept: 0.95375
2025-05-25 13:06:21,764 - 3WayCoT.GradioApp - INFO -    - avg_confidence_reject: 0.0
2025-05-25 13:06:21,764 - 3WayCoT.GradioApp - INFO -    - avg_confidence_abstain: 0.0
2025-05-25 13:06:21,764 - 3WayCoT.GradioApp - INFO -    - confidence_alignment: 1.0
2025-05-25 13:06:21,765 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 13:06:21,765 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 13:06:21,765 - 3WayCoT.GradioApp - INFO - Added metrics from confidence_distribution: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio']
2025-05-25 13:06:21,766 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 13:06:21,766 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'min_confidence': 0.92, 'max_confidence': 0.98, 'avg_confidence': 0.95375, 'high_confidence_ratio': 1.0, 'medium_confidence_ratio': 0.0, 'low_confidence_ratio': 0.0, 'accept_confidence': 0.95375, 'reject_confidence': 0.0, 'abstain_confidence': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 13:06:21,767 - 3WayCoT.GradioApp - INFO - Found 8 reasoning steps in result_data['reasoning_steps']
2025-05-25 13:06:21,767 - 3WayCoT.GradioApp - INFO - Processed 8 reasoning steps
2025-05-25 13:07:23,960 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 13:07:23,961 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 13:07:23,961 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 13:07:23,962 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 13:07:23,962 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 13:07:23,962 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 13:07:23,963 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 13:07:23,968 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 13:07:23,969 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 13:07:28,609 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 13:07:28,610 - 3WayCoT.COTGenerator - INFO - Extracted 5 reasoning steps
2025-05-25 13:07:28,611 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 13:07:28,612 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 1 (expected up to 5). Assumptions: ['Implicit assumption: 17 is divisible by 2']
2025-05-25 13:07:28,612 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (1): ['Implicit assumption: 17 is divisible by 2']
2025-05-25 13:07:28,613 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 13:07:28,614 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 2 (expected up to 5). Assumptions: ['Implicit assumption: 17 is divisible by 3']
2025-05-25 13:07:28,614 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (1): ['Implicit assumption: 17 is divisible by 3']
2025-05-25 13:07:28,614 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 13:07:28,615 - 3WayCoT.COTGenerator - INFO - Only 2 assumptions found for step 3 (expected up to 5). Assumptions: ['Implicit assumption: 17 is divisible by numbers greater than 3 up to its square root (approximately 4', 'Implicit assumption: A number has a divisor larger than its square root, it must also have a divisor smaller than its square root']
2025-05-25 13:07:28,616 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (2): ['Implicit assumption: 17 is divisible by numbers greater than 3 up to its square root (approximately 4', 'Implicit assumption: A number has a divisor larger than its square root, it must also have a divisor smaller than its square root']
2025-05-25 13:07:28,617 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 13:07:28,618 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ["Implicit assumption: And only if it's not divisible by any integer other than 1 and itself"]
2025-05-25 13:07:28,618 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ["Implicit assumption: And only if it's not divisible by any integer other than 1 and itself"]
2025-05-25 13:07:28,619 - 3WayCoT.COTGenerator - INFO - Processing step 5 for assumptions extraction
2025-05-25 13:07:28,619 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 5 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 13:07:28,619 - 3WayCoT.COTGenerator - INFO - Step 5 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 13:07:28,620 - 3WayCoT.COTGenerator - INFO - Generated 5 reasoning steps with assumptions
2025-05-25 13:07:28,620 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 6
2025-05-25 13:07:28,621 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 13:07:28,621 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'Determine if 17 is divisible by 2.\n\nconfidence: 0.99\nmethod:  Basic arithmetic;  high confidence due to the simplicity of the operation.  Uncertainty stems from potential computational errors, though highly improbable in this case.\nAssumptions:\n1. The number 17 is correctly represented.\n2. The definition of divisibility is understood and correctly applied.\n3. Basic arithmetic operations are performed accurately.\n4. The number 2 is correctly identified as a potential divisor.\n5. There are no unforeseen computational errors.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: 17 is divisible by 2'], 'annotated_reasoning': 'Determine if 17 is divisible by 2.\n\nconfidence: 0.99\nmethod:  Basic arithmetic;  high confidence due to the simplicity of the operation.  Uncertainty stems from potential computational errors, though highly improbable in this case.\nAssumptions:\n1. The number 17 is correctly represented.\n2. The definition of divisibility is understood and correctly applied.\n3. Basic arithmetic operations are performed accurately.\n4. The number 2 is correctly identified as a potential divisor.\n5. There are no unforeseen computational errors.\n[Assumptions: Implicit assumption: 17 is divisible by 2]'}, {'step_num': 2, 'reasoning': 'Determine if 17 is divisible by 3.\n\nconfidence: 0.99\nmethod: Basic arithmetic; similar to step 1.  Uncertainty comes from the potential for human error in calculation.\nAssumptions:\n1. The number 17 is correctly represented.\n2. The definition of divisibility is understood and correctly applied.\n3. Basic arithmetic operations are performed accurately.\n4. The number 3 is correctly identified as a potential divisor.\n5. There are no unforeseen computational errors.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: 17 is divisible by 3'], 'annotated_reasoning': 'Determine if 17 is divisible by 3.\n\nconfidence: 0.99\nmethod: Basic arithmetic; similar to step 1.  Uncertainty comes from the potential for human error in calculation.\nAssumptions:\n1. The number 17 is correctly represented.\n2. The definition of divisibility is understood and correctly applied.\n3. Basic arithmetic operations are performed accurately.\n4. The number 3 is correctly identified as a potential divisor.\n5. There are no unforeseen computational errors.\n[Assumptions: Implicit assumption: 17 is divisible by 3]'}, {'step_num': 3, 'reasoning': 'Determine if 17 is divisible by numbers greater than 3 up to its square root (approximately 4.12).  This is because if a number has a divisor larger than its square root, it must also have a divisor smaller than its square root.\n\nconfidence: 0.98\nmethod:  Basic arithmetic and understanding of prime number properties.  Slight uncertainty due to the iterative nature of the process and potential for human error.\nAssumptions:\n1. The square root of 17 is correctly approximated.\n2. The fundamental theorem of arithmetic is valid.\n3. Divisibility rules are correctly applied.\n4. All potential divisors up to the square root are considered.\n5. No computational errors occur during the division process.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: 17 is divisible by numbers greater than 3 up to its square root (approximately 4', 'Implicit assumption: A number has a divisor larger than its square root, it must also have a divisor smaller than its square root'], 'annotated_reasoning': 'Determine if 17 is divisible by numbers greater than 3 up to its square root (approximately 4.12).  This is because if a number has a divisor larger than its square root, it must also have a divisor smaller than its square root.\n\nconfidence: 0.98\nmethod:  Basic arithmetic and understanding of prime number properties.  Slight uncertainty due to the iterative nature of the process and potential for human error.\nAssumptions:\n1. The square root of 17 is correctly approximated.\n2. The fundamental theorem of arithmetic is valid.\n3. Divisibility rules are correctly applied.\n4. All potential divisors up to the square root are considered.\n5. No computational errors occur during the division process.\n[Assumptions: Implicit assumption: 17 is divisible by numbers greater than 3 up to its square root (approximately 4; Implicit assumption: A number has a divisor larger than its square root, it must also have a divisor smaller than its square root]'}, {'step_num': 4, 'reasoning': "Analyze the results of steps 1-3.\n\nconfidence: 0.97\nmethod: Deductive reasoning based on the previous steps.  The confidence is slightly reduced due to the accumulation of minor uncertainties from previous steps.\nAssumptions:\n1. The results of steps 1-3 are accurate.\n2. The definition of a prime number is correctly understood.\n3. No divisors were missed in the previous steps.\n4. The logical conclusion is correctly drawn from the previous steps.\n5. The number 17 is considered a prime number if and only if it's not divisible by any integer other than 1 and itself.", 'assumptions': '', 'extracted_assumptions': ["Implicit assumption: And only if it's not divisible by any integer other than 1 and itself"], 'annotated_reasoning': "Analyze the results of steps 1-3.\n\nconfidence: 0.97\nmethod: Deductive reasoning based on the previous steps.  The confidence is slightly reduced due to the accumulation of minor uncertainties from previous steps.\nAssumptions:\n1. The results of steps 1-3 are accurate.\n2. The definition of a prime number is correctly understood.\n3. No divisors were missed in the previous steps.\n4. The logical conclusion is correctly drawn from the previous steps.\n5. The number 17 is considered a prime number if and only if it's not divisible by any integer other than 1 and itself.\n[Assumptions: Implicit assumption: And only if it's not divisible by any integer other than 1 and itself]"}, {'step_num': 5, 'reasoning': 'Final Answer: 17 is a prime number.\n\nconfidence: 0.95\nmethod:  Deductive reasoning based on the combined results and assumptions of steps 1-4. The confidence reflects the accumulated uncertainties from each step.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: 17 is a prime number.\n\nconfidence: 0.95\nmethod:  Deductive reasoning based on the combined results and assumptions of steps 1-4. The confidence reflects the accumulated uncertainties from each step.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 13:07:28,630 - 3WayCoT.App - INFO - Generated 5 reasoning steps in 4.67 seconds
2025-05-25 13:07:28,631 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.99 (high)
2025-05-25 13:07:28,631 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.99 (high)
2025-05-25 13:07:28,632 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.98 (high)
2025-05-25 13:07:28,632 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.97 (high)
2025-05-25 13:07:28,633 - 3WayCoT.App - INFO - Step 5: Extracted confidence 0.95 (high)
2025-05-25 13:07:28,633 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.99 (high) using method: structured-basic arithmetic;  high confidence due to the simplicity of the operation.  uncertainty stems from potential computational errors, though highly improbable in this case.
2025-05-25 13:07:28,634 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.99 (high) using method: structured-basic arithmetic; similar to step 1.  uncertainty comes from the potential for human error in calculation.
2025-05-25 13:07:28,634 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.98 (high) using method: structured-basic arithmetic and understanding of prime number properties.  slight uncertainty due to the iterative nature of the process and potential for human error.
2025-05-25 13:07:28,635 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.97 (high) using method: structured-deductive reasoning based on the previous steps.  the confidence is slightly reduced due to the accumulation of minor uncertainties from previous steps.
2025-05-25 13:07:28,635 - 3WayCoT.ConfidenceExtractor - INFO - Step 5: Extracted confidence 0.95 (high) using method: structured-deductive reasoning based on the combined results and assumptions of steps 1-4. the confidence reflects the accumulated uncertainties from each step.
2025-05-25 13:07:28,640 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 13:07:28,640 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.976, 'max': 0.99, 'min': 0.95, 'range': 0.040000000000000036, 'variance': 0.0002240000000000004, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.040000000000000036}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 13:07:28,641 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 13:07:28,641 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.976, 'max': 0.99, 'min': 0.95, 'range': 0.040000000000000036, 'variance': 0.0002240000000000004, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.040000000000000036}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 13:07:28,643 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 5, 'avg_confidence': 0.976, 'min_confidence': 0.95, 'max_confidence': 0.99, 'distribution': {'high': 5, 'medium': 0, 'low': 0}}
2025-05-25 13:07:28,643 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.994, reject=0.006, abstain=0.000, confidence=0.990
2025-05-25 13:07:28,644 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.994, reject=0.006, abstain=0.000, confidence=0.990
2025-05-25 13:07:28,644 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 13:07:28,645 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.983, reject=0.017, abstain=0.000, confidence=0.970
2025-05-25 13:07:28,645 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 13:07:28,646 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 5, 'accept_count': 5, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.976, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 13:07:28,647 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.99, 'explanation': 'High confidence in step validity (confidence=0.990, accept=0.994, reject=0.006)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.00833333333333336, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.99, 'explanation': 'High confidence in step validity (confidence=0.990, accept=0.994, reject=0.006)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.00833333333333336, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.97, 'explanation': 'High confidence in step validity (confidence=0.970, accept=0.983, reject=0.017)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.025000000000000022, 'abstain': 0.0}}, {'step_index': 4, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}], 'summary': {'total_steps': 5, 'accept_count': 5, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.976, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T13:07:28.641016', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.976, 'max': 0.99, 'min': 0.95, 'range': 0.040000000000000036, 'variance': 0.0002240000000000004, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.040000000000000036}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 5, 'avg_confidence': 0.976, 'min_confidence': 0.95, 'max_confidence': 0.99, 'distribution': {'high': 5, 'medium': 0, 'low': 0}}}}
2025-05-25 13:07:28,651 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=5, REJECT=0, ABSTAIN=0
2025-05-25 13:07:28,652 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (5/5), Rejection: 0.00 (0/5), Abstention: 0.00 (0/5), Avg Confidence: 0.98
2025-05-25 13:07:28,653 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=5, REJECT=0, ABSTAIN=0
2025-05-25 13:07:28,653 - 3WayCoT.App - INFO - Decision summary: ACCEPT=5, REJECT=0, ABSTAIN=0
2025-05-25 13:07:28,654 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=5, REJECT=0, ABSTAIN=0
2025-05-25 13:07:28,654 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (5/5), Rejection: 0.00 (0/5), Abstention: 0.00 (0/5), Avg Confidence: 0.98
2025-05-25 13:07:28,654 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 13:07:28,655 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 13:07:28,655 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 13:07:28,656 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 13:07:28,656 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 13:07:28,657 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 13:07:28,657 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted', 'confidence_metrics', 'confidence_distribution']
2025-05-25 13:07:28,658 - 3WayCoT.GradioApp - INFO -    📊 Confidence distribution: {'count': 5, 'avg_confidence': 0.976, 'min_confidence': 0.95, 'max_confidence': 0.99, 'distribution': {'high': 5, 'medium': 0, 'low': 0}}
2025-05-25 13:07:28,658 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 13:07:28,658 - 3WayCoT.GradioApp - INFO -    - avg_confidence_accept: 0.976
2025-05-25 13:07:28,658 - 3WayCoT.GradioApp - INFO -    - avg_confidence_reject: 0.0
2025-05-25 13:07:28,659 - 3WayCoT.GradioApp - INFO -    - avg_confidence_abstain: 0.0
2025-05-25 13:07:28,659 - 3WayCoT.GradioApp - INFO -    - confidence_alignment: 1.0
2025-05-25 13:07:28,659 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 13:07:28,660 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 13:07:28,660 - 3WayCoT.GradioApp - INFO - Added metrics from confidence_distribution: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio']
2025-05-25 13:07:28,661 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 13:07:28,661 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'min_confidence': 0.95, 'max_confidence': 0.99, 'avg_confidence': 0.976, 'high_confidence_ratio': 1.0, 'medium_confidence_ratio': 0.0, 'low_confidence_ratio': 0.0, 'accept_confidence': 0.976, 'reject_confidence': 0.0, 'abstain_confidence': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 13:07:28,662 - 3WayCoT.GradioApp - INFO - Found 5 reasoning steps in result_data['reasoning_steps']
2025-05-25 13:07:28,663 - 3WayCoT.GradioApp - INFO - Processed 5 reasoning steps
2025-05-25 13:34:27,041 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 13:34:36,398 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 13:34:37,150 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 13:34:37,152 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 13:34:37,600 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 13:34:37,601 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 13:34:37,601 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 13:34:37,602 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 13:34:37,602 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 13:34:37,602 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 13:34:38,225 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 13:34:38,226 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 13:34:39,099 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 13:34:39,378 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 13:34:40,380 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 13:34:42,449 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 13:47:12,337 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 13:47:12,338 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 13:47:12,338 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 13:47:12,339 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 13:47:12,339 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 13:47:12,340 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 13:47:12,340 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 13:47:12,344 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 13:47:12,345 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 13:47:13,413 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:14,334 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:14,732 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:16,471 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:17,521 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:20,048 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:21,961 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:26,312 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:27,214 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:29,453 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:31,772 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:40,572 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:49,894 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:47:52,290 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:01,041 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:09,252 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:14,441 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:16,451 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:19,131 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:19,960 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:24,793 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:30,865 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:35,641 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:37,235 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:45,876 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:52,231 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:48:59,035 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:04,136 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:10,052 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:14,120 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:19,007 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:23,801 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:29,686 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:32,019 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:40,090 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:40,531 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:42,691 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:46,952 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:50,519 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:49:56,527 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:01,813 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:08,666 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:13,692 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:14,869 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:18,030 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:20,283 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:21,956 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:22,372 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:30,520 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:33,824 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:42,080 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:49,938 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:50,070 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:50:56,764 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:51:01,282 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:51:10,642 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:51:19,213 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:51:26,170 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:51:31,971 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:51:38,483 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:51:43,811 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:51:52,817 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:51:56,109 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:51:56,671 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:52:06,627 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:52:10,720 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:52:11,198 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:52:15,412 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:52:20,103 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:52:25,218 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:52:26,072 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:52:33,829 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:52:41,770 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:52:47,931 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:52:55,610 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:53:02,507 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:53:11,529 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:53:19,658 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:53:27,064 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:53:30,171 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:53:34,751 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:53:38,139 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:53:40,871 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:53:50,148 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:53:52,050 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:53:53,419 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:53:56,211 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:54:00,400 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:54:04,610 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:54:13,153 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:54:19,389 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:54:27,815 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:54:34,529 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:54:40,954 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:54:47,721 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:54:48,784 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:54:58,467 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:54:59,344 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:00,376 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:03,842 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:13,060 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:18,175 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:27,752 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:29,377 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:33,015 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:36,857 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:38,892 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:45,231 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:51,041 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:53,054 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:54,720 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:55:58,357 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:01,064 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:06,214 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:12,336 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:13,894 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:19,615 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:25,973 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:31,018 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:36,463 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:40,445 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:43,756 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:44,927 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:50,375 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:56:55,933 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:57:02,214 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:57:06,890 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001BF3CCCB160>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:57:06,902 - 3WayCoT.COTGenerator - ERROR - Error querying Gemini: Timeout of 600.0s exceeded, last exception: 503 Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 13:57:06,903 - 3WayCoT.App - ERROR - Error processing prompt: 'ChainOfThoughtGenerator' object has no attribute '_simulated_response'
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 76, in error_remapped_callable
    return callable_(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_interceptor.py", line 277, in __call__
    response, ignored_call = self._with_call(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_interceptor.py", line 332, in _with_call
    return call.result(), call
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_channel.py", line 440, in result
    raise self
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_interceptor.py", line 315, in continuation
    response, call = self._thunk(new_method).with_call(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_channel.py", line 1198, in with_call
    return _end_unary_response_blocking(state, call, True, None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_channel.py", line 1006, in _end_unary_response_blocking
    raise _InactiveRpcError(state)  # pytype: disable=not-instantiable
grpc._channel._InactiveRpcError: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_message:"Getting metadata from plugin failed with error: (\'invalid_grant: Bad Request\', {\'error\': \'invalid_grant\', \'error_description\': \'Bad Request\'})", grpc_status:14, created_time:"2025-05-25T12:57:06.8955372+00:00"}"
>

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ServiceUnavailable: 503 Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 323, in query_llm
    response = model_instance.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 221, in _retry_error_helper
    raise final_exc from source_exc
google.api_core.exceptions.RetryError: Timeout of 600.0s exceeded, last exception: 503 Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 429, in process_prompt
    reasoning_steps = self.framework.cot_generator.generate(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 703, in generate
    response = self.query_llm(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 349, in query_llm
    return self._simulated_response(prompt)
AttributeError: 'ChainOfThoughtGenerator' object has no attribute '_simulated_response'
2025-05-25 13:57:07,039 - 3WayCoT.GradioApp - ERROR - ERROR PROCESSING REQUEST
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 76, in error_remapped_callable
    return callable_(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_interceptor.py", line 277, in __call__
    response, ignored_call = self._with_call(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_interceptor.py", line 332, in _with_call
    return call.result(), call
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_channel.py", line 440, in result
    raise self
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_interceptor.py", line 315, in continuation
    response, call = self._thunk(new_method).with_call(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_channel.py", line 1198, in with_call
    return _end_unary_response_blocking(state, call, True, None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_channel.py", line 1006, in _end_unary_response_blocking
    raise _InactiveRpcError(state)  # pytype: disable=not-instantiable
grpc._channel._InactiveRpcError: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_message:"Getting metadata from plugin failed with error: (\'invalid_grant: Bad Request\', {\'error\': \'invalid_grant\', \'error_description\': \'Bad Request\'})", grpc_status:14, created_time:"2025-05-25T12:57:06.8955372+00:00"}"
>

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ServiceUnavailable: 503 Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 323, in query_llm
    response = model_instance.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 221, in _retry_error_helper
    raise final_exc from source_exc
google.api_core.exceptions.RetryError: Timeout of 600.0s exceeded, last exception: 503 Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 190, in process_prompt
    result = self.app.process_prompt(prompt_text, context_text)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 429, in process_prompt
    reasoning_steps = self.framework.cot_generator.generate(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 703, in generate
    response = self.query_llm(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 349, in query_llm
    return self._simulated_response(prompt)
AttributeError: 'ChainOfThoughtGenerator' object has no attribute '_simulated_response'
2025-05-25 13:57:07,052 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 13:57:07,053 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 13:57:07,053 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 13:57:07,054 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 14:37:46,200 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 14:56:05,292 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 14:56:05,898 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 14:56:05,900 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 14:56:06,248 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 14:56:06,249 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 14:56:06,249 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 14:56:06,250 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 14:56:06,250 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 14:56:06,250 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 14:56:06,853 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 14:56:06,854 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 14:56:07,315 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 14:56:07,838 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 14:56:08,998 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 14:59:30,905 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 14:59:31,527 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 14:59:31,528 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 14:59:31,880 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 14:59:31,881 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 14:59:31,881 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 14:59:31,881 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 14:59:31,882 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 14:59:31,882 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 14:59:32,451 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 14:59:32,452 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 14:59:33,165 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 14:59:33,486 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 14:59:34,584 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 14:59:36,662 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 14:59:46,285 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 14:59:46,286 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 14:59:46,287 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 14:59:46,287 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 14:59:46,288 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 14:59:46,288 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 14:59:46,289 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 14:59:46,292 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 14:59:46,293 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 14:59:46,937 - 3WayCoT.COTGenerator - ERROR - Error querying Gemini: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-05-25 14:59:46,938 - 3WayCoT.App - ERROR - Error processing prompt: 'ChainOfThoughtGenerator' object has no attribute '_simulated_response'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 323, in query_llm
    response = model_instance.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 429, in process_prompt
    reasoning_steps = self.framework.cot_generator.generate(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 703, in generate
    response = self.query_llm(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 349, in query_llm
    return self._simulated_response(prompt)
AttributeError: 'ChainOfThoughtGenerator' object has no attribute '_simulated_response'
2025-05-25 14:59:46,948 - 3WayCoT.GradioApp - ERROR - ERROR PROCESSING REQUEST
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 323, in query_llm
    response = model_instance.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 190, in process_prompt
    result = self.app.process_prompt(prompt_text, context_text)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 429, in process_prompt
    reasoning_steps = self.framework.cot_generator.generate(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 703, in generate
    response = self.query_llm(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 349, in query_llm
    return self._simulated_response(prompt)
AttributeError: 'ChainOfThoughtGenerator' object has no attribute '_simulated_response'
2025-05-25 14:59:46,955 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 14:59:46,955 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 14:59:46,956 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 14:59:46,956 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 15:00:51,408 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 15:00:58,106 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 15:00:58,693 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 15:00:58,695 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 15:00:59,031 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 15:00:59,032 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 15:00:59,032 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 15:00:59,033 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 15:00:59,033 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 15:00:59,033 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 15:00:59,585 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 15:00:59,585 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 15:01:00,068 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:01:00,398 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:01:01,732 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 15:01:03,828 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 15:01:30,467 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 15:01:30,468 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 15:01:30,469 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 15:01:30,469 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 15:01:30,470 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 15:01:30,470 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 15:01:30,470 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:01:30,473 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 15:01:30,473 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:01:31,055 - 3WayCoT.COTGenerator - ERROR - Error querying Gemini: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-05-25 15:01:31,056 - 3WayCoT.App - ERROR - Error processing prompt: 'ChainOfThoughtGenerator' object has no attribute '_simulated_response'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 323, in query_llm
    response = model_instance.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 429, in process_prompt
    reasoning_steps = self.framework.cot_generator.generate(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 703, in generate
    response = self.query_llm(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 349, in query_llm
    return self._simulated_response(prompt)
AttributeError: 'ChainOfThoughtGenerator' object has no attribute '_simulated_response'
2025-05-25 15:01:31,064 - 3WayCoT.GradioApp - ERROR - ERROR PROCESSING REQUEST
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 323, in query_llm
    response = model_instance.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 190, in process_prompt
    result = self.app.process_prompt(prompt_text, context_text)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 429, in process_prompt
    reasoning_steps = self.framework.cot_generator.generate(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 703, in generate
    response = self.query_llm(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 349, in query_llm
    return self._simulated_response(prompt)
AttributeError: 'ChainOfThoughtGenerator' object has no attribute '_simulated_response'
2025-05-25 15:01:31,071 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 15:01:31,072 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 15:01:31,072 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 15:01:31,072 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 15:02:12,444 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 15:04:37,567 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 15:04:38,188 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 15:04:38,190 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 15:04:38,547 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 15:04:38,547 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 15:04:38,548 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 15:04:38,548 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 15:04:38,549 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 15:04:38,549 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 15:04:39,126 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 15:04:39,127 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 15:04:39,598 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:04:40,037 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:04:41,281 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 15:04:43,356 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 15:04:52,279 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 15:04:52,280 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 15:04:52,281 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 15:04:52,281 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 15:04:52,281 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 15:04:52,282 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 15:04:52,282 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:04:52,286 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 15:04:52,286 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:04:53,555 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 15:04:53,556 - 3WayCoT.COTGenerator - INFO - Extracted 0 reasoning steps
2025-05-25 15:04:53,557 - 3WayCoT.COTGenerator - INFO - Generated 0 reasoning steps with assumptions
2025-05-25 15:04:53,557 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 0
2025-05-25 15:04:53,557 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 15:04:53,557 - 3WayCoT.App - INFO - Generated reasoning steps :[]
2025-05-25 15:04:53,558 - 3WayCoT.App - INFO - Generated 0 reasoning steps in 1.28 seconds
2025-05-25 15:04:53,558 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 15:04:53,559 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {}, 'membership_degrees': {}, 'confidence_calibration': {}}
2025-05-25 15:04:53,559 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 15:04:53,560 - 3WayCoT.ThreeWayDecisionMaker - WARNING - No reasoning steps found in analysis. Cannot make decisions.
2025-05-25 15:04:53,560 - root - INFO - Decisions: {'decisions': [], 'summary': {}, 'metadata': {'timestamp': '2025-05-25T15:04:53.560075', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True}}
2025-05-25 15:04:53,561 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 15:04:53,561 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 15:04:53,562 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 15:04:53,562 - 3WayCoT.App - INFO - Decision summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 15:04:53,562 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 15:04:53,563 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 15:04:53,563 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 15:04:53,563 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 15:04:53,564 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 15:04:53,564 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 15:04:53,565 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 15:04:53,565 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 15:04:53,566 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted']
2025-05-25 15:04:53,566 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 15:04:53,566 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 15:04:53,567 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 15:04:53,567 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 15:04:53,567 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'accept_confidence': 0.5, 'reject_confidence': 0.5, 'abstain_confidence': 0.5, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 15:04:53,568 - 3WayCoT.GradioApp - INFO - Found 0 reasoning steps in result_data['reasoning_steps']
2025-05-25 15:04:53,568 - 3WayCoT.GradioApp - WARNING - No reasoning steps found in the result data
2025-05-25 15:13:45,286 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 15:14:17,551 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 15:14:18,233 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 15:14:18,235 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 15:14:18,589 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 15:14:18,590 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 15:14:18,590 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 15:14:18,591 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 15:14:18,592 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 15:14:18,592 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 15:14:19,162 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 15:14:19,163 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 15:14:19,633 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:14:19,961 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:14:21,305 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 15:14:23,392 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 15:14:31,639 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 15:14:31,641 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 15:14:31,641 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 15:14:31,642 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 15:14:31,642 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 15:14:31,642 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 15:14:31,642 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:14:31,647 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 15:14:31,647 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:14:32,255 - 3WayCoT.COTGenerator - ERROR - Error querying Gemini: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-05-25 15:14:32,256 - 3WayCoT.COTGenerator - WARNING - Using simulated response as fallback (API unavailable)
2025-05-25 15:14:32,257 - 3WayCoT.App - ERROR - Error processing prompt: list index out of range
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 323, in query_llm
    response = model_instance.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 429, in process_prompt
    reasoning_steps = self.framework.cot_generator.generate(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 703, in generate
    response = self.query_llm(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 349, in query_llm
    return self._simulated_response(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 815, in _simulated_response
    - Assumption: The query is about {query.split()[0]} if it were a real request
IndexError: list index out of range
2025-05-25 15:14:32,264 - 3WayCoT.GradioApp - ERROR - ERROR PROCESSING REQUEST
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 323, in query_llm
    response = model_instance.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 190, in process_prompt
    result = self.app.process_prompt(prompt_text, context_text)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 429, in process_prompt
    reasoning_steps = self.framework.cot_generator.generate(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 703, in generate
    response = self.query_llm(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 349, in query_llm
    return self._simulated_response(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 815, in _simulated_response
    - Assumption: The query is about {query.split()[0]} if it were a real request
IndexError: list index out of range
2025-05-25 15:14:32,269 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 15:14:32,270 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 15:14:32,271 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 15:14:32,271 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 15:16:26,960 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 15:16:33,514 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 15:16:34,099 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 15:16:34,100 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 15:16:34,448 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 15:16:34,448 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 15:16:34,449 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 15:16:34,449 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 15:16:34,450 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 15:16:34,450 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 15:16:35,002 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 15:16:35,004 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 15:16:35,716 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:16:35,947 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:16:37,131 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 15:16:39,187 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 15:16:43,596 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 15:16:43,596 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 15:16:43,597 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 15:16:43,598 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 15:16:43,598 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 15:16:43,599 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 15:16:43,599 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:16:43,604 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 15:16:43,605 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:16:44,092 - 3WayCoT.COTGenerator - ERROR - Error querying Gemini: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]
2025-05-25 15:16:44,094 - 3WayCoT.COTGenerator - WARNING - Using simulated response as fallback (API unavailable)
2025-05-25 15:16:44,094 - 3WayCoT.App - ERROR - Error processing prompt: list index out of range
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 323, in query_llm
    response = model_instance.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 429, in process_prompt
    reasoning_steps = self.framework.cot_generator.generate(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 703, in generate
    response = self.query_llm(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 349, in query_llm
    return self._simulated_response(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 815, in _simulated_response
    - Assumption: The query is about {query.split()[0]} if it were a real request
IndexError: list index out of range
2025-05-25 15:16:44,105 - 3WayCoT.GradioApp - ERROR - ERROR PROCESSING REQUEST
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 323, in query_llm
    response = model_instance.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 212, in _retry_error_helper
    raise final_exc from source_exc
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.InvalidArgument: 400 API key expired. Please renew the API key. [reason: "API_KEY_INVALID"
domain: "googleapis.com"
metadata {
  key: "service"
  value: "generativelanguage.googleapis.com"
}
, locale: "en-US"
message: "API key expired. Please renew the API key."
]

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 190, in process_prompt
    result = self.app.process_prompt(prompt_text, context_text)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 429, in process_prompt
    reasoning_steps = self.framework.cot_generator.generate(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 703, in generate
    response = self.query_llm(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 349, in query_llm
    return self._simulated_response(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 815, in _simulated_response
    - Assumption: The query is about {query.split()[0]} if it were a real request
IndexError: list index out of range
2025-05-25 15:16:44,114 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 15:16:44,115 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 15:16:44,115 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 15:16:44,116 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 15:18:26,287 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 15:18:41,038 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 15:18:41,738 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 15:18:41,740 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 15:18:42,124 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 15:18:42,125 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 15:18:42,125 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 15:18:42,125 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 15:18:42,125 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 15:18:42,126 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 15:18:42,702 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 15:18:42,703 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 15:18:43,112 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:18:43,632 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:18:44,859 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 15:18:46,932 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 15:37:03,858 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 15:37:03,860 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 15:37:03,860 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 15:37:03,862 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 15:37:03,863 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 15:37:03,863 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 15:37:03,863 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:37:03,868 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 15:37:03,869 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:37:05,157 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 15:37:05,158 - 3WayCoT.COTGenerator - INFO - Extracted 0 reasoning steps
2025-05-25 15:37:05,159 - 3WayCoT.COTGenerator - INFO - Generated 0 reasoning steps with assumptions
2025-05-25 15:37:05,159 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 0
2025-05-25 15:37:05,159 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 15:37:05,160 - 3WayCoT.App - INFO - Generated reasoning steps :[]
2025-05-25 15:37:05,160 - 3WayCoT.App - INFO - Generated 0 reasoning steps in 1.30 seconds
2025-05-25 15:37:05,161 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 15:37:05,161 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {}, 'membership_degrees': {}, 'confidence_calibration': {}}
2025-05-25 15:37:05,162 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 15:37:05,163 - 3WayCoT.ThreeWayDecisionMaker - WARNING - No reasoning steps found in analysis. Cannot make decisions.
2025-05-25 15:37:05,163 - root - INFO - Decisions: {'decisions': [], 'summary': {}, 'metadata': {'timestamp': '2025-05-25T15:37:05.163392', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True}}
2025-05-25 15:37:05,164 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 15:37:05,164 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 15:37:05,165 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 15:37:05,165 - 3WayCoT.App - INFO - Decision summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 15:37:05,165 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 15:37:05,166 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 15:37:05,166 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 15:37:05,167 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 15:37:05,167 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 15:37:05,168 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 15:37:05,168 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 15:37:05,169 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 15:37:05,169 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted']
2025-05-25 15:37:05,170 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 15:37:05,170 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 15:37:05,170 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 15:37:05,170 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 15:37:05,171 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'accept_confidence': 0.5, 'reject_confidence': 0.5, 'abstain_confidence': 0.5, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 15:37:05,171 - 3WayCoT.GradioApp - INFO - Found 0 reasoning steps in result_data['reasoning_steps']
2025-05-25 15:37:05,172 - 3WayCoT.GradioApp - WARNING - No reasoning steps found in the result data
2025-05-25 15:38:45,492 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 15:39:10,551 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 15:39:11,181 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 15:39:11,182 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 15:39:11,545 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 15:39:11,546 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 15:39:11,546 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 15:39:11,547 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 15:39:11,547 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 15:39:11,547 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 15:39:12,122 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 15:39:12,122 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 15:39:12,583 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:39:13,115 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:39:14,255 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 15:39:16,319 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 15:39:26,261 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 15:39:33,419 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 15:39:34,096 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 15:39:34,097 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 15:39:34,457 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 15:39:34,458 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 15:39:34,459 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 15:39:34,459 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 15:39:34,459 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 15:39:34,460 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 15:39:35,038 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 15:39:35,039 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 15:39:35,470 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:39:35,952 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 15:39:37,166 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 15:39:39,237 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 15:39:48,556 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 15:39:48,557 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 15:39:48,557 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 15:39:48,558 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 15:39:48,558 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 15:39:48,559 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 15:39:48,559 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:39:48,562 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 15:39:48,563 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:39:55,011 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 15:39:55,012 - 3WayCoT.COTGenerator - INFO - Extracted 7 reasoning steps
2025-05-25 15:39:55,014 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 15:39:55,015 - 3WayCoT.COTGenerator - INFO - Only 2 assumptions found for step 1 (expected up to 5). Assumptions: ['Implicit assumption: Left unsupervised', 'Implicit assumption: Left unsupervised']
2025-05-25 15:39:55,016 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (2): ['Implicit assumption: Left unsupervised', 'Implicit assumption: Left unsupervised']
2025-05-25 15:39:55,016 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 15:39:55,016 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 15:39:55,016 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 15:39:55,017 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 15:39:55,017 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 15:39:55,018 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 15:39:55,018 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 15:39:55,019 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Implicit assumption: Left unsupervised']
2025-05-25 15:39:55,019 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Implicit assumption: Left unsupervised']
2025-05-25 15:39:55,020 - 3WayCoT.COTGenerator - INFO - Processing step 5 for assumptions extraction
2025-05-25 15:39:55,021 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 5 (expected up to 5). Assumptions: []
2025-05-25 15:39:55,021 - 3WayCoT.COTGenerator - INFO - Step 5 final assumptions (0): []
2025-05-25 15:39:55,021 - 3WayCoT.COTGenerator - INFO - Processing step 6 for assumptions extraction
2025-05-25 15:39:55,021 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 6 (expected up to 5). Assumptions: []
2025-05-25 15:39:55,022 - 3WayCoT.COTGenerator - INFO - Step 6 final assumptions (0): []
2025-05-25 15:39:55,022 - 3WayCoT.COTGenerator - INFO - Processing step 7 for assumptions extraction
2025-05-25 15:39:55,022 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 7 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 15:39:55,023 - 3WayCoT.COTGenerator - INFO - Step 7 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 15:39:55,023 - 3WayCoT.COTGenerator - INFO - Generated 7 reasoning steps with assumptions
2025-05-25 15:39:55,023 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 4
2025-05-25 15:39:55,023 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 15:39:55,024 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'The farmer must first take the chicken across the river.  Leaving the fox and grain together is unsafe.\n\nconfidence: 0.95\nmethod: Logical deduction based on the problem statement.  This step is relatively straightforward given the constraints.\nAssumptions:\n1. The boat can only carry one item besides the farmer.\n2. The fox will eat the chicken if left unsupervised.\n3. The chicken will eat the grain if left unsupervised.\n4. The farmer can only take one item at a time across the river.\n5. The farmer wants to transport all three items safely.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: Left unsupervised', 'Implicit assumption: Left unsupervised'], 'annotated_reasoning': 'The farmer must first take the chicken across the river.  Leaving the fox and grain together is unsafe.\n\nconfidence: 0.95\nmethod: Logical deduction based on the problem statement.  This step is relatively straightforward given the constraints.\nAssumptions:\n1. The boat can only carry one item besides the farmer.\n2. The fox will eat the chicken if left unsupervised.\n3. The chicken will eat the grain if left unsupervised.\n4. The farmer can only take one item at a time across the river.\n5. The farmer wants to transport all three items safely.\n[Assumptions: Implicit assumption: Left unsupervised; Implicit assumption: Left unsupervised]'}, {'step_num': 2, 'reasoning': 'The farmer returns to the original side alone. This is necessary to transport another item.\n\nconfidence: 0.98\nmethod: Logical deduction; the only way to get another item across is for the farmer to return.\nAssumptions:\n1. The farmer can row the boat back to the original side.\n2. The fox and grain are safe while the farmer is away. (briefly)\n3. The farmer is capable of rowing the boat.\n4. The river is traversable.\n5. The boat is functional.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer returns to the original side alone. This is necessary to transport another item.\n\nconfidence: 0.98\nmethod: Logical deduction; the only way to get another item across is for the farmer to return.\nAssumptions:\n1. The farmer can row the boat back to the original side.\n2. The fox and grain are safe while the farmer is away. (briefly)\n3. The farmer is capable of rowing the boat.\n4. The river is traversable.\n5. The boat is functional.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': "The farmer takes the grain across the river. Leaving the fox alone is safe as it won't eat the grain.\n\nconfidence: 0.95\nmethod: Logical deduction based on the problem constraints.\nAssumptions:\n1. The fox will not eat the grain.\n2. The boat can carry the grain.\n3. The farmer can transport the grain.\n4. The grain is not damaged during transport.\n5. The farmer knows what to do.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "The farmer takes the grain across the river. Leaving the fox alone is safe as it won't eat the grain.\n\nconfidence: 0.95\nmethod: Logical deduction based on the problem constraints.\nAssumptions:\n1. The fox will not eat the grain.\n2. The boat can carry the grain.\n3. The farmer can transport the grain.\n4. The grain is not damaged during transport.\n5. The farmer knows what to do.\n[Assumptions: ]"}, {'step_num': 4, 'reasoning': 'The farmer brings the chicken back to the original side.  This prevents the chicken from eating the grain while the fox is transported.\n\nconfidence: 0.97\nmethod: Logical deduction; preventing the chicken from eating the grain is crucial.\nAssumptions:\n1. The chicken will eat the grain if left unsupervised.\n2. The farmer can retrieve the chicken.\n3. The chicken is cooperative.\n4. The boat is still functional.\n5. The farmer remembers the chicken.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: Left unsupervised'], 'annotated_reasoning': 'The farmer brings the chicken back to the original side.  This prevents the chicken from eating the grain while the fox is transported.\n\nconfidence: 0.97\nmethod: Logical deduction; preventing the chicken from eating the grain is crucial.\nAssumptions:\n1. The chicken will eat the grain if left unsupervised.\n2. The farmer can retrieve the chicken.\n3. The chicken is cooperative.\n4. The boat is still functional.\n5. The farmer remembers the chicken.\n[Assumptions: Implicit assumption: Left unsupervised]'}, {'step_num': 5, 'reasoning': 'The farmer takes the fox across the river.\n\nconfidence: 0.96\nmethod: Logical deduction; the final step in safely transporting all items.\nAssumptions:\n1. The fox can be transported safely in the boat.\n2. The fox will not harm the farmer.\n3. The fox will not escape.\n4. The fox is suitable for boat travel.\n5. The river is still traversable.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer takes the fox across the river.\n\nconfidence: 0.96\nmethod: Logical deduction; the final step in safely transporting all items.\nAssumptions:\n1. The fox can be transported safely in the boat.\n2. The fox will not harm the farmer.\n3. The fox will not escape.\n4. The fox is suitable for boat travel.\n5. The river is still traversable.\n[Assumptions: ]'}, {'step_num': 6, 'reasoning': 'The farmer returns alone to the original side and retrieves the chicken.\n\nconfidence: 0.98\nmethod: Logical deduction; the final step to complete the task.\nAssumptions:\n1. The farmer can row the boat.\n2. The chicken is still waiting.\n3. The boat is not damaged.\n4. The chicken is still safe.\n5. The farmer remembers the chicken.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer returns alone to the original side and retrieves the chicken.\n\nconfidence: 0.98\nmethod: Logical deduction; the final step to complete the task.\nAssumptions:\n1. The farmer can row the boat.\n2. The chicken is still waiting.\n3. The boat is not damaged.\n4. The chicken is still safe.\n5. The farmer remembers the chicken.\n[Assumptions: ]'}, {'step_num': 7, 'reasoning': 'Final Answer: The farmer can safely transport the fox, chicken, and grain by first taking the chicken across, returning alone, taking the grain across, bringing the chicken back, taking the fox across, and finally returning for the chicken.\n\nconfidence: 0.96\nmethod:  Logical deduction based on the step-by-step solution.  Confidence is slightly reduced due to potential for unforeseen circumstances (e.g., boat malfunction, animal behaviour).', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: The farmer can safely transport the fox, chicken, and grain by first taking the chicken across, returning alone, taking the grain across, bringing the chicken back, taking the fox across, and finally returning for the chicken.\n\nconfidence: 0.96\nmethod:  Logical deduction based on the step-by-step solution.  Confidence is slightly reduced due to potential for unforeseen circumstances (e.g., boat malfunction, animal behaviour).\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 15:39:55,029 - 3WayCoT.App - INFO - Generated 7 reasoning steps in 6.47 seconds
2025-05-25 15:39:55,029 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 15:39:55,030 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.98 (high)
2025-05-25 15:39:55,030 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.95 (high)
2025-05-25 15:39:55,030 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.97 (high)
2025-05-25 15:39:55,030 - 3WayCoT.App - INFO - Step 5: Extracted confidence 0.96 (high)
2025-05-25 15:39:55,031 - 3WayCoT.App - INFO - Step 6: Extracted confidence 0.98 (high)
2025-05-25 15:39:55,031 - 3WayCoT.App - INFO - Step 7: Extracted confidence 0.96 (high)
2025-05-25 15:39:55,031 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-logical deduction based on the problem statement.  this step is relatively straightforward given the constraints.
2025-05-25 15:39:55,032 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.98 (high) using method: structured-logical deduction; the only way to get another item across is for the farmer to return.
2025-05-25 15:39:55,032 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.95 (high) using method: structured-logical deduction based on the problem constraints.
2025-05-25 15:39:55,033 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.97 (high) using method: structured-logical deduction; preventing the chicken from eating the grain is crucial.
2025-05-25 15:39:55,033 - 3WayCoT.ConfidenceExtractor - INFO - Step 5: Extracted confidence 0.96 (high) using method: structured-logical deduction; the final step in safely transporting all items.
2025-05-25 15:39:55,033 - 3WayCoT.ConfidenceExtractor - INFO - Step 6: Extracted confidence 0.98 (high) using method: structured-logical deduction; the final step to complete the task.
2025-05-25 15:39:55,034 - 3WayCoT.ConfidenceExtractor - INFO - Step 7: Extracted confidence 0.96 (high) using method: structured-logical deduction based on the step-by-step solution.  confidence is slightly reduced due to potential for unforeseen circumstances (e.g., boat malfunction, animal behaviour).
2025-05-25 15:39:55,058 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 15:39:55,059 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.9642857142857142, 'max': 0.98, 'min': 0.95, 'range': 0.030000000000000027, 'variance': 0.0001387755102040819, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.010000000000000009}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 15:39:55,060 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 15:39:55,060 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.9642857142857142, 'max': 0.98, 'min': 0.95, 'range': 0.030000000000000027, 'variance': 0.0001387755102040819, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.010000000000000009}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 15:39:55,061 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 7, 'avg_confidence': 0.9642857142857142, 'min_confidence': 0.95, 'max_confidence': 0.98, 'distribution': {'high': 7, 'medium': 0, 'low': 0}}
2025-05-25 15:39:55,062 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 15:39:55,062 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 15:39:55,063 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 15:39:55,063 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.983, reject=0.017, abstain=0.000, confidence=0.970
2025-05-25 15:39:55,063 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.977, reject=0.023, abstain=0.000, confidence=0.960
2025-05-25 15:39:55,064 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 15:39:55,064 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.977, reject=0.023, abstain=0.000, confidence=0.960
2025-05-25 15:39:55,065 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 7, 'accept_count': 7, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9642857142857142, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 15:39:55,065 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.97, 'explanation': 'High confidence in step validity (confidence=0.970, accept=0.983, reject=0.017)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.025000000000000022, 'abstain': 0.0}}, {'step_index': 4, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.96, 'explanation': 'High confidence in step validity (confidence=0.960, accept=0.977, reject=0.023)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.03333333333333338, 'abstain': 0.0}}, {'step_index': 5, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 6, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.96, 'explanation': 'High confidence in step validity (confidence=0.960, accept=0.977, reject=0.023)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.03333333333333338, 'abstain': 0.0}}], 'summary': {'total_steps': 7, 'accept_count': 7, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9642857142857142, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T15:39:55.060580', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.9642857142857142, 'max': 0.98, 'min': 0.95, 'range': 0.030000000000000027, 'variance': 0.0001387755102040819, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.010000000000000009}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 7, 'avg_confidence': 0.9642857142857142, 'min_confidence': 0.95, 'max_confidence': 0.98, 'distribution': {'high': 7, 'medium': 0, 'low': 0}}}}
2025-05-25 15:39:55,070 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=7, REJECT=0, ABSTAIN=0
2025-05-25 15:39:55,070 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (7/7), Rejection: 0.00 (0/7), Abstention: 0.00 (0/7), Avg Confidence: 0.96
2025-05-25 15:39:55,070 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=7, REJECT=0, ABSTAIN=0
2025-05-25 15:39:55,071 - 3WayCoT.App - INFO - Decision summary: ACCEPT=7, REJECT=0, ABSTAIN=0
2025-05-25 15:39:55,071 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=7, REJECT=0, ABSTAIN=0
2025-05-25 15:39:55,071 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (7/7), Rejection: 0.00 (0/7), Abstention: 0.00 (0/7), Avg Confidence: 0.96
2025-05-25 15:39:55,071 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 15:39:55,072 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 15:39:55,072 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 15:39:55,073 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 15:39:55,073 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 15:39:55,074 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 15:39:55,074 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted', 'confidence_metrics', 'confidence_distribution']
2025-05-25 15:39:55,074 - 3WayCoT.GradioApp - INFO -    📊 Confidence distribution: {'count': 7, 'avg_confidence': 0.9642857142857142, 'min_confidence': 0.95, 'max_confidence': 0.98, 'distribution': {'high': 7, 'medium': 0, 'low': 0}}
2025-05-25 15:39:55,075 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 15:39:55,075 - 3WayCoT.GradioApp - INFO -    - avg_confidence_accept: 0.9642857142857142
2025-05-25 15:39:55,076 - 3WayCoT.GradioApp - INFO -    - avg_confidence_reject: 0.0
2025-05-25 15:39:55,077 - 3WayCoT.GradioApp - INFO -    - avg_confidence_abstain: 0.0
2025-05-25 15:39:55,077 - 3WayCoT.GradioApp - INFO -    - confidence_alignment: 1.0
2025-05-25 15:39:55,077 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 15:39:55,078 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 15:39:55,078 - 3WayCoT.GradioApp - INFO - Added metrics from confidence_distribution: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio']
2025-05-25 15:39:55,078 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 15:39:55,079 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'min_confidence': 0.95, 'max_confidence': 0.98, 'avg_confidence': 0.9642857142857142, 'high_confidence_ratio': 1.0, 'medium_confidence_ratio': 0.0, 'low_confidence_ratio': 0.0, 'accept_confidence': 0.9642857142857142, 'reject_confidence': 0.0, 'abstain_confidence': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 15:39:55,079 - 3WayCoT.GradioApp - INFO - Found 7 reasoning steps in result_data['reasoning_steps']
2025-05-25 15:39:55,080 - 3WayCoT.GradioApp - INFO - Processed 7 reasoning steps
2025-05-25 15:40:17,799 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 15:40:17,800 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 15:40:17,800 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 15:40:17,801 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 15:40:17,801 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 15:40:17,801 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 15:40:17,802 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:40:17,807 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 15:40:17,807 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:40:21,556 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 15:40:21,557 - 3WayCoT.COTGenerator - INFO - Extracted 4 reasoning steps
2025-05-25 15:40:21,558 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 15:40:21,559 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 15:40:21,559 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 15:40:21,559 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 15:40:21,560 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 15:40:21,560 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 15:40:21,560 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 15:40:21,560 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 15:40:21,561 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 15:40:21,561 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 15:40:21,561 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 15:40:21,561 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 15:40:21,562 - 3WayCoT.COTGenerator - INFO - Generated 4 reasoning steps with assumptions
2025-05-25 15:40:21,562 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-25 15:40:21,562 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 15:40:21,563 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'Identify the core information. The problem states that the farmer initially has 17 sheep, and all but 9 die.\n\nconfidence: 0.95\nmethod: Direct interpretation of the problem statement.  High confidence as the information is clearly stated.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. "All but 9" means 9 sheep survived.\n3. The word "die" implies permanent death.\n4. No additional sheep were added or removed.\n5. The number of sheep is a whole number.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Identify the core information. The problem states that the farmer initially has 17 sheep, and all but 9 die.\n\nconfidence: 0.95\nmethod: Direct interpretation of the problem statement.  High confidence as the information is clearly stated.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. "All but 9" means 9 sheep survived.\n3. The word "die" implies permanent death.\n4. No additional sheep were added or removed.\n5. The number of sheep is a whole number.\n[Assumptions: ]'}, {'step_num': 2, 'reasoning': 'Determine the number of surviving sheep.  The problem states that all but 9 sheep died, implying that 9 sheep survived.\n\nconfidence: 0.98\nmethod: Deductive reasoning based on the problem statement. Very high confidence as this is a direct consequence of Step 1.\nAssumptions:\n1.  Basic arithmetic is accurate.\n2. The meaning of "all but 9" is correctly understood.\n3.  No ambiguity exists in the wording of the problem.\n4. The initial count of 17 sheep is accurate.\n5. No sheep were born or acquired during the event.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Determine the number of surviving sheep.  The problem states that all but 9 sheep died, implying that 9 sheep survived.\n\nconfidence: 0.98\nmethod: Deductive reasoning based on the problem statement. Very high confidence as this is a direct consequence of Step 1.\nAssumptions:\n1.  Basic arithmetic is accurate.\n2. The meaning of "all but 9" is correctly understood.\n3.  No ambiguity exists in the wording of the problem.\n4. The initial count of 17 sheep is accurate.\n5. No sheep were born or acquired during the event.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': 'State the final answer. The number of sheep remaining is 9.\n\nconfidence: 0.97\nmethod: Direct result from Step 2. High confidence because the reasoning is straightforward.\nAssumptions:\n1. The calculation in Step 2 is correct.\n2. The interpretation of "all but 9" remains consistent.\n3. There are no hidden factors affecting the sheep population.\n4. The question is asking for the number of surviving sheep.\n5. The answer is a whole number representing the remaining sheep.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'State the final answer. The number of sheep remaining is 9.\n\nconfidence: 0.97\nmethod: Direct result from Step 2. High confidence because the reasoning is straightforward.\nAssumptions:\n1. The calculation in Step 2 is correct.\n2. The interpretation of "all but 9" remains consistent.\n3. There are no hidden factors affecting the sheep population.\n4. The question is asking for the number of surviving sheep.\n5. The answer is a whole number representing the remaining sheep.\n[Assumptions: ]'}, {'step_num': 4, 'reasoning': 'Final Answer: 9 sheep are left.\nconfidence: 0.97\nmethod:  This confidence is based on the combined confidence of the individual steps, which are all very high due to the straightforward nature of the problem and its clear statement.  The slight reduction from 0.98 reflects the cumulative effect of minor uncertainties in interpretation and calculation across all steps.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: 9 sheep are left.\nconfidence: 0.97\nmethod:  This confidence is based on the combined confidence of the individual steps, which are all very high due to the straightforward nature of the problem and its clear statement.  The slight reduction from 0.98 reflects the cumulative effect of minor uncertainties in interpretation and calculation across all steps.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 15:40:21,568 - 3WayCoT.App - INFO - Generated 4 reasoning steps in 3.77 seconds
2025-05-25 15:40:21,568 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 15:40:21,569 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.98 (high)
2025-05-25 15:40:21,569 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.97 (high)
2025-05-25 15:40:21,569 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.97 (high)
2025-05-25 15:40:21,570 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-direct interpretation of the problem statement.  high confidence as the information is clearly stated.
2025-05-25 15:40:21,570 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.98 (high) using method: structured-deductive reasoning based on the problem statement. very high confidence as this is a direct consequence of step 1.
2025-05-25 15:40:21,571 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.97 (high) using method: structured-direct result from step 2. high confidence because the reasoning is straightforward.
2025-05-25 15:40:21,571 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.97 (high) using method: structured-this confidence is based on the combined confidence of the individual steps, which are all very high due to the straightforward nature of the problem and its clear statement.  the slight reduction from 0.98 reflects the cumulative effect of minor uncertainties in interpretation and calculation across all steps.
2025-05-25 15:40:21,585 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 15:40:21,586 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.9675, 'max': 0.98, 'min': 0.95, 'range': 0.030000000000000027, 'variance': 0.00011875000000000022, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 15:40:21,587 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 15:40:21,588 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.9675, 'max': 0.98, 'min': 0.95, 'range': 0.030000000000000027, 'variance': 0.00011875000000000022, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 15:40:21,588 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 4, 'avg_confidence': 0.9675, 'min_confidence': 0.95, 'max_confidence': 0.98, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 15:40:21,589 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 15:40:21,589 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 15:40:21,590 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.983, reject=0.017, abstain=0.000, confidence=0.970
2025-05-25 15:40:21,590 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.983, reject=0.017, abstain=0.000, confidence=0.970
2025-05-25 15:40:21,590 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9675, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 15:40:21,591 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.97, 'explanation': 'High confidence in step validity (confidence=0.970, accept=0.983, reject=0.017)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.025000000000000022, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.97, 'explanation': 'High confidence in step validity (confidence=0.970, accept=0.983, reject=0.017)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.025000000000000022, 'abstain': 0.0}}], 'summary': {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9675, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T15:40:21.588927', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.9675, 'max': 0.98, 'min': 0.95, 'range': 0.030000000000000027, 'variance': 0.00011875000000000022, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 4, 'avg_confidence': 0.9675, 'min_confidence': 0.95, 'max_confidence': 0.98, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}}}
2025-05-25 15:40:21,594 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 15:40:21,594 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.97
2025-05-25 15:40:21,595 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 15:40:21,595 - 3WayCoT.App - INFO - Decision summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 15:40:21,595 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 15:40:21,596 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.97
2025-05-25 15:40:21,596 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 15:40:21,597 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 15:40:21,597 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 15:40:21,597 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 15:40:21,598 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 15:40:21,598 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 15:40:21,599 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted', 'confidence_metrics', 'confidence_distribution']
2025-05-25 15:40:21,599 - 3WayCoT.GradioApp - INFO -    📊 Confidence distribution: {'count': 4, 'avg_confidence': 0.9675, 'min_confidence': 0.95, 'max_confidence': 0.98, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 15:40:21,600 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 15:40:21,600 - 3WayCoT.GradioApp - INFO -    - avg_confidence_accept: 0.9675
2025-05-25 15:40:21,600 - 3WayCoT.GradioApp - INFO -    - avg_confidence_reject: 0.0
2025-05-25 15:40:21,600 - 3WayCoT.GradioApp - INFO -    - avg_confidence_abstain: 0.0
2025-05-25 15:40:21,601 - 3WayCoT.GradioApp - INFO -    - confidence_alignment: 1.0
2025-05-25 15:40:21,601 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 15:40:21,601 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 15:40:21,602 - 3WayCoT.GradioApp - INFO - Added metrics from confidence_distribution: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio']
2025-05-25 15:40:21,602 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 15:40:21,603 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'min_confidence': 0.95, 'max_confidence': 0.98, 'avg_confidence': 0.9675, 'high_confidence_ratio': 1.0, 'medium_confidence_ratio': 0.0, 'low_confidence_ratio': 0.0, 'accept_confidence': 0.9675, 'reject_confidence': 0.0, 'abstain_confidence': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 15:40:21,603 - 3WayCoT.GradioApp - INFO - Found 4 reasoning steps in result_data['reasoning_steps']
2025-05-25 15:40:21,604 - 3WayCoT.GradioApp - INFO - Processed 4 reasoning steps
2025-05-25 15:40:51,280 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 15:40:51,282 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 15:40:51,282 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 15:40:51,283 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 15:40:51,283 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 15:40:51,284 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 15:40:51,284 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:40:51,289 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 15:40:51,290 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:40:52,118 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 15:40:52,119 - 3WayCoT.COTGenerator - INFO - Extracted 0 reasoning steps
2025-05-25 15:40:52,119 - 3WayCoT.COTGenerator - INFO - Generated 0 reasoning steps with assumptions
2025-05-25 15:40:52,119 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 0
2025-05-25 15:40:52,120 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 15:40:52,120 - 3WayCoT.App - INFO - Generated reasoning steps :[]
2025-05-25 15:40:52,121 - 3WayCoT.App - INFO - Generated 0 reasoning steps in 0.84 seconds
2025-05-25 15:40:52,121 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 15:40:52,121 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {}, 'membership_degrees': {}, 'confidence_calibration': {}}
2025-05-25 15:40:52,121 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 15:40:52,122 - 3WayCoT.ThreeWayDecisionMaker - WARNING - No reasoning steps found in analysis. Cannot make decisions.
2025-05-25 15:40:52,122 - root - INFO - Decisions: {'decisions': [], 'summary': {}, 'metadata': {'timestamp': '2025-05-25T15:40:52.122980', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True}}
2025-05-25 15:40:52,123 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 15:40:52,123 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 15:40:52,123 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 15:40:52,125 - 3WayCoT.App - INFO - Decision summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 15:40:52,125 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 15:40:52,126 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 15:40:52,126 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 15:40:52,126 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 15:40:52,127 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 15:40:52,127 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 15:40:52,128 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 15:40:52,128 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 15:40:52,129 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted']
2025-05-25 15:40:52,129 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 15:40:52,130 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 15:40:52,130 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 15:40:52,131 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 15:40:52,131 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'accept_confidence': 0.5, 'reject_confidence': 0.5, 'abstain_confidence': 0.5, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 15:40:52,132 - 3WayCoT.GradioApp - INFO - Found 0 reasoning steps in result_data['reasoning_steps']
2025-05-25 15:40:52,132 - 3WayCoT.GradioApp - WARNING - No reasoning steps found in the result data
2025-05-25 15:41:30,070 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 15:41:30,071 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 15:41:30,071 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 15:41:30,072 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 15:41:30,072 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 15:41:30,072 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 15:41:30,072 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:41:30,076 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 15:41:30,076 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 15:41:36,428 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 15:41:36,428 - 3WayCoT.COTGenerator - INFO - Extracted 7 reasoning steps
2025-05-25 15:41:36,429 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 15:41:36,430 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 15:41:36,430 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 15:41:36,430 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 15:41:36,430 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 15:41:36,431 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 15:41:36,432 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 15:41:36,432 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 15:41:36,432 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 15:41:36,433 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 15:41:36,433 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 4 (expected up to 5). Assumptions: []
2025-05-25 15:41:36,433 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (0): []
2025-05-25 15:41:36,433 - 3WayCoT.COTGenerator - INFO - Processing step 5 for assumptions extraction
2025-05-25 15:41:36,434 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 5 (expected up to 5). Assumptions: []
2025-05-25 15:41:36,434 - 3WayCoT.COTGenerator - INFO - Step 5 final assumptions (0): []
2025-05-25 15:41:36,434 - 3WayCoT.COTGenerator - INFO - Processing step 6 for assumptions extraction
2025-05-25 15:41:36,435 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 6 (expected up to 5). Assumptions: []
2025-05-25 15:41:36,435 - 3WayCoT.COTGenerator - INFO - Step 6 final assumptions (0): []
2025-05-25 15:41:36,435 - 3WayCoT.COTGenerator - INFO - Processing step 7 for assumptions extraction
2025-05-25 15:41:36,436 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 7 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 15:41:36,436 - 3WayCoT.COTGenerator - INFO - Step 7 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 15:41:36,436 - 3WayCoT.COTGenerator - INFO - Generated 7 reasoning steps with assumptions
2025-05-25 15:41:36,436 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-25 15:41:36,437 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 15:41:36,437 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'The farmer must first take the chicken across the river.  Leaving the fox and grain together is safe.\n\nconfidence: 0.95\nmethod: Deductive reasoning based on problem statement.  High confidence as the initial step is straightforward given the constraints.\nAssumptions:\n1. The boat is large enough to carry the farmer and the chicken.\n2. The farmer can safely operate the boat.\n3. The chicken will not jump out of the boat.\n4. The fox will not escape its initial location.\n5. The grain will not be damaged by remaining alone.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer must first take the chicken across the river.  Leaving the fox and grain together is safe.\n\nconfidence: 0.95\nmethod: Deductive reasoning based on problem statement.  High confidence as the initial step is straightforward given the constraints.\nAssumptions:\n1. The boat is large enough to carry the farmer and the chicken.\n2. The farmer can safely operate the boat.\n3. The chicken will not jump out of the boat.\n4. The fox will not escape its initial location.\n5. The grain will not be damaged by remaining alone.\n[Assumptions: ]'}, {'step_num': 2, 'reasoning': 'The farmer returns to the original side alone.\n\nconfidence: 0.98\nmethod: Deductive reasoning.  This is a necessary step to continue the process.\nAssumptions:\n1. The farmer is capable of rowing the boat back.\n2. The boat is not damaged in the first crossing.\n3. No external factors interfere (e.g., strong current).\n4. The chicken remains on the other side.\n5. The farmer maintains his ability to complete the task.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer returns to the original side alone.\n\nconfidence: 0.98\nmethod: Deductive reasoning.  This is a necessary step to continue the process.\nAssumptions:\n1. The farmer is capable of rowing the boat back.\n2. The boat is not damaged in the first crossing.\n3. No external factors interfere (e.g., strong current).\n4. The chicken remains on the other side.\n5. The farmer maintains his ability to complete the task.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': 'The farmer takes the grain across the river. Leaving the fox alone is safe.\n\nconfidence: 0.95\nmethod: Deductive reasoning based on problem constraints.\nAssumptions:\n1. The boat is large enough to carry the farmer and the grain.\n2. The farmer can safely handle the grain.\n3. The grain will not be damaged during transport.\n4. The chicken will not eat the grain while the farmer is gone.\n5. The fox will not escape its location.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer takes the grain across the river. Leaving the fox alone is safe.\n\nconfidence: 0.95\nmethod: Deductive reasoning based on problem constraints.\nAssumptions:\n1. The boat is large enough to carry the farmer and the grain.\n2. The farmer can safely handle the grain.\n3. The grain will not be damaged during transport.\n4. The chicken will not eat the grain while the farmer is gone.\n5. The fox will not escape its location.\n[Assumptions: ]'}, {'step_num': 4, 'reasoning': 'The farmer brings the chicken back to the original side.  This prevents the chicken from eating the grain while the fox is transported.\n\nconfidence: 0.95\nmethod: Deductive reasoning; crucial step to prevent the chicken from eating the grain.\nAssumptions:\n1. The chicken cooperates and returns to the boat.\n2. The boat is capable of carrying both the farmer and the chicken.\n3. The chicken does not escape while on the boat.\n4. The fox remains in its location.\n5. No unexpected events occur.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer brings the chicken back to the original side.  This prevents the chicken from eating the grain while the fox is transported.\n\nconfidence: 0.95\nmethod: Deductive reasoning; crucial step to prevent the chicken from eating the grain.\nAssumptions:\n1. The chicken cooperates and returns to the boat.\n2. The boat is capable of carrying both the farmer and the chicken.\n3. The chicken does not escape while on the boat.\n4. The fox remains in its location.\n5. No unexpected events occur.\n[Assumptions: ]'}, {'step_num': 5, 'reasoning': 'The farmer takes the fox across the river.\n\nconfidence: 0.95\nmethod: Deductive reasoning; final step to complete the task.\nAssumptions:\n1. The boat is large enough to carry the farmer and the fox.\n2. The farmer can safely handle the fox.\n3. The fox does not escape while on the boat.\n4. The grain remains safe on the other side.\n5. The chicken remains safe on the original side.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer takes the fox across the river.\n\nconfidence: 0.95\nmethod: Deductive reasoning; final step to complete the task.\nAssumptions:\n1. The boat is large enough to carry the farmer and the fox.\n2. The farmer can safely handle the fox.\n3. The fox does not escape while on the boat.\n4. The grain remains safe on the other side.\n5. The chicken remains safe on the original side.\n[Assumptions: ]'}, {'step_num': 6, 'reasoning': 'The farmer returns alone to the original side and brings the chicken across.\n\nconfidence: 0.95\nmethod: Deductive reasoning; final step to complete the task.\nAssumptions:\n1. The boat is large enough to carry the farmer and the chicken.\n2. The farmer can safely handle the chicken.\n3. The chicken does not escape.\n4. The fox and grain remain safe.\n5. No unexpected events occur.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer returns alone to the original side and brings the chicken across.\n\nconfidence: 0.95\nmethod: Deductive reasoning; final step to complete the task.\nAssumptions:\n1. The boat is large enough to carry the farmer and the chicken.\n2. The farmer can safely handle the chicken.\n3. The chicken does not escape.\n4. The fox and grain remain safe.\n5. No unexpected events occur.\n[Assumptions: ]'}, {'step_num': 7, 'reasoning': 'Final Answer: The farmer can transport the fox, chicken, and grain safely across the river by following these steps: 1) Take the chicken across; 2) Return alone; 3) Take the grain across; 4) Bring the chicken back; 5) Take the fox across; 6) Return alone; 7) Take the chicken across.\n\nconfidence: 0.90\nmethod:  Combining confidence from each step, accounting for potential cumulative errors. Expert judgment and deductive reasoning are used throughout.  The overall confidence is slightly reduced to reflect the possibility of unforeseen events, though these are deemed unlikely given the assumptions.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: The farmer can transport the fox, chicken, and grain safely across the river by following these steps: 1) Take the chicken across; 2) Return alone; 3) Take the grain across; 4) Bring the chicken back; 5) Take the fox across; 6) Return alone; 7) Take the chicken across.\n\nconfidence: 0.90\nmethod:  Combining confidence from each step, accounting for potential cumulative errors. Expert judgment and deductive reasoning are used throughout.  The overall confidence is slightly reduced to reflect the possibility of unforeseen events, though these are deemed unlikely given the assumptions.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 15:41:36,443 - 3WayCoT.App - INFO - Generated 7 reasoning steps in 6.37 seconds
2025-05-25 15:41:36,443 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 15:41:36,443 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.98 (high)
2025-05-25 15:41:36,443 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.95 (high)
2025-05-25 15:41:36,444 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.95 (high)
2025-05-25 15:41:36,444 - 3WayCoT.App - INFO - Step 5: Extracted confidence 0.95 (high)
2025-05-25 15:41:36,444 - 3WayCoT.App - INFO - Step 6: Extracted confidence 0.95 (high)
2025-05-25 15:41:36,444 - 3WayCoT.App - INFO - Step 7: Extracted confidence 0.90 (high)
2025-05-25 15:41:36,446 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-deductive reasoning based on problem statement.  high confidence as the initial step is straightforward given the constraints.
2025-05-25 15:41:36,446 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.98 (high) using method: structured-deductive reasoning.  this is a necessary step to continue the process.
2025-05-25 15:41:36,446 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.95 (high) using method: structured-deductive reasoning based on problem constraints.
2025-05-25 15:41:36,447 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.95 (high) using method: structured-deductive reasoning; crucial step to prevent the chicken from eating the grain.
2025-05-25 15:41:36,447 - 3WayCoT.ConfidenceExtractor - INFO - Step 5: Extracted confidence 0.95 (high) using method: structured-deductive reasoning; final step to complete the task.
2025-05-25 15:41:36,447 - 3WayCoT.ConfidenceExtractor - INFO - Step 6: Extracted confidence 0.95 (high) using method: structured-deductive reasoning; final step to complete the task.
2025-05-25 15:41:36,448 - 3WayCoT.ConfidenceExtractor - INFO - Step 7: Extracted confidence 0.90 (high) using method: structured-combining confidence from each step, accounting for potential cumulative errors. expert judgment and deductive reasoning are used throughout.  the overall confidence is slightly reduced to reflect the possibility of unforeseen events, though these are deemed unlikely given the assumptions.
2025-05-25 15:41:36,507 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 15:41:36,508 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.9471428571428573, 'max': 0.98, 'min': 0.9, 'range': 0.07999999999999996, 'variance': 0.00047755102040816257, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.04999999999999993}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 15:41:36,509 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 15:41:36,509 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.9471428571428573, 'max': 0.98, 'min': 0.9, 'range': 0.07999999999999996, 'variance': 0.00047755102040816257, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.04999999999999993}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 15:41:36,510 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 7, 'avg_confidence': 0.9471428571428573, 'min_confidence': 0.9, 'max_confidence': 0.98, 'distribution': {'high': 7, 'medium': 0, 'low': 0}}
2025-05-25 15:41:36,510 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 15:41:36,511 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 15:41:36,511 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 15:41:36,511 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 15:41:36,512 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 15:41:36,512 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 15:41:36,512 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.945, reject=0.055, abstain=0.000, confidence=0.900
2025-05-25 15:41:36,513 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 7, 'accept_count': 7, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9471428571428573, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 15:41:36,514 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 4, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 5, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 6, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.9, 'explanation': 'High confidence in step validity (confidence=0.900, accept=0.945, reject=0.055)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.08333333333333331, 'abstain': 0.0}}], 'summary': {'total_steps': 7, 'accept_count': 7, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9471428571428573, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T15:41:36.509610', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.9471428571428573, 'max': 0.98, 'min': 0.9, 'range': 0.07999999999999996, 'variance': 0.00047755102040816257, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.04999999999999993}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 7, 'avg_confidence': 0.9471428571428573, 'min_confidence': 0.9, 'max_confidence': 0.98, 'distribution': {'high': 7, 'medium': 0, 'low': 0}}}}
2025-05-25 15:41:36,518 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=7, REJECT=0, ABSTAIN=0
2025-05-25 15:41:36,518 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (7/7), Rejection: 0.00 (0/7), Abstention: 0.00 (0/7), Avg Confidence: 0.95
2025-05-25 15:41:36,519 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=7, REJECT=0, ABSTAIN=0
2025-05-25 15:41:36,519 - 3WayCoT.App - INFO - Decision summary: ACCEPT=7, REJECT=0, ABSTAIN=0
2025-05-25 15:41:36,519 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=7, REJECT=0, ABSTAIN=0
2025-05-25 15:41:36,520 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (7/7), Rejection: 0.00 (0/7), Abstention: 0.00 (0/7), Avg Confidence: 0.95
2025-05-25 15:41:36,521 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 15:41:36,521 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 15:41:36,521 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 15:41:36,522 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 15:41:36,522 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 15:41:36,523 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 15:41:36,523 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted', 'confidence_metrics', 'confidence_distribution']
2025-05-25 15:41:36,523 - 3WayCoT.GradioApp - INFO -    📊 Confidence distribution: {'count': 7, 'avg_confidence': 0.9471428571428573, 'min_confidence': 0.9, 'max_confidence': 0.98, 'distribution': {'high': 7, 'medium': 0, 'low': 0}}
2025-05-25 15:41:36,524 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 15:41:36,524 - 3WayCoT.GradioApp - INFO -    - avg_confidence_accept: 0.9471428571428573
2025-05-25 15:41:36,524 - 3WayCoT.GradioApp - INFO -    - avg_confidence_reject: 0.0
2025-05-25 15:41:36,524 - 3WayCoT.GradioApp - INFO -    - avg_confidence_abstain: 0.0
2025-05-25 15:41:36,525 - 3WayCoT.GradioApp - INFO -    - confidence_alignment: 1.0
2025-05-25 15:41:36,525 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 15:41:36,525 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 15:41:36,526 - 3WayCoT.GradioApp - INFO - Added metrics from confidence_distribution: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio']
2025-05-25 15:41:36,526 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 15:41:36,527 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'min_confidence': 0.9, 'max_confidence': 0.98, 'avg_confidence': 0.9471428571428573, 'high_confidence_ratio': 1.0, 'medium_confidence_ratio': 0.0, 'low_confidence_ratio': 0.0, 'accept_confidence': 0.9471428571428573, 'reject_confidence': 0.0, 'abstain_confidence': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 15:41:36,528 - 3WayCoT.GradioApp - INFO - Found 7 reasoning steps in result_data['reasoning_steps']
2025-05-25 15:41:36,528 - 3WayCoT.GradioApp - INFO - Processed 7 reasoning steps
2025-05-25 17:02:18,875 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 17:02:18,877 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 17:02:18,877 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 17:02:18,878 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 17:02:18,878 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 17:02:18,878 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 17:02:18,879 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 17:02:18,882 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 17:02:18,882 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 17:02:26,039 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 17:02:26,040 - 3WayCoT.COTGenerator - INFO - Extracted 8 reasoning steps
2025-05-25 17:02:26,041 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 17:02:26,041 - 3WayCoT.COTGenerator - INFO - Only 2 assumptions found for step 1 (expected up to 5). Assumptions: ['Implicit assumption: Left unsupervised', 'Implicit assumption: Left unsupervised']
2025-05-25 17:02:26,041 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (2): ['Implicit assumption: Left unsupervised', 'Implicit assumption: Left unsupervised']
2025-05-25 17:02:26,042 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 17:02:26,042 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 17:02:26,042 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 17:02:26,043 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 17:02:26,043 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 17:02:26,043 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 17:02:26,043 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 17:02:26,044 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Implicit assumption: Left unsupervised']
2025-05-25 17:02:26,044 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Implicit assumption: Left unsupervised']
2025-05-25 17:02:26,044 - 3WayCoT.COTGenerator - INFO - Processing step 5 for assumptions extraction
2025-05-25 17:02:26,044 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 5 (expected up to 5). Assumptions: []
2025-05-25 17:02:26,045 - 3WayCoT.COTGenerator - INFO - Step 5 final assumptions (0): []
2025-05-25 17:02:26,045 - 3WayCoT.COTGenerator - INFO - Processing step 6 for assumptions extraction
2025-05-25 17:02:26,046 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 6 (expected up to 5). Assumptions: []
2025-05-25 17:02:26,046 - 3WayCoT.COTGenerator - INFO - Step 6 final assumptions (0): []
2025-05-25 17:02:26,046 - 3WayCoT.COTGenerator - INFO - Processing step 7 for assumptions extraction
2025-05-25 17:02:26,047 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 7 (expected up to 5). Assumptions: []
2025-05-25 17:02:26,047 - 3WayCoT.COTGenerator - INFO - Step 7 final assumptions (0): []
2025-05-25 17:02:26,047 - 3WayCoT.COTGenerator - INFO - Processing step 8 for assumptions extraction
2025-05-25 17:02:26,048 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 8 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 17:02:26,048 - 3WayCoT.COTGenerator - INFO - Step 8 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 17:02:26,048 - 3WayCoT.COTGenerator - INFO - Generated 8 reasoning steps with assumptions
2025-05-25 17:02:26,048 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 4
2025-05-25 17:02:26,049 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 17:02:26,049 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'The farmer must first take the chicken across the river.  Leaving the fox and grain together is unsafe.\n\nconfidence: 0.95\nmethod: Logical deduction based on problem constraints.\nAssumptions:\n1. The fox will eat the chicken if left unsupervised.\n2. The chicken will eat the grain if left unsupervised.\n3. The boat can only carry one item besides the farmer.\n4. The farmer cannot leave the chicken alone with either the fox or the grain.\n5. The river crossing is the only way to transport the items.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: Left unsupervised', 'Implicit assumption: Left unsupervised'], 'annotated_reasoning': 'The farmer must first take the chicken across the river.  Leaving the fox and grain together is unsafe.\n\nconfidence: 0.95\nmethod: Logical deduction based on problem constraints.\nAssumptions:\n1. The fox will eat the chicken if left unsupervised.\n2. The chicken will eat the grain if left unsupervised.\n3. The boat can only carry one item besides the farmer.\n4. The farmer cannot leave the chicken alone with either the fox or the grain.\n5. The river crossing is the only way to transport the items.\n[Assumptions: Implicit assumption: Left unsupervised; Implicit assumption: Left unsupervised]'}, {'step_num': 2, 'reasoning': "The farmer returns alone to the original side.\n\nconfidence: 0.98\nmethod:  Logical deduction; there's no other option to proceed without violating the constraints.\nAssumptions:\n1. The boat can only carry one item besides the farmer.\n2. The farmer must return to get the remaining items.\n3. The farmer cannot leave the fox and grain together.\n4. The fox will not eat the chicken while the farmer is gone.\n5. The chicken will not eat the grain while the farmer is gone.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "The farmer returns alone to the original side.\n\nconfidence: 0.98\nmethod:  Logical deduction; there's no other option to proceed without violating the constraints.\nAssumptions:\n1. The boat can only carry one item besides the farmer.\n2. The farmer must return to get the remaining items.\n3. The farmer cannot leave the fox and grain together.\n4. The fox will not eat the chicken while the farmer is gone.\n5. The chicken will not eat the grain while the farmer is gone.\n[Assumptions: ]"}, {'step_num': 3, 'reasoning': 'The farmer takes the grain across the river.\n\nconfidence: 0.95\nmethod: Logical deduction; this is the only safe action given the constraints.\nAssumptions:\n1. The chicken will not eat the grain while the farmer is gone.\n2. The boat can only carry one item besides the farmer.\n3. Leaving the fox alone on the original side is safe.\n4. The fox will not cross the river without the farmer.\n5. The farmer can safely transport the grain across.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer takes the grain across the river.\n\nconfidence: 0.95\nmethod: Logical deduction; this is the only safe action given the constraints.\nAssumptions:\n1. The chicken will not eat the grain while the farmer is gone.\n2. The boat can only carry one item besides the farmer.\n3. Leaving the fox alone on the original side is safe.\n4. The fox will not cross the river without the farmer.\n5. The farmer can safely transport the grain across.\n[Assumptions: ]'}, {'step_num': 4, 'reasoning': 'The farmer brings the chicken back to the original side.\n\nconfidence: 0.98\nmethod: Logical deduction; this prevents the fox from eating the chicken.\nAssumptions:\n1. The fox will eat the chicken if left unsupervised.\n2. The boat can only carry one item besides the farmer.\n3. The chicken will not eat the grain while the farmer is gone.\n4. The farmer must retrieve the chicken to prevent the fox from eating it.\n5. The farmer can safely transport the chicken back.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: Left unsupervised'], 'annotated_reasoning': 'The farmer brings the chicken back to the original side.\n\nconfidence: 0.98\nmethod: Logical deduction; this prevents the fox from eating the chicken.\nAssumptions:\n1. The fox will eat the chicken if left unsupervised.\n2. The boat can only carry one item besides the farmer.\n3. The chicken will not eat the grain while the farmer is gone.\n4. The farmer must retrieve the chicken to prevent the fox from eating it.\n5. The farmer can safely transport the chicken back.\n[Assumptions: Implicit assumption: Left unsupervised]'}, {'step_num': 5, 'reasoning': 'The farmer takes the fox across the river.\n\nconfidence: 0.95\nmethod: Logical deduction; this is the only remaining step to complete the task.\nAssumptions:\n1. The fox will not eat the grain.\n2. The boat can only carry one item besides the farmer.\n3. The chicken is safe on the original side.\n4. The fox will not eat the chicken without the grain present.\n5. The farmer can safely transport the fox across.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer takes the fox across the river.\n\nconfidence: 0.95\nmethod: Logical deduction; this is the only remaining step to complete the task.\nAssumptions:\n1. The fox will not eat the grain.\n2. The boat can only carry one item besides the farmer.\n3. The chicken is safe on the original side.\n4. The fox will not eat the chicken without the grain present.\n5. The farmer can safely transport the fox across.\n[Assumptions: ]'}, {'step_num': 6, 'reasoning': 'The farmer returns alone to the original side.\n\nconfidence: 0.98\nmethod: Logical deduction; necessary to complete the task.\nAssumptions:\n1. The boat can only carry one item besides the farmer.\n2. The farmer must return to get the chicken.\n3. The fox will not eat the chicken while the farmer is gone.\n4. The chicken will not eat the grain while the farmer is gone.\n5. The farmer can safely return to the original side.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer returns alone to the original side.\n\nconfidence: 0.98\nmethod: Logical deduction; necessary to complete the task.\nAssumptions:\n1. The boat can only carry one item besides the farmer.\n2. The farmer must return to get the chicken.\n3. The fox will not eat the chicken while the farmer is gone.\n4. The chicken will not eat the grain while the farmer is gone.\n5. The farmer can safely return to the original side.\n[Assumptions: ]'}, {'step_num': 7, 'reasoning': 'The farmer takes the chicken across the river.\n\nconfidence: 0.95\nmethod: Logical deduction; this is the final step to solve the problem.\nAssumptions:\n1. The chicken is safe with the grain on the other side.\n2. The boat can only carry one item besides the farmer.\n3. The fox will not eat the chicken while the farmer is gone.\n4. The chicken will not eat the grain while the farmer is gone.\n5. The farmer can safely transport the chicken across.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer takes the chicken across the river.\n\nconfidence: 0.95\nmethod: Logical deduction; this is the final step to solve the problem.\nAssumptions:\n1. The chicken is safe with the grain on the other side.\n2. The boat can only carry one item besides the farmer.\n3. The fox will not eat the chicken while the farmer is gone.\n4. The chicken will not eat the grain while the farmer is gone.\n5. The farmer can safely transport the chicken across.\n[Assumptions: ]'}, {'step_num': 8, 'reasoning': 'Final Answer: The farmer can safely transport the fox, chicken, and grain across the river by following these steps: 1. Take the chicken across. 2. Return alone. 3. Take the grain across. 4. Bring the chicken back. 5. Take the fox across. 6. Return alone. 7. Take the chicken across.\n\nconfidence: 0.90\nmethod:  Deductive reasoning based on a series of logical steps and constraints.  The confidence is slightly lower than individual steps due to the cumulative effect of assumptions.  There is a small degree of uncertainty because the assumptions', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: The farmer can safely transport the fox, chicken, and grain across the river by following these steps: 1. Take the chicken across. 2. Return alone. 3. Take the grain across. 4. Bring the chicken back. 5. Take the fox across. 6. Return alone. 7. Take the chicken across.\n\nconfidence: 0.90\nmethod:  Deductive reasoning based on a series of logical steps and constraints.  The confidence is slightly lower than individual steps due to the cumulative effect of assumptions.  There is a small degree of uncertainty because the assumptions\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 17:02:26,056 - 3WayCoT.App - INFO - Generated 8 reasoning steps in 7.18 seconds
2025-05-25 17:02:26,057 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 17:02:26,057 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.98 (high)
2025-05-25 17:02:26,057 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.95 (high)
2025-05-25 17:02:26,057 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.98 (high)
2025-05-25 17:02:26,058 - 3WayCoT.App - INFO - Step 5: Extracted confidence 0.95 (high)
2025-05-25 17:02:26,058 - 3WayCoT.App - INFO - Step 6: Extracted confidence 0.98 (high)
2025-05-25 17:02:26,058 - 3WayCoT.App - INFO - Step 7: Extracted confidence 0.95 (high)
2025-05-25 17:02:26,058 - 3WayCoT.App - INFO - Step 8: Extracted confidence 0.90 (high)
2025-05-25 17:02:26,058 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-logical deduction based on problem constraints.
2025-05-25 17:02:26,058 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.98 (high) using method: structured-logical deduction; there's no other option to proceed without violating the constraints.
2025-05-25 17:02:26,059 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.95 (high) using method: structured-logical deduction; this is the only safe action given the constraints.
2025-05-25 17:02:26,059 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.98 (high) using method: structured-logical deduction; this prevents the fox from eating the chicken.
2025-05-25 17:02:26,060 - 3WayCoT.ConfidenceExtractor - INFO - Step 5: Extracted confidence 0.95 (high) using method: structured-logical deduction; this is the only remaining step to complete the task.
2025-05-25 17:02:26,060 - 3WayCoT.ConfidenceExtractor - INFO - Step 6: Extracted confidence 0.98 (high) using method: structured-logical deduction; necessary to complete the task.
2025-05-25 17:02:26,061 - 3WayCoT.ConfidenceExtractor - INFO - Step 7: Extracted confidence 0.95 (high) using method: structured-logical deduction; this is the final step to solve the problem.
2025-05-25 17:02:26,061 - 3WayCoT.ConfidenceExtractor - INFO - Step 8: Extracted confidence 0.90 (high) using method: structured-deductive reasoning based on a series of logical steps and constraints.  the confidence is slightly lower than individual steps due to the cumulative effect of assumptions.  there is a small degree of uncertainty because the assumptions
2025-05-25 17:02:26,111 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 17:02:26,112 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.955, 'max': 0.98, 'min': 0.9, 'range': 0.07999999999999996, 'variance': 0.0006249999999999995, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.04999999999999993}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 17:02:26,114 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 17:02:26,114 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.955, 'max': 0.98, 'min': 0.9, 'range': 0.07999999999999996, 'variance': 0.0006249999999999995, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.04999999999999993}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 17:02:26,114 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 8, 'avg_confidence': 0.955, 'min_confidence': 0.9, 'max_confidence': 0.98, 'distribution': {'high': 8, 'medium': 0, 'low': 0}}
2025-05-25 17:02:26,115 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 17:02:26,115 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 17:02:26,115 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 17:02:26,116 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 17:02:26,116 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 17:02:26,116 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 17:02:26,117 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 17:02:26,117 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.945, reject=0.055, abstain=0.000, confidence=0.900
2025-05-25 17:02:26,117 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 8, 'accept_count': 8, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.955, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 17:02:26,118 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 4, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 5, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 6, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 7, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.9, 'explanation': 'High confidence in step validity (confidence=0.900, accept=0.945, reject=0.055)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.08333333333333331, 'abstain': 0.0}}], 'summary': {'total_steps': 8, 'accept_count': 8, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.955, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T17:02:26.114628', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.955, 'max': 0.98, 'min': 0.9, 'range': 0.07999999999999996, 'variance': 0.0006249999999999995, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.04999999999999993}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 8, 'avg_confidence': 0.955, 'min_confidence': 0.9, 'max_confidence': 0.98, 'distribution': {'high': 8, 'medium': 0, 'low': 0}}}}
2025-05-25 17:02:26,122 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=8, REJECT=0, ABSTAIN=0
2025-05-25 17:02:26,122 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (8/8), Rejection: 0.00 (0/8), Abstention: 0.00 (0/8), Avg Confidence: 0.95
2025-05-25 17:02:26,123 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=8, REJECT=0, ABSTAIN=0
2025-05-25 17:02:26,123 - 3WayCoT.App - INFO - Decision summary: ACCEPT=8, REJECT=0, ABSTAIN=0
2025-05-25 17:02:26,123 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=8, REJECT=0, ABSTAIN=0
2025-05-25 17:02:26,123 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (8/8), Rejection: 0.00 (0/8), Abstention: 0.00 (0/8), Avg Confidence: 0.95
2025-05-25 17:02:26,124 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 17:02:26,124 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 17:02:26,124 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 17:02:26,125 - 3WayCoT.GradioApp - INFO - 🔍 Result data keys: ['prompt', 'context', 'reasoning_steps', 'decisions', 'analysis_results', 'metrics', 'timestamp']
2025-05-25 17:02:26,125 - 3WayCoT.GradioApp - INFO - 📊 Analysis results keys: ['decisions', 'reasoning_steps', 'tfca_results', 'metrics']
2025-05-25 17:02:26,125 - 3WayCoT.GradioApp - INFO - 🎯 Decisions keys: ['decisions', 'summary', 'metadata']
2025-05-25 17:02:26,126 - 3WayCoT.GradioApp - INFO -    📋 Metadata keys: ['timestamp', 'thresholds', 'algorithm_version', 'confidence_weighted', 'confidence_metrics', 'confidence_distribution']
2025-05-25 17:02:26,126 - 3WayCoT.GradioApp - INFO -    📊 Confidence distribution: {'count': 8, 'avg_confidence': 0.955, 'min_confidence': 0.9, 'max_confidence': 0.98, 'distribution': {'high': 8, 'medium': 0, 'low': 0}}
2025-05-25 17:02:26,126 - 3WayCoT.GradioApp - INFO - 📝 Decision summary:
2025-05-25 17:02:26,127 - 3WayCoT.GradioApp - INFO -    - avg_confidence_accept: 0.955
2025-05-25 17:02:26,127 - 3WayCoT.GradioApp - INFO -    - avg_confidence_reject: 0.0
2025-05-25 17:02:26,127 - 3WayCoT.GradioApp - INFO -    - avg_confidence_abstain: 0.0
2025-05-25 17:02:26,127 - 3WayCoT.GradioApp - INFO -    - confidence_alignment: 1.0
2025-05-25 17:02:26,128 - 3WayCoT.GradioApp - INFO - --------------------------------------------------------------------------------
2025-05-25 17:02:26,128 - 3WayCoT.GradioApp - INFO - Added metrics from analysis_results: ['confidence', 'clarity', 'consistency']
2025-05-25 17:02:26,129 - 3WayCoT.GradioApp - INFO - Added metrics from confidence_distribution: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio']
2025-05-25 17:02:26,129 - 3WayCoT.GradioApp - INFO - Added metrics from decision summary: ['confidence', 'clarity', 'consistency', 'min_confidence', 'max_confidence', 'avg_confidence', 'high_confidence_ratio', 'medium_confidence_ratio', 'low_confidence_ratio', 'accept_confidence', 'reject_confidence', 'abstain_confidence', 'decision_consistency', 'confidence_alignment']
2025-05-25 17:02:26,130 - 3WayCoT.GradioApp - INFO - Final confidence metrics: {'confidence': 0.5, 'clarity': 0.5, 'consistency': 0.5, 'min_confidence': 0.9, 'max_confidence': 0.98, 'avg_confidence': 0.955, 'high_confidence_ratio': 1.0, 'medium_confidence_ratio': 0.0, 'low_confidence_ratio': 0.0, 'accept_confidence': 0.955, 'reject_confidence': 0.0, 'abstain_confidence': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 17:02:26,130 - 3WayCoT.GradioApp - INFO - Found 8 reasoning steps in result_data['reasoning_steps']
2025-05-25 17:02:26,131 - 3WayCoT.GradioApp - INFO - Processed 8 reasoning steps
2025-05-25 17:43:29,481 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 17:43:38,114 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 17:43:38,988 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 17:43:38,990 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 17:43:39,461 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 17:43:39,462 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 17:43:39,462 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 17:43:39,462 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 17:43:39,463 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 17:43:39,463 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 17:43:39,872 - 3WayCoT.UI - ERROR - Failed to launch the application: 'dict' object has no attribute '_id'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2328, in main
    demo = create_interface()
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1212, in create_interface
    submit_btn.click(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\gradio\events.py", line 709, in event_trigger
    return Dependency(block, dep.get_config(), dep_index, fn)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\gradio\blocks.py", line 633, in get_config
    "inputs": [block._id for block in self.inputs],
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\gradio\blocks.py", line 633, in <listcomp>
    "inputs": [block._id for block in self.inputs],
AttributeError: 'dict' object has no attribute '_id'
2025-05-25 17:43:39,891 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 17:43:39,892 - 3WayCoT.Main - ERROR - Unexpected error: 'dict' object has no attribute '_id'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2377, in <module>
    main()
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2328, in main
    demo = create_interface()
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1212, in create_interface
    submit_btn.click(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\gradio\events.py", line 709, in event_trigger
    return Dependency(block, dep.get_config(), dep_index, fn)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\gradio\blocks.py", line 633, in get_config
    "inputs": [block._id for block in self.inputs],
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\gradio\blocks.py", line 633, in <listcomp>
    "inputs": [block._id for block in self.inputs],
AttributeError: 'dict' object has no attribute '_id'
2025-05-25 17:43:40,588 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:06:15,900 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 18:06:16,522 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 18:06:16,524 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 18:06:16,870 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 18:06:16,870 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 18:06:16,871 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 18:06:16,871 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 18:06:16,871 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 18:06:16,871 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 18:06:17,221 - 3WayCoT.UI - ERROR - Failed to launch the application: Dataframe.__init__() got an unexpected keyword argument 'max_rows'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2351, in main
    demo = create_interface()
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1103, in create_interface
    history_table = gr.Dataframe(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\gradio\component_meta.py", line 182, in wrapper
    return fn(self, **kwargs)
TypeError: Dataframe.__init__() got an unexpected keyword argument 'max_rows'
2025-05-25 18:06:17,238 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 18:06:17,239 - 3WayCoT.Main - ERROR - Unexpected error: Dataframe.__init__() got an unexpected keyword argument 'max_rows'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2400, in <module>
    main()
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2351, in main
    demo = create_interface()
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 1103, in create_interface
    history_table = gr.Dataframe(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\gradio\component_meta.py", line 182, in wrapper
    return fn(self, **kwargs)
TypeError: Dataframe.__init__() got an unexpected keyword argument 'max_rows'
2025-05-25 18:06:18,090 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:06:51,807 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 18:06:52,466 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 18:06:52,467 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 18:06:52,829 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 18:06:52,830 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 18:06:52,830 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 18:06:52,831 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 18:06:52,831 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 18:06:52,831 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 18:06:53,407 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 18:06:53,409 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 18:06:53,890 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:06:54,275 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:06:55,546 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 18:06:57,617 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 18:23:47,706 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 18:23:48,420 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 18:23:48,422 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 18:23:48,834 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 18:23:48,834 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 18:23:48,835 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 18:23:48,835 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 18:23:48,835 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 18:23:48,836 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 18:23:49,425 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 18:23:49,426 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 18:23:49,887 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:23:50,321 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:23:54,502 - 3WayCoT.UI - WARNING - Port 7860 is in use, trying next port...
2025-05-25 18:23:54,503 - 3WayCoT.UI - INFO - Attempting to launch on port 7861...
2025-05-25 18:23:56,618 - httpx - INFO - HTTP Request: GET http://localhost:7861/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 18:23:58,690 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 18:24:15,966 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 18:24:15,967 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 18:24:15,968 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 18:24:15,969 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 18:24:15,969 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 18:24:15,970 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 18:24:15,971 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 18:24:15,976 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 18:24:15,976 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 18:24:16,789 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:17,217 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:17,986 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:18,877 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:19,336 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:20,345 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:23,387 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:26,999 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:28,720 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:29,166 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:30,919 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:32,958 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:35,560 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:40,066 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:47,983 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:50,698 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 18:24:51,270 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:55,200 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 18:24:55,820 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 18:24:55,821 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 18:24:56,164 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 18:24:56,164 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 18:24:56,165 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 18:24:56,165 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 18:24:56,166 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 18:24:56,166 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 18:24:56,742 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 18:24:56,744 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 18:24:57,147 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:24:57,240 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:24:57,643 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:24:58,147 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:25:01,816 - 3WayCoT.UI - WARNING - Port 7860 is in use, trying next port...
2025-05-25 18:25:01,817 - 3WayCoT.UI - INFO - Attempting to launch on port 7861...
2025-05-25 18:25:03,927 - httpx - INFO - HTTP Request: GET http://localhost:7861/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 18:25:06,001 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 18:25:06,785 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:25:10,142 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:25:11,365 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 18:25:11,366 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 18:25:11,367 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 18:25:11,368 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 18:25:11,368 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 18:25:11,369 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 18:25:11,369 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 18:25:11,372 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 18:25:11,372 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 18:25:14,540 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:25:16,068 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:25:17,466 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 18:25:17,467 - 3WayCoT.COTGenerator - INFO - Extracted 4 reasoning steps
2025-05-25 18:25:17,468 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 18:25:17,469 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 18:25:17,470 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 18:25:17,471 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 18:25:17,471 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 18:25:17,471 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 18:25:17,472 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 18:25:17,472 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 18:25:17,472 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 18:25:17,473 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 18:25:17,473 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 18:25:17,474 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 18:25:17,474 - 3WayCoT.COTGenerator - INFO - Generated 4 reasoning steps with assumptions
2025-05-25 18:25:17,474 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-25 18:25:17,475 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 18:25:17,475 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': "Define variables and constraints. Let 'w' represent acres of wheat and 'c' represent acres of corn.  The objective is to maximize profit (P) = 200w + 300c.  Constraints are: w + c ≤ 100 (total land), 5w + 10c ≤ 600 (fertilizer), w ≥ 0, c ≥ 0 (non-negativity).\n\nconfidence: 0.95\nmethod: Mathematical formulation of a linear programming problem; high confidence due to well-defined problem parameters.\nAssumptions:\n1.  Profit is solely determined by yield per acre.\n2.  Fertilizer is the only limiting resource.\n3.  Yields are constant across the entire land.\n4.  Planting and harvesting costs are negligible.\n5.  Market prices for wheat and corn are stable.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "Define variables and constraints. Let 'w' represent acres of wheat and 'c' represent acres of corn.  The objective is to maximize profit (P) = 200w + 300c.  Constraints are: w + c ≤ 100 (total land), 5w + 10c ≤ 600 (fertilizer), w ≥ 0, c ≥ 0 (non-negativity).\n\nconfidence: 0.95\nmethod: Mathematical formulation of a linear programming problem; high confidence due to well-defined problem parameters.\nAssumptions:\n1.  Profit is solely determined by yield per acre.\n2.  Fertilizer is the only limiting resource.\n3.  Yields are constant across the entire land.\n4.  Planting and harvesting costs are negligible.\n5.  Market prices for wheat and corn are stable.\n[Assumptions: ]"}, {'step_num': 2, 'reasoning': 'Solve the linear programming problem.  This can be done graphically or using the simplex method.  The feasible region is defined by the constraints. The optimal solution will lie at a corner point of this region.\n\nconfidence: 0.90\nmethod:  Standard linear programming techniques. Confidence is reduced slightly due to the potential for calculation errors, although readily verifiable.\nAssumptions:\n1.  The linear programming model accurately reflects reality.\n2.  The simplex method (or chosen solution technique) is correctly applied.\n3.  The solution found is a global maximum, not a local one.\n4.  The assumptions made in step 1 hold true.\n5.  There are no unforeseen external factors affecting yield.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Solve the linear programming problem.  This can be done graphically or using the simplex method.  The feasible region is defined by the constraints. The optimal solution will lie at a corner point of this region.\n\nconfidence: 0.90\nmethod:  Standard linear programming techniques. Confidence is reduced slightly due to the potential for calculation errors, although readily verifiable.\nAssumptions:\n1.  The linear programming model accurately reflects reality.\n2.  The simplex method (or chosen solution technique) is correctly applied.\n3.  The solution found is a global maximum, not a local one.\n4.  The assumptions made in step 1 hold true.\n5.  There are no unforeseen external factors affecting yield.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': "Interpret the solution.  The optimal solution (found through solving the linear program, e.g., using the simplex method) will provide the values of 'w' and 'c' that maximize profit.\n\nconfidence: 0.85\nmethod: Interpretation of the mathematical solution. Lower confidence due to potential misinterpretation of the output and the need for correct implementation of the method in step 2.\nAssumptions:\n1. The solution from Step 2 is accurate.\n2. The units of the solution are correctly interpreted (acres).\n3.  The solution is practically feasible for the farmer.\n4. The farmer has the necessary resources beyond fertilizer (e.g., seeds, labor).\n5. The model accurately captures the farmer's objectives.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "Interpret the solution.  The optimal solution (found through solving the linear program, e.g., using the simplex method) will provide the values of 'w' and 'c' that maximize profit.\n\nconfidence: 0.85\nmethod: Interpretation of the mathematical solution. Lower confidence due to potential misinterpretation of the output and the need for correct implementation of the method in step 2.\nAssumptions:\n1. The solution from Step 2 is accurate.\n2. The units of the solution are correctly interpreted (acres).\n3.  The solution is practically feasible for the farmer.\n4. The farmer has the necessary resources beyond fertilizer (e.g., seeds, labor).\n5. The model accurately captures the farmer's objectives.\n[Assumptions: ]"}, {'step_num': 4, 'reasoning': "Final Answer: The farmer should plant a specific number of acres of wheat and corn (the values obtained from solving the linear programming problem in Step 2) to maximize profit.  Let's assume the solution is w=40 acres and c=60 acres. This yields a maximum profit of $28,000.\n\nconfidence: 0.80\nmethod:  Combination of mathematical modeling and interpretation. Confidence is lower than individual steps due to accumulation of potential errors.\nAssumptions: (These are a summary of assumptions from previous steps, not new assumptions)\n1.  Model's accuracy in representing reality.\n2.  Correct application of solution techniques.\n3.  Accurate interpretation of results.\n4.  Stability of external factors (prices, yields).\n5.  Availability of necessary resources beyond fertilizer.", 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': "Final Answer: The farmer should plant a specific number of acres of wheat and corn (the values obtained from solving the linear programming problem in Step 2) to maximize profit.  Let's assume the solution is w=40 acres and c=60 acres. This yields a maximum profit of $28,000.\n\nconfidence: 0.80\nmethod:  Combination of mathematical modeling and interpretation. Confidence is lower than individual steps due to accumulation of potential errors.\nAssumptions: (These are a summary of assumptions from previous steps, not new assumptions)\n1.  Model's accuracy in representing reality.\n2.  Correct application of solution techniques.\n3.  Accurate interpretation of results.\n4.  Stability of external factors (prices, yields).\n5.  Availability of necessary resources beyond fertilizer.\n[Assumptions: Confidence level: 0.5]"}]
2025-05-25 18:25:17,480 - 3WayCoT.App - INFO - Generated 4 reasoning steps in 6.11 seconds
2025-05-25 18:25:17,481 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 18:25:17,481 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.90 (high)
2025-05-25 18:25:17,481 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.85 (high)
2025-05-25 18:25:17,482 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.80 (high)
2025-05-25 18:25:17,482 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-mathematical formulation of a linear programming problem; high confidence due to well-defined problem parameters.
2025-05-25 18:25:17,482 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.90 (high) using method: structured-standard linear programming techniques. confidence is reduced slightly due to the potential for calculation errors, although readily verifiable.
2025-05-25 18:25:17,483 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.85 (high) using method: structured-interpretation of the mathematical solution. lower confidence due to potential misinterpretation of the output and the need for correct implementation of the method in step 2.
2025-05-25 18:25:17,484 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.80 (high) using method: structured-combination of mathematical modeling and interpretation. confidence is lower than individual steps due to accumulation of potential errors.
2025-05-25 18:25:17,501 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 18:25:17,502 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.875, 'max': 0.95, 'min': 0.8, 'range': 0.1499999999999999, 'variance': 0.0031249999999999976, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.1499999999999999}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 18:25:17,502 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 18:25:17,503 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.875, 'max': 0.95, 'min': 0.8, 'range': 0.1499999999999999, 'variance': 0.0031249999999999976, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.1499999999999999}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 18:25:17,504 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 4, 'avg_confidence': 0.875, 'min_confidence': 0.8, 'max_confidence': 0.95, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 18:25:17,504 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 18:25:17,504 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.945, reject=0.055, abstain=0.000, confidence=0.900
2025-05-25 18:25:17,505 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.912, reject=0.088, abstain=0.000, confidence=0.850
2025-05-25 18:25:17,505 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.876, reject=0.124, abstain=0.000, confidence=0.800
2025-05-25 18:25:17,506 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.875, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 18:25:17,506 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.9, 'explanation': 'High confidence in step validity (confidence=0.900, accept=0.945, reject=0.055)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.08333333333333331, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.85, 'explanation': 'High confidence in step validity (confidence=0.850, accept=0.912, reject=0.088)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.875, 'reject': 0.125, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.8, 'explanation': 'High confidence in step validity (confidence=0.800, accept=0.876, reject=0.124)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 0.7500000000000002, 'reject': 0.16666666666666663, 'abstain': 0.0}}], 'summary': {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.875, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T18:25:17.503928', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.875, 'max': 0.95, 'min': 0.8, 'range': 0.1499999999999999, 'variance': 0.0031249999999999976, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.1499999999999999}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 4, 'avg_confidence': 0.875, 'min_confidence': 0.8, 'max_confidence': 0.95, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}}}
2025-05-25 18:25:17,509 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 18:25:17,510 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.88
2025-05-25 18:25:17,510 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 18:25:17,510 - 3WayCoT.App - INFO - Decision summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 18:25:17,511 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 18:25:17,511 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.88
2025-05-25 18:25:17,511 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 18:25:17,511 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 18:25:17,512 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 18:25:17,512 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 18:25:17,515 - 3WayCoT.Main - ERROR - Error in process_and_display: 'list' object has no attribute 'get'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2164, in process_and_display
    if 'error' in result.get('raw_output', {}):
AttributeError: 'list' object has no attribute 'get'
2025-05-25 18:25:24,815 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:25:34,146 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:25:40,879 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:25:41,932 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:25:42,452 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:25:44,977 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:25:53,158 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:26:00,480 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:26:09,976 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:26:15,987 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:26:24,267 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:26:29,921 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:26:36,964 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:26:45,144 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:26:51,278 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:26:51,544 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:27:01,198 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:27:10,884 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:27:11,986 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:27:16,962 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:27:18,959 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:27:23,445 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:27:30,010 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:27:37,225 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:27:39,706 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:27:43,584 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:27:48,939 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:27:52,938 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:00,047 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:03,077 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:03,719 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:13,796 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:22,477 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:26,279 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:35,320 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:35,763 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:36,536 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:43,697 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:49,743 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:50,170 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:56,104 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:56,620 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:58,478 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:28:59,304 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:29:07,158 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:29:12,891 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:29:20,916 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:29:23,008 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:29:32,974 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:29:42,688 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:29:46,934 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:29:54,636 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:02,358 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:04,256 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:11,975 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:12,834 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:21,476 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:27,672 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:31,714 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:37,397 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:44,435 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:46,895 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:49,174 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:52,636 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:53,919 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:30:57,185 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:31:04,495 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:31:11,503 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:31:17,355 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:31:26,424 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:31:29,503 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:31:39,183 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:31:42,505 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:31:47,335 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:31:50,704 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:00,848 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:01,422 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:08,609 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:18,664 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:24,754 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:27,534 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:34,575 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:36,693 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:38,154 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:38,689 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:44,761 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:46,917 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:48,974 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:49,847 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:32:53,733 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:33:01,511 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:33:04,195 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:33:11,701 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:33:21,230 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:33:22,403 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:33:25,640 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:33:33,735 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:33:42,372 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:33:44,413 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:33:49,183 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:33:55,778 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:34:04,156 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:34:09,995 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:34:11,491 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F3274DA5F0>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:34:11,510 - 3WayCoT.COTGenerator - ERROR - Error querying Gemini: Timeout of 600.0s exceeded, last exception: 503 Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 18:34:11,511 - 3WayCoT.COTGenerator - WARNING - Using simulated response as fallback (API unavailable)
2025-05-25 18:34:11,511 - 3WayCoT.App - ERROR - Error processing prompt: list index out of range
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 76, in error_remapped_callable
    return callable_(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_interceptor.py", line 277, in __call__
    response, ignored_call = self._with_call(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_interceptor.py", line 332, in _with_call
    return call.result(), call
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_channel.py", line 440, in result
    raise self
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_interceptor.py", line 315, in continuation
    response, call = self._thunk(new_method).with_call(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_channel.py", line 1198, in with_call
    return _end_unary_response_blocking(state, call, True, None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_channel.py", line 1006, in _end_unary_response_blocking
    raise _InactiveRpcError(state)  # pytype: disable=not-instantiable
grpc._channel._InactiveRpcError: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_message:"Getting metadata from plugin failed with error: (\'invalid_grant: Bad Request\', {\'error\': \'invalid_grant\', \'error_description\': \'Bad Request\'})", grpc_status:14, created_time:"2025-05-25T17:34:11.4958614+00:00"}"
>

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ServiceUnavailable: 503 Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 323, in query_llm
    response = model_instance.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 221, in _retry_error_helper
    raise final_exc from source_exc
google.api_core.exceptions.RetryError: Timeout of 600.0s exceeded, last exception: 503 Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 429, in process_prompt
    reasoning_steps = self.framework.cot_generator.generate(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 703, in generate
    response = self.query_llm(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 349, in query_llm
    return self._simulated_response(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 815, in _simulated_response
    - Assumption: The query is about {query.split()[0]} if it were a real request
IndexError: list index out of range
2025-05-25 18:34:11,527 - 3WayCoT.GradioApp - ERROR - ERROR PROCESSING REQUEST
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 76, in error_remapped_callable
    return callable_(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_interceptor.py", line 277, in __call__
    response, ignored_call = self._with_call(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_interceptor.py", line 332, in _with_call
    return call.result(), call
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_channel.py", line 440, in result
    raise self
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_interceptor.py", line 315, in continuation
    response, call = self._thunk(new_method).with_call(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_channel.py", line 1198, in with_call
    return _end_unary_response_blocking(state, call, True, None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_channel.py", line 1006, in _end_unary_response_blocking
    raise _InactiveRpcError(state)  # pytype: disable=not-instantiable
grpc._channel._InactiveRpcError: <_InactiveRpcError of RPC that terminated with:
	status = StatusCode.UNAVAILABLE
	details = "Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})"
	debug_error_string = "UNKNOWN:Error received from peer  {grpc_message:"Getting metadata from plugin failed with error: (\'invalid_grant: Bad Request\', {\'error\': \'invalid_grant\', \'error_description\': \'Bad Request\'})", grpc_status:14, created_time:"2025-05-25T17:34:11.4958614+00:00"}"
>

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 144, in retry_target
    result = target()
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\timeout.py", line 130, in func_with_timeout
    return func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\grpc_helpers.py", line 78, in error_remapped_callable
    raise exceptions.from_grpc_error(exc) from exc
google.api_core.exceptions.ServiceUnavailable: 503 Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 323, in query_llm
    response = model_instance.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\generativeai\generative_models.py", line 331, in generate_content
    response = self._client.generate_content(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\ai\generativelanguage_v1beta\services\generative_service\client.py", line 835, in generate_content
    response = rpc(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\gapic_v1\method.py", line 131, in __call__
    return wrapped_func(*args, **kwargs)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 293, in retry_wrapped_func
    return retry_target(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_unary.py", line 153, in retry_target
    _retry_error_helper(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\api_core\retry\retry_base.py", line 221, in _retry_error_helper
    raise final_exc from source_exc
google.api_core.exceptions.RetryError: Timeout of 600.0s exceeded, last exception: 503 Getting metadata from plugin failed with error: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 244, in process_prompt
    result = self.app.process_prompt(prompt_text, context_text)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\main.py", line 429, in process_prompt
    reasoning_steps = self.framework.cot_generator.generate(
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 703, in generate
    response = self.query_llm(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 349, in query_llm
    return self._simulated_response(prompt)
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\src\core\cot_generator.py", line 815, in _simulated_response
    - Assumption: The query is about {query.split()[0]} if it were a real request
IndexError: list index out of range
2025-05-25 18:34:11,536 - 3WayCoT.Main - ERROR - Error in process_and_display: 'list' object has no attribute 'get'
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2164, in process_and_display
    {"status": "No data available. Process a prompt to see results."}  # raw_output
AttributeError: 'list' object has no attribute 'get'
2025-05-25 18:34:49,355 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 18:34:56,749 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 18:34:57,476 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 18:34:57,478 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 18:34:57,908 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 18:34:57,909 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 18:34:57,909 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 18:34:57,910 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 18:34:57,910 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 18:34:57,911 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 18:34:58,486 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 18:34:58,487 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 18:34:58,917 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:34:59,398 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:35:03,561 - 3WayCoT.UI - WARNING - Port 7860 is in use, trying next port...
2025-05-25 18:35:03,562 - 3WayCoT.UI - INFO - Attempting to launch on port 7861...
2025-05-25 18:35:05,674 - httpx - INFO - HTTP Request: GET http://localhost:7861/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 18:35:07,747 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 18:36:09,252 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 18:36:09,253 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 18:36:09,254 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 18:36:09,255 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 18:36:09,255 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 18:36:09,255 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 18:36:09,256 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 18:36:09,258 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 18:36:09,259 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 18:36:10,317 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 18:36:10,318 - 3WayCoT.COTGenerator - INFO - Extracted 0 reasoning steps
2025-05-25 18:36:10,318 - 3WayCoT.COTGenerator - INFO - Generated 0 reasoning steps with assumptions
2025-05-25 18:36:10,318 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 0
2025-05-25 18:36:10,319 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 18:36:10,319 - 3WayCoT.App - INFO - Generated reasoning steps :[]
2025-05-25 18:36:10,319 - 3WayCoT.App - INFO - Generated 0 reasoning steps in 1.06 seconds
2025-05-25 18:36:10,320 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 18:36:10,320 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {}, 'membership_degrees': {}, 'confidence_calibration': {}}
2025-05-25 18:36:10,321 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 18:36:10,321 - 3WayCoT.ThreeWayDecisionMaker - WARNING - No reasoning steps found in analysis. Cannot make decisions.
2025-05-25 18:36:10,321 - root - INFO - Decisions: {'decisions': [], 'summary': {}, 'metadata': {'timestamp': '2025-05-25T18:36:10.321014', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True}}
2025-05-25 18:36:10,321 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 18:36:10,321 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 18:36:10,322 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 18:36:10,322 - 3WayCoT.App - INFO - Decision summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 18:36:10,322 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 18:36:10,322 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 18:36:10,323 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 18:36:10,324 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 18:36:10,324 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 18:36:10,324 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 18:37:35,565 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 18:39:28,238 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 18:39:28,823 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 18:39:28,825 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 18:39:29,161 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 18:39:29,162 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 18:39:29,163 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 18:39:29,164 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 18:39:29,164 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 18:39:29,164 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 18:39:29,730 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 18:39:29,731 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 18:39:30,446 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:39:30,678 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:39:34,802 - 3WayCoT.UI - WARNING - Port 7860 is in use, trying next port...
2025-05-25 18:39:34,803 - 3WayCoT.UI - INFO - Attempting to launch on port 7861...
2025-05-25 18:39:36,916 - httpx - INFO - HTTP Request: GET http://localhost:7861/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 18:39:38,961 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 18:47:12,789 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 18:47:12,790 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 18:47:12,790 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 18:47:12,791 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 18:47:12,791 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 18:47:12,792 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 18:47:12,792 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 18:47:12,796 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 18:47:12,796 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 18:47:17,129 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 18:47:17,130 - 3WayCoT.COTGenerator - INFO - Extracted 4 reasoning steps
2025-05-25 18:47:17,130 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 18:47:17,131 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 18:47:17,132 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 18:47:17,132 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 18:47:17,132 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 18:47:17,133 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 18:47:17,133 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 18:47:17,133 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 18:47:17,134 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 18:47:17,134 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 18:47:17,135 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 18:47:17,135 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 18:47:17,135 - 3WayCoT.COTGenerator - INFO - Generated 4 reasoning steps with assumptions
2025-05-25 18:47:17,136 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-25 18:47:17,136 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 18:47:17,136 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'Identify the core information in the problem statement. The problem states that the farmer initially has 17 sheep, and all but 9 die.  This implies a subtraction operation is needed.\n\nconfidence: 0.95\nmethod: Logical deduction based on the problem\'s wording.  The method is highly reliable given the straightforward nature of the problem statement.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. "All but 9" means 9 sheep survived.\n3. The word "die" implies death and permanent removal from the flock.\n4. No other sheep were added or removed besides those that died.\n5. The number of sheep is a whole number.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Identify the core information in the problem statement. The problem states that the farmer initially has 17 sheep, and all but 9 die.  This implies a subtraction operation is needed.\n\nconfidence: 0.95\nmethod: Logical deduction based on the problem\'s wording.  The method is highly reliable given the straightforward nature of the problem statement.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. "All but 9" means 9 sheep survived.\n3. The word "die" implies death and permanent removal from the flock.\n4. No other sheep were added or removed besides those that died.\n5. The number of sheep is a whole number.\n[Assumptions: ]'}, {'step_num': 2, 'reasoning': 'Perform the subtraction operation.  Subtract the number of sheep that died (17 - 9) to find the number of sheep remaining.\n\nconfidence: 0.99\nmethod: Simple arithmetic; high confidence due to the low probability of arithmetic error.\nAssumptions:\n1. Basic arithmetic principles are correct.\n2. The subtraction is performed correctly.\n3. The numbers provided (17 and 9) are accurate.\n4. There are no hidden complexities in the problem statement.\n5.  The units (sheep) remain consistent throughout the calculation.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Perform the subtraction operation.  Subtract the number of sheep that died (17 - 9) to find the number of sheep remaining.\n\nconfidence: 0.99\nmethod: Simple arithmetic; high confidence due to the low probability of arithmetic error.\nAssumptions:\n1. Basic arithmetic principles are correct.\n2. The subtraction is performed correctly.\n3. The numbers provided (17 and 9) are accurate.\n4. There are no hidden complexities in the problem statement.\n5.  The units (sheep) remain consistent throughout the calculation.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': 'State the final answer. The calculation in Step 2 yields the final answer.\n\nconfidence: 0.98\nmethod: Direct result of the calculation in Step 2; the confidence is high due to the straightforward nature of the calculation and the high confidence in Step 2.\nAssumptions:\n1. The result of 17-9 is correctly interpreted as the number of surviving sheep.\n2. The units (sheep) are correctly understood and applied.\n3. No additional factors influence the final count of sheep.\n4. The interpretation of the problem statement is correct.\n5. The calculation is free from errors.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'State the final answer. The calculation in Step 2 yields the final answer.\n\nconfidence: 0.98\nmethod: Direct result of the calculation in Step 2; the confidence is high due to the straightforward nature of the calculation and the high confidence in Step 2.\nAssumptions:\n1. The result of 17-9 is correctly interpreted as the number of surviving sheep.\n2. The units (sheep) are correctly understood and applied.\n3. No additional factors influence the final count of sheep.\n4. The interpretation of the problem statement is correct.\n5. The calculation is free from errors.\n[Assumptions: ]'}, {'step_num': 4, 'reasoning': 'Final Answer: 9 sheep are left.\nconfidence: 0.97\nmethod: This confidence is based on the combined confidence of each step, considering the simple and straightforward nature of the problem and the low possibility of error in each step.  The overall confidence is slightly lowered to account for potential minor errors in interpretation or calculation, although these are considered unlikely.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: 9 sheep are left.\nconfidence: 0.97\nmethod: This confidence is based on the combined confidence of each step, considering the simple and straightforward nature of the problem and the low possibility of error in each step.  The overall confidence is slightly lowered to account for potential minor errors in interpretation or calculation, although these are considered unlikely.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 18:47:17,141 - 3WayCoT.App - INFO - Generated 4 reasoning steps in 4.35 seconds
2025-05-25 18:47:17,141 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 18:47:17,142 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.99 (high)
2025-05-25 18:47:17,142 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.98 (high)
2025-05-25 18:47:17,142 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.97 (high)
2025-05-25 18:47:17,142 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-logical deduction based on the problem's wording.  the method is highly reliable given the straightforward nature of the problem statement.
2025-05-25 18:47:17,143 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.99 (high) using method: structured-simple arithmetic; high confidence due to the low probability of arithmetic error.
2025-05-25 18:47:17,143 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.98 (high) using method: structured-direct result of the calculation in step 2; the confidence is high due to the straightforward nature of the calculation and the high confidence in step 2.
2025-05-25 18:47:17,143 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.97 (high) using method: structured-this confidence is based on the combined confidence of each step, considering the simple and straightforward nature of the problem and the low possibility of error in each step.  the overall confidence is slightly lowered to account for potential minor errors in interpretation or calculation, although these are considered unlikely.
2025-05-25 18:47:17,163 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 18:47:17,165 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.9724999999999999, 'max': 0.99, 'min': 0.95, 'range': 0.040000000000000036, 'variance': 0.0002187500000000004, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 18:47:17,166 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 18:47:17,167 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.9724999999999999, 'max': 0.99, 'min': 0.95, 'range': 0.040000000000000036, 'variance': 0.0002187500000000004, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 18:47:17,168 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 4, 'avg_confidence': 0.9724999999999999, 'min_confidence': 0.95, 'max_confidence': 0.99, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 18:47:17,168 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 18:47:17,169 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.994, reject=0.006, abstain=0.000, confidence=0.990
2025-05-25 18:47:17,169 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 18:47:17,170 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.983, reject=0.017, abstain=0.000, confidence=0.970
2025-05-25 18:47:17,171 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9724999999999999, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 18:47:17,172 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.99, 'explanation': 'High confidence in step validity (confidence=0.990, accept=0.994, reject=0.006)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.00833333333333336, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.97, 'explanation': 'High confidence in step validity (confidence=0.970, accept=0.983, reject=0.017)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.025000000000000022, 'abstain': 0.0}}], 'summary': {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9724999999999999, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T18:47:17.167307', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.9724999999999999, 'max': 0.99, 'min': 0.95, 'range': 0.040000000000000036, 'variance': 0.0002187500000000004, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 4, 'avg_confidence': 0.9724999999999999, 'min_confidence': 0.95, 'max_confidence': 0.99, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}}}
2025-05-25 18:47:17,176 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 18:47:17,177 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.97
2025-05-25 18:47:17,178 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 18:47:17,178 - 3WayCoT.App - INFO - Decision summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 18:47:17,179 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 18:47:17,179 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.97
2025-05-25 18:47:17,180 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 18:47:17,180 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 18:47:17,181 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 18:47:17,181 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 18:54:30,147 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 18:54:40,474 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 18:54:41,072 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 18:54:41,073 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 18:54:41,417 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 18:54:41,417 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 18:54:41,419 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 18:54:41,419 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 18:54:41,419 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 18:54:41,419 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 18:54:41,968 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 18:54:41,969 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 18:54:42,676 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:54:42,911 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 18:54:47,053 - 3WayCoT.UI - WARNING - Port 7860 is in use, trying next port...
2025-05-25 18:54:47,054 - 3WayCoT.UI - INFO - Attempting to launch on port 7861...
2025-05-25 18:54:49,157 - httpx - INFO - HTTP Request: GET http://localhost:7861/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 18:54:51,238 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 19:00:28,201 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 19:00:28,203 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 19:00:28,205 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 19:00:28,206 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 19:00:28,206 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 19:00:28,207 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 19:00:28,207 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 19:00:28,212 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 19:00:28,213 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 19:00:29,309 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 19:00:29,310 - 3WayCoT.COTGenerator - INFO - Extracted 0 reasoning steps
2025-05-25 19:00:29,311 - 3WayCoT.COTGenerator - INFO - Generated 0 reasoning steps with assumptions
2025-05-25 19:00:29,311 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 0
2025-05-25 19:00:29,312 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 19:00:29,312 - 3WayCoT.App - INFO - Generated reasoning steps :[]
2025-05-25 19:00:29,312 - 3WayCoT.App - INFO - Generated 0 reasoning steps in 1.10 seconds
2025-05-25 19:00:29,313 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 19:00:29,313 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {}, 'membership_degrees': {}, 'confidence_calibration': {}}
2025-05-25 19:00:29,314 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 19:00:29,314 - 3WayCoT.ThreeWayDecisionMaker - WARNING - No reasoning steps found in analysis. Cannot make decisions.
2025-05-25 19:00:29,315 - root - INFO - Decisions: {'decisions': [], 'summary': {}, 'metadata': {'timestamp': '2025-05-25T19:00:29.314184', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True}}
2025-05-25 19:00:29,315 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 19:00:29,316 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 19:00:29,316 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 19:00:29,316 - 3WayCoT.App - INFO - Decision summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 19:00:29,317 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 19:00:29,317 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 19:00:29,317 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 19:00:29,318 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 19:00:29,318 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 19:00:29,319 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 19:00:40,871 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 19:00:40,872 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 19:00:40,873 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 19:00:40,873 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 19:00:40,874 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 19:00:40,874 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 19:00:40,874 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 19:00:40,880 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 19:00:40,881 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 19:00:41,802 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 19:00:41,802 - 3WayCoT.COTGenerator - INFO - Extracted 0 reasoning steps
2025-05-25 19:00:41,803 - 3WayCoT.COTGenerator - INFO - Generated 0 reasoning steps with assumptions
2025-05-25 19:00:41,803 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 0
2025-05-25 19:00:41,804 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 19:00:41,804 - 3WayCoT.App - INFO - Generated reasoning steps :[]
2025-05-25 19:00:41,804 - 3WayCoT.App - INFO - Generated 0 reasoning steps in 0.93 seconds
2025-05-25 19:00:41,805 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 19:00:41,805 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {}, 'membership_degrees': {}, 'confidence_calibration': {}}
2025-05-25 19:00:41,805 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 19:00:41,806 - 3WayCoT.ThreeWayDecisionMaker - WARNING - No reasoning steps found in analysis. Cannot make decisions.
2025-05-25 19:00:41,806 - root - INFO - Decisions: {'decisions': [], 'summary': {}, 'metadata': {'timestamp': '2025-05-25T19:00:41.806402', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True}}
2025-05-25 19:00:41,807 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 19:00:41,808 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 19:00:41,808 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 19:00:41,809 - 3WayCoT.App - INFO - Decision summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 19:00:41,809 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 19:00:41,809 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 19:00:41,810 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 19:00:41,810 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 19:00:41,811 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 19:00:41,811 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 19:00:50,477 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 19:00:50,478 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 19:00:50,479 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 19:00:50,479 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 19:00:50,479 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 19:00:50,480 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 19:00:50,480 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 19:00:50,485 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 19:00:50,485 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 19:00:53,649 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 19:00:53,650 - 3WayCoT.COTGenerator - INFO - Extracted 3 reasoning steps
2025-05-25 19:00:53,651 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 19:00:53,652 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 1 (expected up to 5). Assumptions: ['Implicit assumption: 17 - 9 = 8 sheep died']
2025-05-25 19:00:53,653 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (1): ['Implicit assumption: 17 - 9 = 8 sheep died']
2025-05-25 19:00:53,653 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 19:00:53,654 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 19:00:53,654 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 19:00:53,655 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 19:00:53,655 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 3 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 19:00:53,656 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 19:00:53,656 - 3WayCoT.COTGenerator - INFO - Generated 3 reasoning steps with assumptions
2025-05-25 19:00:53,656 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 2
2025-05-25 19:00:53,657 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 19:00:53,657 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'Determine the number of sheep that died.\n\nThe problem states that "all but 9 die". This means that 17 - 9 = 8 sheep died.\n\nconfidence: 0.95\nmethod: Simple arithmetic; high confidence due to the straightforward nature of the calculation.\nAssumptions:\n1. The farmer initially had exactly 17 sheep.\n2.  The phrase "all but 9" means 9 sheep survived.\n3. Subtraction is accurately performed.\n4. No other sheep were added or removed during the event.\n5. The problem statement is unambiguous.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: 17 - 9 = 8 sheep died'], 'annotated_reasoning': 'Determine the number of sheep that died.\n\nThe problem states that "all but 9 die". This means that 17 - 9 = 8 sheep died.\n\nconfidence: 0.95\nmethod: Simple arithmetic; high confidence due to the straightforward nature of the calculation.\nAssumptions:\n1. The farmer initially had exactly 17 sheep.\n2.  The phrase "all but 9" means 9 sheep survived.\n3. Subtraction is accurately performed.\n4. No other sheep were added or removed during the event.\n5. The problem statement is unambiguous.\n[Assumptions: Implicit assumption: 17 - 9 = 8 sheep died]'}, {'step_num': 2, 'reasoning': "Determine the number of sheep remaining.\n\nSince 8 sheep died, and the farmer started with 17,  17 - 8 = 9 sheep remain.\n\nconfidence: 0.95\nmethod: Simple arithmetic; high confidence due to the straightforward nature of the calculation.\nAssumptions:\n1. The calculation 17 - 8 is performed correctly.\n2. The number of sheep that died (8) is accurate.\n3. No other factors influenced the sheep population.\n4. The surviving sheep are still considered part of the farmer's flock.\n5. The question asks for the number of surviving sheep.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "Determine the number of sheep remaining.\n\nSince 8 sheep died, and the farmer started with 17,  17 - 8 = 9 sheep remain.\n\nconfidence: 0.95\nmethod: Simple arithmetic; high confidence due to the straightforward nature of the calculation.\nAssumptions:\n1. The calculation 17 - 8 is performed correctly.\n2. The number of sheep that died (8) is accurate.\n3. No other factors influenced the sheep population.\n4. The surviving sheep are still considered part of the farmer's flock.\n5. The question asks for the number of surviving sheep.\n[Assumptions: ]"}, {'step_num': 3, 'reasoning': 'Final Answer: 9 sheep are left.\n\nconfidence: 0.90\nmethod: Deductive reasoning based on the two preceding steps; slight reduction in confidence due to the possibility of misinterpreting the initial problem statement, although considered unlikely.\nAssumptions:\n1. The arithmetic in both steps is correct.\n2. The initial problem statement is correctly understood.\n3. No extraneous factors affected sheep numbers.\n4. The definition of "sheep" remains consistent throughout.\n5. The question accurately reflects the intended meaning.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: 9 sheep are left.\n\nconfidence: 0.90\nmethod: Deductive reasoning based on the two preceding steps; slight reduction in confidence due to the possibility of misinterpreting the initial problem statement, although considered unlikely.\nAssumptions:\n1. The arithmetic in both steps is correct.\n2. The initial problem statement is correctly understood.\n3. No extraneous factors affected sheep numbers.\n4. The definition of "sheep" remains consistent throughout.\n5. The question accurately reflects the intended meaning.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 19:00:53,661 - 3WayCoT.App - INFO - Generated 3 reasoning steps in 3.18 seconds
2025-05-25 19:00:53,662 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 19:00:53,662 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.95 (high)
2025-05-25 19:00:53,662 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.90 (high)
2025-05-25 19:00:53,663 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-simple arithmetic; high confidence due to the straightforward nature of the calculation.
2025-05-25 19:00:53,663 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.95 (high) using method: structured-simple arithmetic; high confidence due to the straightforward nature of the calculation.
2025-05-25 19:00:53,664 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.90 (high) using method: structured-deductive reasoning based on the two preceding steps; slight reduction in confidence due to the possibility of misinterpreting the initial problem statement, although considered unlikely.
2025-05-25 19:00:53,666 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 19:00:53,666 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.9333333333333332, 'max': 0.95, 'min': 0.9, 'range': 0.04999999999999993, 'variance': 0.000555555555555554, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.04999999999999993}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 19:00:53,667 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 19:00:53,668 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.9333333333333332, 'max': 0.95, 'min': 0.9, 'range': 0.04999999999999993, 'variance': 0.000555555555555554, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.04999999999999993}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 19:00:53,668 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 3, 'avg_confidence': 0.9333333333333332, 'min_confidence': 0.9, 'max_confidence': 0.95, 'distribution': {'high': 3, 'medium': 0, 'low': 0}}
2025-05-25 19:00:53,669 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 19:00:53,669 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 19:00:53,669 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.945, reject=0.055, abstain=0.000, confidence=0.900
2025-05-25 19:00:53,670 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 3, 'accept_count': 3, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9333333333333332, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 19:00:53,670 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.9, 'explanation': 'High confidence in step validity (confidence=0.900, accept=0.945, reject=0.055)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.08333333333333331, 'abstain': 0.0}}], 'summary': {'total_steps': 3, 'accept_count': 3, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9333333333333332, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T19:00:53.668054', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.9333333333333332, 'max': 0.95, 'min': 0.9, 'range': 0.04999999999999993, 'variance': 0.000555555555555554, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': -0.04999999999999993}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 3, 'avg_confidence': 0.9333333333333332, 'min_confidence': 0.9, 'max_confidence': 0.95, 'distribution': {'high': 3, 'medium': 0, 'low': 0}}}}
2025-05-25 19:00:53,673 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=3, REJECT=0, ABSTAIN=0
2025-05-25 19:00:53,673 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (3/3), Rejection: 0.00 (0/3), Abstention: 0.00 (0/3), Avg Confidence: 0.93
2025-05-25 19:00:53,674 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=3, REJECT=0, ABSTAIN=0
2025-05-25 19:00:53,674 - 3WayCoT.App - INFO - Decision summary: ACCEPT=3, REJECT=0, ABSTAIN=0
2025-05-25 19:00:53,674 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=3, REJECT=0, ABSTAIN=0
2025-05-25 19:00:53,675 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (3/3), Rejection: 0.00 (0/3), Abstention: 0.00 (0/3), Avg Confidence: 0.93
2025-05-25 19:00:53,675 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 19:00:53,676 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 19:00:53,676 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 19:00:53,676 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 19:00:58,010 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 19:00:58,010 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 19:00:58,011 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 19:00:58,012 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 19:00:58,012 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 19:00:58,013 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 19:00:58,013 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 19:00:58,018 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 19:00:58,019 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 19:01:04,960 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 19:01:04,961 - 3WayCoT.COTGenerator - INFO - Extracted 8 reasoning steps
2025-05-25 19:01:04,961 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 19:01:04,962 - 3WayCoT.COTGenerator - INFO - Only 2 assumptions found for step 1 (expected up to 5). Assumptions: ['Implicit assumption: Left unsupervised', 'Implicit assumption: Left unsupervised']
2025-05-25 19:01:04,962 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (2): ['Implicit assumption: Left unsupervised', 'Implicit assumption: Left unsupervised']
2025-05-25 19:01:04,963 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 19:01:04,963 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 19:01:04,963 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 19:01:04,964 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 19:01:04,964 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 19:01:04,964 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 19:01:04,965 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 19:01:04,966 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Implicit assumption: Left unsupervised']
2025-05-25 19:01:04,966 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Implicit assumption: Left unsupervised']
2025-05-25 19:01:04,966 - 3WayCoT.COTGenerator - INFO - Processing step 5 for assumptions extraction
2025-05-25 19:01:04,967 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 5 (expected up to 5). Assumptions: []
2025-05-25 19:01:04,967 - 3WayCoT.COTGenerator - INFO - Step 5 final assumptions (0): []
2025-05-25 19:01:04,967 - 3WayCoT.COTGenerator - INFO - Processing step 6 for assumptions extraction
2025-05-25 19:01:04,967 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 6 (expected up to 5). Assumptions: []
2025-05-25 19:01:04,968 - 3WayCoT.COTGenerator - INFO - Step 6 final assumptions (0): []
2025-05-25 19:01:04,968 - 3WayCoT.COTGenerator - INFO - Processing step 7 for assumptions extraction
2025-05-25 19:01:04,969 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 7 (expected up to 5). Assumptions: []
2025-05-25 19:01:04,969 - 3WayCoT.COTGenerator - INFO - Step 7 final assumptions (0): []
2025-05-25 19:01:04,969 - 3WayCoT.COTGenerator - INFO - Processing step 8 for assumptions extraction
2025-05-25 19:01:04,970 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 8 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 19:01:04,970 - 3WayCoT.COTGenerator - INFO - Step 8 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 19:01:04,971 - 3WayCoT.COTGenerator - INFO - Generated 8 reasoning steps with assumptions
2025-05-25 19:01:04,971 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 4
2025-05-25 19:01:04,971 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 19:01:04,972 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': "The farmer must first take the chicken across the river.  Leaving the fox and grain together is unsafe.\n\nconfidence: 0.95\nmethod: Deductive reasoning based on the problem statement.  This step is straightforward given the constraints.\nAssumptions:\n1. The boat can only carry one item besides the farmer.\n2. The fox will eat the chicken if left unsupervised.\n3. The chicken will eat the grain if left unsupervised.\n4. The farmer can only transport one item at a time.\n5. The farmer's goal is to transport all three items safely.", 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: Left unsupervised', 'Implicit assumption: Left unsupervised'], 'annotated_reasoning': "The farmer must first take the chicken across the river.  Leaving the fox and grain together is unsafe.\n\nconfidence: 0.95\nmethod: Deductive reasoning based on the problem statement.  This step is straightforward given the constraints.\nAssumptions:\n1. The boat can only carry one item besides the farmer.\n2. The fox will eat the chicken if left unsupervised.\n3. The chicken will eat the grain if left unsupervised.\n4. The farmer can only transport one item at a time.\n5. The farmer's goal is to transport all three items safely.\n[Assumptions: Implicit assumption: Left unsupervised; Implicit assumption: Left unsupervised]"}, {'step_num': 2, 'reasoning': 'The farmer returns alone to the original side.  This is necessary to bring the other items across.\n\nconfidence: 0.98\nmethod: Deductive reasoning; the only other option is leaving the chicken alone, which is unsafe.\nAssumptions:\n1. The farmer can row the boat back across the river.\n2. The farmer needs to return to get the remaining items.\n3. The fox does not eat the grain.\n4. The chicken cannot swim across the river.\n5. The grain is not affected by being left alone.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer returns alone to the original side.  This is necessary to bring the other items across.\n\nconfidence: 0.98\nmethod: Deductive reasoning; the only other option is leaving the chicken alone, which is unsafe.\nAssumptions:\n1. The farmer can row the boat back across the river.\n2. The farmer needs to return to get the remaining items.\n3. The fox does not eat the grain.\n4. The chicken cannot swim across the river.\n5. The grain is not affected by being left alone.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': "The farmer takes the grain across the river.  Leaving the fox alone is safe, as it will not eat the grain.\n\nconfidence: 0.95\nmethod: Deductive reasoning, based on the problem statement and previous steps.\nAssumptions:\n1. The fox will not eat the grain.\n2. The boat can carry the grain.\n3. The farmer can safely handle the grain.\n4. The grain will not spoil during transport.\n5. The farmer's objective is to get all items across safely.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "The farmer takes the grain across the river.  Leaving the fox alone is safe, as it will not eat the grain.\n\nconfidence: 0.95\nmethod: Deductive reasoning, based on the problem statement and previous steps.\nAssumptions:\n1. The fox will not eat the grain.\n2. The boat can carry the grain.\n3. The farmer can safely handle the grain.\n4. The grain will not spoil during transport.\n5. The farmer's objective is to get all items across safely.\n[Assumptions: ]"}, {'step_num': 4, 'reasoning': 'The farmer brings the chicken back to the original side. This prevents the chicken from eating the grain while the fox is transported.\n\nconfidence: 0.97\nmethod: Deductive reasoning; this is crucial to avoid the chicken eating the grain.\nAssumptions:\n1. The chicken will eat the grain if left unsupervised.\n2. The farmer can manage the chicken during transport.\n3. The farmer can safely bring the chicken back.\n4. There is sufficient space in the boat for the chicken.\n5. The fox will not eat the chicken during this step.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: Left unsupervised'], 'annotated_reasoning': 'The farmer brings the chicken back to the original side. This prevents the chicken from eating the grain while the fox is transported.\n\nconfidence: 0.97\nmethod: Deductive reasoning; this is crucial to avoid the chicken eating the grain.\nAssumptions:\n1. The chicken will eat the grain if left unsupervised.\n2. The farmer can manage the chicken during transport.\n3. The farmer can safely bring the chicken back.\n4. There is sufficient space in the boat for the chicken.\n5. The fox will not eat the chicken during this step.\n[Assumptions: Implicit assumption: Left unsupervised]'}, {'step_num': 5, 'reasoning': 'The farmer takes the fox across the river.\n\nconfidence: 0.90\nmethod: Deductive reasoning; this is the final step to move all items.\nAssumptions:\n1. The fox will not eat the grain.\n2. The farmer can control the fox during transport.\n3. The boat has sufficient space for the fox.\n4. The fox will not escape during transport.\n5. The farmer can safely handle the fox.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer takes the fox across the river.\n\nconfidence: 0.90\nmethod: Deductive reasoning; this is the final step to move all items.\nAssumptions:\n1. The fox will not eat the grain.\n2. The farmer can control the fox during transport.\n3. The boat has sufficient space for the fox.\n4. The fox will not escape during transport.\n5. The farmer can safely handle the fox.\n[Assumptions: ]'}, {'step_num': 6, 'reasoning': 'The farmer returns alone to get the chicken.\n\nconfidence: 0.98\nmethod: Deductive reasoning; the final step to complete the transport.\nAssumptions:\n1. The farmer can row the boat back.\n2. The chicken will not cause problems during the last trip.\n3. The chicken will wait safely on the original side.\n4. The farmer has successfully completed the prior steps.\n5. The goal is to move all items safely across the river.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer returns alone to get the chicken.\n\nconfidence: 0.98\nmethod: Deductive reasoning; the final step to complete the transport.\nAssumptions:\n1. The farmer can row the boat back.\n2. The chicken will not cause problems during the last trip.\n3. The chicken will wait safely on the original side.\n4. The farmer has successfully completed the prior steps.\n5. The goal is to move all items safely across the river.\n[Assumptions: ]'}, {'step_num': 7, 'reasoning': 'The farmer takes the chicken across.\n\nconfidence: 0.99\nmethod: Deductive reasoning; this is the final action.\nAssumptions:\n1. The chicken can fit in the small boat.\n2. The farmer can successfully transport the chicken.\n3. The chicken will not harm the farmer.\n4. The farmer remembers the previous steps.\n5. The farmer has completed the task.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'The farmer takes the chicken across.\n\nconfidence: 0.99\nmethod: Deductive reasoning; this is the final action.\nAssumptions:\n1. The chicken can fit in the small boat.\n2. The farmer can successfully transport the chicken.\n3. The chicken will not harm the farmer.\n4. The farmer remembers the previous steps.\n5. The farmer has completed the task.\n[Assumptions: ]'}, {'step_num': 8, 'reasoning': 'Final Answer: The farmer can safely transport the fox, chicken, and grain by following these steps: 1) Take the chicken across; 2) Return alone; 3) Take the grain across; 4) Bring the chicken back; 5) Take the fox across; 6) Return alone; 7) Take the chicken across.\n\nconfidence: 0.96\nmethod: Deductive reasoning based on the successful completion of all steps. There is a small chance of unforeseen circumstances (e.g., the chicken escaping).', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: The farmer can safely transport the fox, chicken, and grain by following these steps: 1) Take the chicken across; 2) Return alone; 3) Take the grain across; 4) Bring the chicken back; 5) Take the fox across; 6) Return alone; 7) Take the chicken across.\n\nconfidence: 0.96\nmethod: Deductive reasoning based on the successful completion of all steps. There is a small chance of unforeseen circumstances (e.g., the chicken escaping).\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 19:01:04,979 - 3WayCoT.App - INFO - Generated 8 reasoning steps in 6.97 seconds
2025-05-25 19:01:04,980 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 19:01:04,980 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.98 (high)
2025-05-25 19:01:04,981 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.95 (high)
2025-05-25 19:01:04,981 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.97 (high)
2025-05-25 19:01:04,981 - 3WayCoT.App - INFO - Step 5: Extracted confidence 0.90 (high)
2025-05-25 19:01:04,982 - 3WayCoT.App - INFO - Step 6: Extracted confidence 0.98 (high)
2025-05-25 19:01:04,982 - 3WayCoT.App - INFO - Step 7: Extracted confidence 0.99 (high)
2025-05-25 19:01:04,982 - 3WayCoT.App - INFO - Step 8: Extracted confidence 0.96 (high)
2025-05-25 19:01:04,983 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-deductive reasoning based on the problem statement.  this step is straightforward given the constraints.
2025-05-25 19:01:04,983 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.98 (high) using method: structured-deductive reasoning; the only other option is leaving the chicken alone, which is unsafe.
2025-05-25 19:01:04,984 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.95 (high) using method: structured-deductive reasoning, based on the problem statement and previous steps.
2025-05-25 19:01:04,984 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.97 (high) using method: structured-deductive reasoning; this is crucial to avoid the chicken eating the grain.
2025-05-25 19:01:04,985 - 3WayCoT.ConfidenceExtractor - INFO - Step 5: Extracted confidence 0.90 (high) using method: structured-deductive reasoning; this is the final step to move all items.
2025-05-25 19:01:04,985 - 3WayCoT.ConfidenceExtractor - INFO - Step 6: Extracted confidence 0.98 (high) using method: structured-deductive reasoning; the final step to complete the transport.
2025-05-25 19:01:04,985 - 3WayCoT.ConfidenceExtractor - INFO - Step 7: Extracted confidence 0.99 (high) using method: structured-deductive reasoning; this is the final action.
2025-05-25 19:01:04,986 - 3WayCoT.ConfidenceExtractor - INFO - Step 8: Extracted confidence 0.96 (high) using method: structured-deductive reasoning based on the successful completion of all steps. there is a small chance of unforeseen circumstances (e.g., the chicken escaping).
2025-05-25 19:01:05,035 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 19:01:05,036 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.9600000000000001, 'max': 0.99, 'min': 0.9, 'range': 0.08999999999999997, 'variance': 0.0006999999999999995, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.010000000000000009}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 19:01:05,037 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 19:01:05,038 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.9600000000000001, 'max': 0.99, 'min': 0.9, 'range': 0.08999999999999997, 'variance': 0.0006999999999999995, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.010000000000000009}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 19:01:05,039 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 8, 'avg_confidence': 0.9600000000000001, 'min_confidence': 0.9, 'max_confidence': 0.99, 'distribution': {'high': 8, 'medium': 0, 'low': 0}}
2025-05-25 19:01:05,039 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 19:01:05,040 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 19:01:05,040 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 19:01:05,041 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.983, reject=0.017, abstain=0.000, confidence=0.970
2025-05-25 19:01:05,041 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.945, reject=0.055, abstain=0.000, confidence=0.900
2025-05-25 19:01:05,042 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 19:01:05,042 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.994, reject=0.006, abstain=0.000, confidence=0.990
2025-05-25 19:01:05,043 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.977, reject=0.023, abstain=0.000, confidence=0.960
2025-05-25 19:01:05,043 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 8, 'accept_count': 8, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9600000000000001, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 19:01:05,044 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.97, 'explanation': 'High confidence in step validity (confidence=0.970, accept=0.983, reject=0.017)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.025000000000000022, 'abstain': 0.0}}, {'step_index': 4, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.9, 'explanation': 'High confidence in step validity (confidence=0.900, accept=0.945, reject=0.055)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.08333333333333331, 'abstain': 0.0}}, {'step_index': 5, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 6, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.99, 'explanation': 'High confidence in step validity (confidence=0.990, accept=0.994, reject=0.006)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.00833333333333336, 'abstain': 0.0}}, {'step_index': 7, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.96, 'explanation': 'High confidence in step validity (confidence=0.960, accept=0.977, reject=0.023)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.03333333333333338, 'abstain': 0.0}}], 'summary': {'total_steps': 8, 'accept_count': 8, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9600000000000001, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T19:01:05.038826', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.9600000000000001, 'max': 0.99, 'min': 0.9, 'range': 0.08999999999999997, 'variance': 0.0006999999999999995, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.010000000000000009}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 8, 'avg_confidence': 0.9600000000000001, 'min_confidence': 0.9, 'max_confidence': 0.99, 'distribution': {'high': 8, 'medium': 0, 'low': 0}}}}
2025-05-25 19:01:05,049 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=8, REJECT=0, ABSTAIN=0
2025-05-25 19:01:05,049 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (8/8), Rejection: 0.00 (0/8), Abstention: 0.00 (0/8), Avg Confidence: 0.96
2025-05-25 19:01:05,050 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=8, REJECT=0, ABSTAIN=0
2025-05-25 19:01:05,050 - 3WayCoT.App - INFO - Decision summary: ACCEPT=8, REJECT=0, ABSTAIN=0
2025-05-25 19:01:05,050 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=8, REJECT=0, ABSTAIN=0
2025-05-25 19:01:05,051 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (8/8), Rejection: 0.00 (0/8), Abstention: 0.00 (0/8), Avg Confidence: 0.96
2025-05-25 19:01:05,051 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 19:01:05,052 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 19:01:05,052 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 19:01:05,052 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 19:07:39,761 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 19:08:59,365 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 19:09:00,140 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 19:09:00,142 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 19:09:00,600 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 19:09:00,601 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 19:09:00,601 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 19:09:00,602 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 19:09:00,602 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 19:09:00,602 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 19:09:01,204 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 19:09:01,204 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 19:09:01,892 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 19:09:02,145 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 19:09:06,286 - 3WayCoT.UI - WARNING - Port 7860 is in use, trying next port...
2025-05-25 19:09:06,287 - 3WayCoT.UI - INFO - Attempting to launch on port 7861...
2025-05-25 19:09:08,402 - httpx - INFO - HTTP Request: GET http://localhost:7861/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 19:09:08,568 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 19:09:10,487 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 19:27:58,472 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 19:27:58,473 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 19:27:58,474 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 19:27:58,474 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 19:27:58,474 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 19:27:58,474 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 19:27:58,475 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 19:27:58,478 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 19:27:58,479 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 19:28:02,626 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 19:28:02,628 - 3WayCoT.COTGenerator - INFO - Extracted 4 reasoning steps
2025-05-25 19:28:02,628 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 19:28:02,630 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 19:28:02,630 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 19:28:02,631 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 19:28:02,631 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 19:28:02,631 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 19:28:02,631 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 19:28:02,632 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 19:28:02,632 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 19:28:02,633 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 19:28:02,633 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 19:28:02,634 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 19:28:02,634 - 3WayCoT.COTGenerator - INFO - Generated 4 reasoning steps with assumptions
2025-05-25 19:28:02,634 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-25 19:28:02,635 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 19:28:02,635 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'Identify the core information in the problem statement.  The problem states that a farmer initially has 17 sheep, and all but 9 die.\n\nconfidence: 0.95\nmethod: direct interpretation of text; low uncertainty due to clear language.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. "All but 9" means 9 sheep survived.\n3. The word "sheep" refers to the same type of animal throughout the problem.\n4. There are no additional factors affecting sheep population (e.g., births, thefts).\n5. The problem is a simple word problem requiring basic arithmetic.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Identify the core information in the problem statement.  The problem states that a farmer initially has 17 sheep, and all but 9 die.\n\nconfidence: 0.95\nmethod: direct interpretation of text; low uncertainty due to clear language.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. "All but 9" means 9 sheep survived.\n3. The word "sheep" refers to the same type of animal throughout the problem.\n4. There are no additional factors affecting sheep population (e.g., births, thefts).\n5. The problem is a simple word problem requiring basic arithmetic.\n[Assumptions: ]'}, {'step_num': 2, 'reasoning': 'Translate the verbal description into a mathematical expression. The phrase "all but 9 die" implies that 9 sheep survived.\n\nconfidence: 0.90\nmethod: logical deduction based on the meaning of language; slight uncertainty due to potential ambiguity in natural language.\nAssumptions:\n1. The English language is being used consistently and correctly.\n2.  The phrase "all but 9" is unambiguous in this context.\n3. Basic arithmetic operations are understood correctly.\n4. The initial number of sheep (17) is a fixed value.\n5. No other events (additional deaths or births) occurred.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Translate the verbal description into a mathematical expression. The phrase "all but 9 die" implies that 9 sheep survived.\n\nconfidence: 0.90\nmethod: logical deduction based on the meaning of language; slight uncertainty due to potential ambiguity in natural language.\nAssumptions:\n1. The English language is being used consistently and correctly.\n2.  The phrase "all but 9" is unambiguous in this context.\n3. Basic arithmetic operations are understood correctly.\n4. The initial number of sheep (17) is a fixed value.\n5. No other events (additional deaths or births) occurred.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': 'Perform the calculation. The number of sheep remaining is the number that survived, which is 9.\n\nconfidence: 0.99\nmethod: simple arithmetic calculation; high confidence due to low probability of error in simple addition/subtraction.\nAssumptions:\n1. The calculation 17 - (17-9) = 9 is performed correctly.\n2. The number 9 represents the number of surviving sheep.\n3. No rounding or approximation is needed.\n4. The units (sheep) remain consistent throughout the calculation.\n5. There are no hidden mathematical complexities.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Perform the calculation. The number of sheep remaining is the number that survived, which is 9.\n\nconfidence: 0.99\nmethod: simple arithmetic calculation; high confidence due to low probability of error in simple addition/subtraction.\nAssumptions:\n1. The calculation 17 - (17-9) = 9 is performed correctly.\n2. The number 9 represents the number of surviving sheep.\n3. No rounding or approximation is needed.\n4. The units (sheep) remain consistent throughout the calculation.\n5. There are no hidden mathematical complexities.\n[Assumptions: ]'}, {'step_num': 4, 'reasoning': 'Final Answer: 9 sheep are left.\nconfidence: 0.95\nmethod:  A combination of direct interpretation, logical deduction, and simple arithmetic calculation.  The confidence is slightly reduced due to potential ambiguities in natural language interpretation, as addressed in the previous steps.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: 9 sheep are left.\nconfidence: 0.95\nmethod:  A combination of direct interpretation, logical deduction, and simple arithmetic calculation.  The confidence is slightly reduced due to potential ambiguities in natural language interpretation, as addressed in the previous steps.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 19:28:02,638 - 3WayCoT.App - INFO - Generated 4 reasoning steps in 4.16 seconds
2025-05-25 19:28:02,639 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 19:28:02,639 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.90 (high)
2025-05-25 19:28:02,640 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.99 (high)
2025-05-25 19:28:02,640 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.95 (high)
2025-05-25 19:28:02,640 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-direct interpretation of text; low uncertainty due to clear language.
2025-05-25 19:28:02,640 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.90 (high) using method: structured-logical deduction based on the meaning of language; slight uncertainty due to potential ambiguity in natural language.
2025-05-25 19:28:02,641 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.99 (high) using method: structured-simple arithmetic calculation; high confidence due to low probability of error in simple addition/subtraction.
2025-05-25 19:28:02,641 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.95 (high) using method: structured-a combination of direct interpretation, logical deduction, and simple arithmetic calculation.  the confidence is slightly reduced due to potential ambiguities in natural language interpretation, as addressed in the previous steps.
2025-05-25 19:28:02,659 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 19:28:02,660 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.9475, 'max': 0.99, 'min': 0.9, 'range': 0.08999999999999997, 'variance': 0.001018749999999999, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 19:28:02,661 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 19:28:02,661 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.9475, 'max': 0.99, 'min': 0.9, 'range': 0.08999999999999997, 'variance': 0.001018749999999999, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 19:28:02,661 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 4, 'avg_confidence': 0.9475, 'min_confidence': 0.9, 'max_confidence': 0.99, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 19:28:02,662 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 19:28:02,662 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.945, reject=0.055, abstain=0.000, confidence=0.900
2025-05-25 19:28:02,663 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.994, reject=0.006, abstain=0.000, confidence=0.990
2025-05-25 19:28:02,663 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 19:28:02,664 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9475, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 19:28:02,665 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.9, 'explanation': 'High confidence in step validity (confidence=0.900, accept=0.945, reject=0.055)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.08333333333333331, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.99, 'explanation': 'High confidence in step validity (confidence=0.990, accept=0.994, reject=0.006)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.00833333333333336, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}], 'summary': {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9475, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T19:28:02.661789', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.9475, 'max': 0.99, 'min': 0.9, 'range': 0.08999999999999997, 'variance': 0.001018749999999999, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 4, 'avg_confidence': 0.9475, 'min_confidence': 0.9, 'max_confidence': 0.99, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}}}
2025-05-25 19:28:02,667 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 19:28:02,667 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.95
2025-05-25 19:28:02,668 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 19:28:02,668 - 3WayCoT.App - INFO - Decision summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 19:28:02,669 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 19:28:02,669 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.95
2025-05-25 19:28:02,670 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 19:28:02,670 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 19:28:02,670 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 19:28:02,671 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 19:29:52,125 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 19:30:00,016 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 19:30:00,663 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 19:30:00,664 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 19:30:01,167 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 19:30:01,167 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 19:30:01,168 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 19:30:01,168 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 19:30:01,168 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 19:30:01,169 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 19:30:01,855 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 19:30:01,856 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 19:30:02,385 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 19:30:02,658 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 19:30:04,006 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 19:30:06,079 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 20:53:57,934 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 20:54:03,388 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 20:54:04,136 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 20:54:04,138 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 20:54:04,557 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 20:54:04,557 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 20:54:04,558 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 20:54:04,558 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 20:54:04,559 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 20:54:04,559 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 20:54:05,140 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 20:54:05,141 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 20:54:05,812 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 20:54:06,342 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 20:54:07,278 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 20:54:09,335 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 20:54:28,636 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 20:54:28,637 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 20:54:28,637 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 20:54:28,638 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 20:54:28,638 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 20:54:28,639 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 20:54:28,639 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 20:54:28,644 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 20:54:28,644 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 20:54:30,013 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 20:54:30,015 - 3WayCoT.COTGenerator - INFO - Extracted 0 reasoning steps
2025-05-25 20:54:30,015 - 3WayCoT.COTGenerator - INFO - Generated 0 reasoning steps with assumptions
2025-05-25 20:54:30,015 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 0
2025-05-25 20:54:30,016 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 20:54:30,016 - 3WayCoT.App - INFO - Generated reasoning steps :[]
2025-05-25 20:54:30,017 - 3WayCoT.App - INFO - Generated 0 reasoning steps in 1.38 seconds
2025-05-25 20:54:30,017 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 20:54:30,017 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {}, 'membership_degrees': {}, 'confidence_calibration': {}}
2025-05-25 20:54:30,018 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 20:54:30,018 - 3WayCoT.ThreeWayDecisionMaker - WARNING - No reasoning steps found in analysis. Cannot make decisions.
2025-05-25 20:54:30,019 - root - INFO - Decisions: {'decisions': [], 'summary': {}, 'metadata': {'timestamp': '2025-05-25T20:54:30.018234', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True}}
2025-05-25 20:54:30,019 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 20:54:30,019 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 20:54:30,020 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 20:54:30,020 - 3WayCoT.App - INFO - Decision summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 20:54:30,021 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 20:54:30,021 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 20:54:30,021 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 20:54:30,022 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 20:54:30,022 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 20:54:30,023 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 20:54:30,026 - 3WayCoT.Main - ERROR - Error in process_and_display: name 'reasoning_steps' is not defined
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2278, in process_and_display
    "reasoning_steps": reasoning_steps
NameError: name 'reasoning_steps' is not defined. Did you mean: 'reasoning_table'?
2025-05-25 21:23:02,401 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 21:23:15,090 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 21:23:15,822 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 21:23:15,825 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 21:23:16,235 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 21:23:16,236 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 21:23:16,237 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 21:23:16,237 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 21:23:16,238 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 21:23:16,238 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 21:23:16,866 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 21:23:16,868 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 21:23:17,248 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 21:23:17,727 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 21:23:19,076 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 21:23:21,153 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 21:24:32,991 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 21:24:32,992 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 21:24:32,992 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 21:24:32,993 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 21:24:32,993 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 21:24:32,993 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 21:24:32,994 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 21:24:32,997 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 21:24:32,998 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 21:24:37,092 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 21:24:37,093 - 3WayCoT.COTGenerator - INFO - Extracted 4 reasoning steps
2025-05-25 21:24:37,094 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 21:24:37,095 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 21:24:37,095 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 21:24:37,096 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 21:24:37,096 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 21:24:37,096 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 21:24:37,096 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 21:24:37,097 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 21:24:37,097 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 21:24:37,097 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 21:24:37,097 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 21:24:37,098 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 21:24:37,099 - 3WayCoT.COTGenerator - INFO - Generated 4 reasoning steps with assumptions
2025-05-25 21:24:37,099 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-25 21:24:37,100 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 21:24:37,100 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'Identify the core information. The problem states that the farmer initially has 17 sheep, and all but 9 die.\n\nconfidence: 0.95\nmethod: direct interpretation of the problem statement.  This is a straightforward reading comprehension task with minimal ambiguity.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. The term "all but 9" means 9 sheep survived.\n3. The problem is a simple arithmetic word problem.\n4. There are no hidden or implied conditions.\n5. The wording "all but 9" is unambiguous.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Identify the core information. The problem states that the farmer initially has 17 sheep, and all but 9 die.\n\nconfidence: 0.95\nmethod: direct interpretation of the problem statement.  This is a straightforward reading comprehension task with minimal ambiguity.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. The term "all but 9" means 9 sheep survived.\n3. The problem is a simple arithmetic word problem.\n4. There are no hidden or implied conditions.\n5. The wording "all but 9" is unambiguous.\n[Assumptions: ]'}, {'step_num': 2, 'reasoning': 'Translate the verbal statement into a mathematical expression.  "All but 9" surviving implies 9 sheep remain.\n\nconfidence: 0.90\nmethod: logical deduction from the problem statement.  The deduction is straightforward, but relies on correct understanding of the language used.\nAssumptions:\n1.  The phrase "all but 9" is correctly interpreted as 9 remaining.\n2.  The number of sheep that died is irrelevant to the final answer.\n3.  No sheep were added or removed other than those that died.\n4.  The context is simple arithmetic, not a complex scenario with additional factors.\n5. The problem is focused on the number of surviving sheep.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Translate the verbal statement into a mathematical expression.  "All but 9" surviving implies 9 sheep remain.\n\nconfidence: 0.90\nmethod: logical deduction from the problem statement.  The deduction is straightforward, but relies on correct understanding of the language used.\nAssumptions:\n1.  The phrase "all but 9" is correctly interpreted as 9 remaining.\n2.  The number of sheep that died is irrelevant to the final answer.\n3.  No sheep were added or removed other than those that died.\n4.  The context is simple arithmetic, not a complex scenario with additional factors.\n5. The problem is focused on the number of surviving sheep.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': 'Determine the solution.  The remaining number of sheep is 9.\n\nconfidence: 0.98\nmethod: simple arithmetic calculation. This is a very low-complexity calculation with a negligible chance of error.\nAssumptions:\n1. Basic arithmetic operations are performed correctly.\n2. The number 9 accurately represents the surviving sheep.\n3. No additional sheep were born or acquired.\n4. No other factors influence the sheep population.\n5. The initial count of 17 sheep is accurate.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Determine the solution.  The remaining number of sheep is 9.\n\nconfidence: 0.98\nmethod: simple arithmetic calculation. This is a very low-complexity calculation with a negligible chance of error.\nAssumptions:\n1. Basic arithmetic operations are performed correctly.\n2. The number 9 accurately represents the surviving sheep.\n3. No additional sheep were born or acquired.\n4. No other factors influence the sheep population.\n5. The initial count of 17 sheep is accurate.\n[Assumptions: ]'}, {'step_num': 4, 'reasoning': 'Final Answer: There are 9 sheep left.\nconfidence: 0.97\nmethod:  Based on the high confidence levels of each step, the final answer has a high degree of certainty.  The method is a straightforward application of logical reasoning and basic arithmetic.  Uncertainty is minimal given the simplicity and clarity of the problem.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: There are 9 sheep left.\nconfidence: 0.97\nmethod:  Based on the high confidence levels of each step, the final answer has a high degree of certainty.  The method is a straightforward application of logical reasoning and basic arithmetic.  Uncertainty is minimal given the simplicity and clarity of the problem.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 21:24:37,104 - 3WayCoT.App - INFO - Generated 4 reasoning steps in 4.11 seconds
2025-05-25 21:24:37,105 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 21:24:37,105 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.90 (high)
2025-05-25 21:24:37,105 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.98 (high)
2025-05-25 21:24:37,106 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.97 (high)
2025-05-25 21:24:37,106 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-direct interpretation of the problem statement.  this is a straightforward reading comprehension task with minimal ambiguity.
2025-05-25 21:24:37,107 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.90 (high) using method: structured-logical deduction from the problem statement.  the deduction is straightforward, but relies on correct understanding of the language used.
2025-05-25 21:24:37,107 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.98 (high) using method: structured-simple arithmetic calculation. this is a very low-complexity calculation with a negligible chance of error.
2025-05-25 21:24:37,107 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.97 (high) using method: structured-based on the high confidence levels of each step, the final answer has a high degree of certainty.  the method is a straightforward application of logical reasoning and basic arithmetic.  uncertainty is minimal given the simplicity and clarity of the problem.
2025-05-25 21:24:37,124 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 21:24:37,125 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.95, 'max': 0.98, 'min': 0.9, 'range': 0.07999999999999996, 'variance': 0.0009499999999999989, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 21:24:37,126 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 21:24:37,127 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.95, 'max': 0.98, 'min': 0.9, 'range': 0.07999999999999996, 'variance': 0.0009499999999999989, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 21:24:37,128 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 4, 'avg_confidence': 0.95, 'min_confidence': 0.9, 'max_confidence': 0.98, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 21:24:37,128 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 21:24:37,129 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.945, reject=0.055, abstain=0.000, confidence=0.900
2025-05-25 21:24:37,129 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 21:24:37,129 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.983, reject=0.017, abstain=0.000, confidence=0.970
2025-05-25 21:24:37,130 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.95, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 21:24:37,131 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.9, 'explanation': 'High confidence in step validity (confidence=0.900, accept=0.945, reject=0.055)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.08333333333333331, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.97, 'explanation': 'High confidence in step validity (confidence=0.970, accept=0.983, reject=0.017)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.025000000000000022, 'abstain': 0.0}}], 'summary': {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.95, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T21:24:37.127687', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.95, 'max': 0.98, 'min': 0.9, 'range': 0.07999999999999996, 'variance': 0.0009499999999999989, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 4, 'avg_confidence': 0.95, 'min_confidence': 0.9, 'max_confidence': 0.98, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}}}
2025-05-25 21:24:37,133 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 21:24:37,133 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.95
2025-05-25 21:24:37,134 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 21:24:37,134 - 3WayCoT.App - INFO - Decision summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 21:24:37,134 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 21:24:37,135 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.95
2025-05-25 21:24:37,135 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 21:24:37,136 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 21:24:37,136 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 21:24:37,136 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 21:24:37,138 - 3WayCoT.Main - ERROR - Error in process_and_display: name 'reasoning_steps' is not defined
Traceback (most recent call last):
  File "D:\Research2023\3WayCoT\3waycot-framework.v3\gradio_app.py", line 2365, in process_and_display
    "reasoning_steps": reasoning_steps
NameError: name 'reasoning_steps' is not defined. Did you mean: 'reasoning_table'?
2025-05-25 21:31:59,317 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 21:32:00,264 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 21:32:00,265 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 21:32:00,707 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 21:32:00,707 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 21:32:00,708 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 21:32:00,708 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 21:32:00,709 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 21:32:00,709 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 21:32:01,312 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 21:32:01,313 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 21:32:01,912 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 21:32:02,402 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 21:32:03,458 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 21:32:05,530 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 21:32:22,604 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 21:32:22,604 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 21:32:22,605 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 21:32:22,605 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 21:32:22,605 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 21:32:22,606 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 21:32:22,606 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 21:32:22,610 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 21:32:22,610 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 21:32:23,301 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F07B7FCF10>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:32:24,183 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F07B7FCF10>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:32:24,604 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F07B7FCF10>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:32:25,581 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F07B7FCF10>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:32:25,861 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F07B7FCF10>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:32:28,883 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F07B7FCF10>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:32:30,820 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F07B7FCF10>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:32:33,841 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x000001F07B7FCF10>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:32:38,300 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 21:33:25,561 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 21:33:26,129 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 21:33:26,131 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 21:33:26,467 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 21:33:26,468 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 21:33:26,469 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 21:33:26,469 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 21:33:26,470 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 21:33:26,470 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 21:33:27,031 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 21:33:27,032 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 21:33:27,525 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 21:33:27,900 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 21:33:29,162 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 21:33:31,228 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 21:33:35,300 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 21:33:35,301 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 21:33:35,302 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 21:33:35,303 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 21:33:35,303 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 21:33:35,303 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 21:33:35,304 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 21:33:35,310 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 21:33:35,310 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 21:33:35,990 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x0000022409F19150>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:33:36,380 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x0000022409F19150>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:33:37,261 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x0000022409F19150>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:33:37,548 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x0000022409F19150>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:33:39,303 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x0000022409F19150>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:33:41,738 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x0000022409F19150>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:33:43,660 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x0000022409F19150>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:33:46,243 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x0000022409F19150>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:33:50,563 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x0000022409F19150>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:33:58,738 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x0000022409F19150>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:33:59,154 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x0000022409F19150>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:34:06,581 - grpc._plugin_wrapping - ERROR - AuthMetadataPluginCallback "<google.auth.transport.grpc.AuthMetadataPlugin object at 0x0000022409F19150>" raised exception!
Traceback (most recent call last):
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\grpc\_plugin_wrapping.py", line 105, in __call__
    self._metadata_plugin(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 95, in __call__
    callback(self._get_authorization_headers(context), None)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\transport\grpc.py", line 81, in _get_authorization_headers
    self._credentials.before_request(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 239, in before_request
    self._blocking_refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\auth\credentials.py", line 202, in _blocking_refresh
    self.refresh(request)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\credentials.py", line 409, in refresh
    ) = reauth.refresh_grant(
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\reauth.py", line 366, in refresh_grant
    _client._handle_error_response(response_data, retryable_error)
  File "C:\Users\mokht\AppData\Local\Programs\Python\Python310\lib\site-packages\google\oauth2\_client.py", line 69, in _handle_error_response
    raise exceptions.RefreshError(
google.auth.exceptions.RefreshError: ('invalid_grant: Bad Request', {'error': 'invalid_grant', 'error_description': 'Bad Request'})
2025-05-25 21:34:07,714 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 21:37:19,899 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 21:37:20,482 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 21:37:20,484 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 21:37:20,840 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 21:37:20,840 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 21:37:20,841 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 21:37:20,841 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 21:37:20,841 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 21:37:20,842 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 21:37:21,392 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 21:37:21,393 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 21:37:22,123 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 21:37:22,362 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 21:37:23,531 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 21:37:25,615 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 21:37:46,606 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 21:37:46,607 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 21:37:46,608 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 21:37:46,608 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 21:37:46,608 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 21:37:46,609 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 21:37:46,609 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 21:37:46,612 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 21:37:46,613 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 21:37:51,779 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 21:37:51,780 - 3WayCoT.COTGenerator - INFO - Extracted 4 reasoning steps
2025-05-25 21:37:51,781 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 21:37:51,782 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 21:37:51,782 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 21:37:51,783 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 21:37:51,783 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 21:37:51,783 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 21:37:51,784 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 21:37:51,784 - 3WayCoT.COTGenerator - INFO - Only 2 assumptions found for step 3 (expected up to 5). Assumptions: ['Implicit assumption: The solution satisfies both equations:\n\nEquation 1: 12 + 18 = 30 (True)\nEquation 2: 2(12) + 4(18) = 24 + 72 = 96 (True)\n\nconfidence: 0', 'Implicit assumption: The solution satisfies the original equations']
2025-05-25 21:37:51,785 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (2): ['Implicit assumption: The solution satisfies both equations:\n\nEquation 1: 12 + 18 = 30 (True)\nEquation 2: 2(12) + 4(18) = 24 + 72 = 96 (True)\n\nconfidence: 0', 'Implicit assumption: The solution satisfies the original equations']
2025-05-25 21:37:51,785 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 21:37:51,786 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 21:37:51,786 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 21:37:51,786 - 3WayCoT.COTGenerator - INFO - Generated 4 reasoning steps with assumptions
2025-05-25 21:37:51,787 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 3
2025-05-25 21:37:51,787 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 21:37:51,787 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': "Define variables and set up equations. Let 'c' represent the number of chickens and 'r' represent the number of rabbits.  Each chicken has 1 head and 2 feet, and each rabbit has 1 head and 4 feet. This leads to two equations:\n\nc + r = 30  (Equation 1: Total heads)\n2c + 4r = 96 (Equation 2: Total feet)\n\nconfidence: 0.95\nmethod: Mathematical reasoning; setting up equations based on the problem statement.  This step is highly certain provided the problem statement is accurate and unambiguous.\nAssumptions:\n1. Each chicken has one head.\n2. Each chicken has two feet.\n3. Each rabbit has one head.\n4. Each rabbit has four feet.\n5. There are only chickens and rabbits.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "Define variables and set up equations. Let 'c' represent the number of chickens and 'r' represent the number of rabbits.  Each chicken has 1 head and 2 feet, and each rabbit has 1 head and 4 feet. This leads to two equations:\n\nc + r = 30  (Equation 1: Total heads)\n2c + 4r = 96 (Equation 2: Total feet)\n\nconfidence: 0.95\nmethod: Mathematical reasoning; setting up equations based on the problem statement.  This step is highly certain provided the problem statement is accurate and unambiguous.\nAssumptions:\n1. Each chicken has one head.\n2. Each chicken has two feet.\n3. Each rabbit has one head.\n4. Each rabbit has four feet.\n5. There are only chickens and rabbits.\n[Assumptions: ]"}, {'step_num': 2, 'reasoning': "Solve the system of equations. We can solve this using substitution or elimination. Let's use elimination. Multiply Equation 1 by -2:\n\n-2c - 2r = -60\n\nAdd this to Equation 2:\n\n(-2c - 2r) + (2c + 4r) = -60 + 96\n2r = 36\nr = 18\n\nSubstitute r = 18 into Equation 1:\n\nc + 18 = 30\nc = 12\n\nconfidence: 0.90\nmethod: Algebraic manipulation; solving a simple system of linear equations.  The confidence is slightly lower due to the potential for arithmetic errors.\nAssumptions:\n1. The arithmetic operations are performed correctly.\n2. The solution to the system of equations is unique.\n3. The variables c and r represent whole numbers (you can't have a fraction of a chicken or rabbit).\n4. The elimination method is a valid method for solving this system.\n5. The substitution step is correctly executed.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "Solve the system of equations. We can solve this using substitution or elimination. Let's use elimination. Multiply Equation 1 by -2:\n\n-2c - 2r = -60\n\nAdd this to Equation 2:\n\n(-2c - 2r) + (2c + 4r) = -60 + 96\n2r = 36\nr = 18\n\nSubstitute r = 18 into Equation 1:\n\nc + 18 = 30\nc = 12\n\nconfidence: 0.90\nmethod: Algebraic manipulation; solving a simple system of linear equations.  The confidence is slightly lower due to the potential for arithmetic errors.\nAssumptions:\n1. The arithmetic operations are performed correctly.\n2. The solution to the system of equations is unique.\n3. The variables c and r represent whole numbers (you can't have a fraction of a chicken or rabbit).\n4. The elimination method is a valid method for solving this system.\n5. The substitution step is correctly executed.\n[Assumptions: ]"}, {'step_num': 3, 'reasoning': 'Verify the solution.  Check if the solution satisfies both equations:\n\nEquation 1: 12 + 18 = 30 (True)\nEquation 2: 2(12) + 4(18) = 24 + 72 = 96 (True)\n\nconfidence: 0.98\nmethod: Verification; checking if the solution satisfies the original equations.  High confidence as this is a direct check.\nAssumptions:\n1. The values of c and r are correctly substituted into the equations.\n2. The arithmetic calculations are correct.\n3. Both equations must be satisfied for a valid solution.\n4. No other solutions exist given the constraints.\n5. The initial equations are correctly formulated.', 'assumptions': '', 'extracted_assumptions': ['Implicit assumption: The solution satisfies both equations:\n\nEquation 1: 12 + 18 = 30 (True)\nEquation 2: 2(12) + 4(18) = 24 + 72 = 96 (True)\n\nconfidence: 0', 'Implicit assumption: The solution satisfies the original equations'], 'annotated_reasoning': 'Verify the solution.  Check if the solution satisfies both equations:\n\nEquation 1: 12 + 18 = 30 (True)\nEquation 2: 2(12) + 4(18) = 24 + 72 = 96 (True)\n\nconfidence: 0.98\nmethod: Verification; checking if the solution satisfies the original equations.  High confidence as this is a direct check.\nAssumptions:\n1. The values of c and r are correctly substituted into the equations.\n2. The arithmetic calculations are correct.\n3. Both equations must be satisfied for a valid solution.\n4. No other solutions exist given the constraints.\n5. The initial equations are correctly formulated.\n[Assumptions: Implicit assumption: The solution satisfies both equations:\n\nEquation 1: 12 + 18 = 30 (True)\nEquation 2: 2(12) + 4(18) = 24 + 72 = 96 (True)\n\nconfidence: 0; Implicit assumption: The solution satisfies the original equations]'}, {'step_num': 4, 'reasoning': 'Final Answer: There are 12 chickens and 18 rabbits.\nconfidence: 0.95\nmethod:  Combined confidence from all steps, considering potential errors in each stage.  The overall confidence is high due to the straightforward nature of the problem and the multiple checks performed.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: There are 12 chickens and 18 rabbits.\nconfidence: 0.95\nmethod:  Combined confidence from all steps, considering potential errors in each stage.  The overall confidence is high due to the straightforward nature of the problem and the multiple checks performed.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 21:37:51,792 - 3WayCoT.App - INFO - Generated 4 reasoning steps in 5.18 seconds
2025-05-25 21:37:51,793 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 21:37:51,793 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.90 (high)
2025-05-25 21:37:51,793 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.98 (high)
2025-05-25 21:37:51,794 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.95 (high)
2025-05-25 21:37:51,794 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-mathematical reasoning; setting up equations based on the problem statement.  this step is highly certain provided the problem statement is accurate and unambiguous.
2025-05-25 21:37:51,794 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.90 (high) using method: structured-algebraic manipulation; solving a simple system of linear equations.  the confidence is slightly lower due to the potential for arithmetic errors.
2025-05-25 21:37:51,795 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.98 (high) using method: structured-verification; checking if the solution satisfies the original equations.  high confidence as this is a direct check.
2025-05-25 21:37:51,795 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.95 (high) using method: structured-combined confidence from all steps, considering potential errors in each stage.  the overall confidence is high due to the straightforward nature of the problem and the multiple checks performed.
2025-05-25 21:37:51,807 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 21:37:51,808 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.9450000000000001, 'max': 0.98, 'min': 0.9, 'range': 0.07999999999999996, 'variance': 0.000824999999999999, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 21:37:51,809 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 21:37:51,810 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.9450000000000001, 'max': 0.98, 'min': 0.9, 'range': 0.07999999999999996, 'variance': 0.000824999999999999, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 21:37:51,811 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 4, 'avg_confidence': 0.9450000000000001, 'min_confidence': 0.9, 'max_confidence': 0.98, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 21:37:51,812 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 21:37:51,812 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.945, reject=0.055, abstain=0.000, confidence=0.900
2025-05-25 21:37:51,812 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 21:37:51,813 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 21:37:51,813 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9450000000000001, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 21:37:51,814 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.9, 'explanation': 'High confidence in step validity (confidence=0.900, accept=0.945, reject=0.055)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.08333333333333331, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}], 'summary': {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9450000000000001, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T21:37:51.810567', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.9450000000000001, 'max': 0.98, 'min': 0.9, 'range': 0.07999999999999996, 'variance': 0.000824999999999999, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 4, 'avg_confidence': 0.9450000000000001, 'min_confidence': 0.9, 'max_confidence': 0.98, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}}}
2025-05-25 21:37:51,816 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 21:37:51,818 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.95
2025-05-25 21:37:51,818 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 21:37:51,818 - 3WayCoT.App - INFO - Decision summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 21:37:51,818 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 21:37:51,818 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.95
2025-05-25 21:37:51,818 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 21:37:51,819 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 21:37:51,819 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 21:37:51,819 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 21:45:05,498 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 22:00:09,416 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 22:00:10,149 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 22:00:10,151 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 22:00:10,573 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 22:00:10,574 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 22:00:10,574 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 22:00:10,574 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 22:00:10,575 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 22:00:10,575 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 22:00:11,153 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 22:00:11,154 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 22:00:11,571 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 22:00:12,074 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 22:00:13,297 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 22:00:15,369 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 22:00:29,276 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 22:00:29,277 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 22:00:29,277 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 22:00:29,278 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 22:00:29,278 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 22:00:29,279 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 22:00:29,279 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 22:00:29,283 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 22:00:29,284 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 22:00:33,684 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 22:00:33,686 - 3WayCoT.COTGenerator - INFO - Extracted 4 reasoning steps
2025-05-25 22:00:33,687 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 22:00:33,689 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 22:00:33,689 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 22:00:33,690 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 22:00:33,690 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 22:00:33,691 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 22:00:33,691 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 22:00:33,691 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 22:00:33,692 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 22:00:33,692 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 22:00:33,693 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 22:00:33,693 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 22:00:33,693 - 3WayCoT.COTGenerator - INFO - Generated 4 reasoning steps with assumptions
2025-05-25 22:00:33,694 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-25 22:00:33,694 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 22:00:33,695 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'Identify the core information. The problem states that the farmer initially has 17 sheep, and all but 9 die.  This implies a subtraction operation is necessary.\n\nconfidence: 0.95\nmethod: Logical deduction based on the problem statement.  The method is highly reliable as the problem is clearly stated.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. "All but 9" means 9 sheep survived.\n3. The number of sheep is a whole number.\n4. No sheep were added or removed other than through death.\n5. The term "die" implies permanent death.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Identify the core information. The problem states that the farmer initially has 17 sheep, and all but 9 die.  This implies a subtraction operation is necessary.\n\nconfidence: 0.95\nmethod: Logical deduction based on the problem statement.  The method is highly reliable as the problem is clearly stated.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. "All but 9" means 9 sheep survived.\n3. The number of sheep is a whole number.\n4. No sheep were added or removed other than through death.\n5. The term "die" implies permanent death.\n[Assumptions: ]'}, {'step_num': 2, 'reasoning': 'Perform the subtraction.  To find the number of remaining sheep, subtract the number of sheep that died from the initial number of sheep.  The number of sheep that died is 17 - 9 = 8.\n\nconfidence: 0.98\nmethod: Basic arithmetic.  The method is highly reliable and error-free given the accuracy of the input data.  \nAssumptions:\n1. Basic subtraction is correctly performed.\n2. The numerical values provided are accurate.\n3. There are no hidden or implied factors affecting the calculation.\n4. The subtraction operation is the appropriate mathematical operation to use.\n5. The result is a whole number representing a real-world quantity (sheep).', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Perform the subtraction.  To find the number of remaining sheep, subtract the number of sheep that died from the initial number of sheep.  The number of sheep that died is 17 - 9 = 8.\n\nconfidence: 0.98\nmethod: Basic arithmetic.  The method is highly reliable and error-free given the accuracy of the input data.  \nAssumptions:\n1. Basic subtraction is correctly performed.\n2. The numerical values provided are accurate.\n3. There are no hidden or implied factors affecting the calculation.\n4. The subtraction operation is the appropriate mathematical operation to use.\n5. The result is a whole number representing a real-world quantity (sheep).\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': "Determine the final answer.  Since 8 sheep died, and the farmer started with 17, there are 17 - 8 = 9 sheep remaining.\n\nconfidence: 0.99\nmethod: Simple arithmetic.  The method is highly reliable and error-free; it's a straightforward calculation.\nAssumptions:\n1. The subtraction in step 2 is correct.\n2. The result of the subtraction represents the number of surviving sheep.\n3. No other factors influence the number of remaining sheep.\n4. The answer is a whole number.\n5. The context of the problem remains consistent.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "Determine the final answer.  Since 8 sheep died, and the farmer started with 17, there are 17 - 8 = 9 sheep remaining.\n\nconfidence: 0.99\nmethod: Simple arithmetic.  The method is highly reliable and error-free; it's a straightforward calculation.\nAssumptions:\n1. The subtraction in step 2 is correct.\n2. The result of the subtraction represents the number of surviving sheep.\n3. No other factors influence the number of remaining sheep.\n4. The answer is a whole number.\n5. The context of the problem remains consistent.\n[Assumptions: ]"}, {'step_num': 4, 'reasoning': 'Final Answer: 9 sheep are left.\nconfidence: 0.97\nmethod:  The overall confidence is high due to the straightforward nature of the problem and the high confidence levels in each step. The method relies on clear problem definition and accurate arithmetic.  There is minimal room for error.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: 9 sheep are left.\nconfidence: 0.97\nmethod:  The overall confidence is high due to the straightforward nature of the problem and the high confidence levels in each step. The method relies on clear problem definition and accurate arithmetic.  There is minimal room for error.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 22:00:33,699 - 3WayCoT.App - INFO - Generated 4 reasoning steps in 4.42 seconds
2025-05-25 22:00:33,700 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 22:00:33,701 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.98 (high)
2025-05-25 22:00:33,701 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.99 (high)
2025-05-25 22:00:33,702 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.97 (high)
2025-05-25 22:00:33,702 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-logical deduction based on the problem statement.  the method is highly reliable as the problem is clearly stated.
2025-05-25 22:00:33,702 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.98 (high) using method: structured-basic arithmetic.  the method is highly reliable and error-free given the accuracy of the input data.
2025-05-25 22:00:33,703 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.99 (high) using method: structured-simple arithmetic.  the method is highly reliable and error-free; it's a straightforward calculation.
2025-05-25 22:00:33,703 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.97 (high) using method: structured-the overall confidence is high due to the straightforward nature of the problem and the high confidence levels in each step. the method relies on clear problem definition and accurate arithmetic.  there is minimal room for error.
2025-05-25 22:00:33,725 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 22:00:33,725 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.9724999999999999, 'max': 0.99, 'min': 0.95, 'range': 0.040000000000000036, 'variance': 0.0002187500000000004, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 22:00:33,726 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 22:00:33,727 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.9724999999999999, 'max': 0.99, 'min': 0.95, 'range': 0.040000000000000036, 'variance': 0.0002187500000000004, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 22:00:33,728 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 4, 'avg_confidence': 0.9724999999999999, 'min_confidence': 0.95, 'max_confidence': 0.99, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 22:00:33,729 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 22:00:33,729 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 22:00:33,730 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.994, reject=0.006, abstain=0.000, confidence=0.990
2025-05-25 22:00:33,730 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.983, reject=0.017, abstain=0.000, confidence=0.970
2025-05-25 22:00:33,731 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9724999999999999, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 22:00:33,732 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.99, 'explanation': 'High confidence in step validity (confidence=0.990, accept=0.994, reject=0.006)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.00833333333333336, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.97, 'explanation': 'High confidence in step validity (confidence=0.970, accept=0.983, reject=0.017)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.025000000000000022, 'abstain': 0.0}}], 'summary': {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9724999999999999, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T22:00:33.727925', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.9724999999999999, 'max': 0.99, 'min': 0.95, 'range': 0.040000000000000036, 'variance': 0.0002187500000000004, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 4, 'avg_confidence': 0.9724999999999999, 'min_confidence': 0.95, 'max_confidence': 0.99, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}}}
2025-05-25 22:00:33,736 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 22:00:33,737 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.97
2025-05-25 22:00:33,737 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 22:00:33,738 - 3WayCoT.App - INFO - Decision summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 22:00:33,738 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 22:00:33,739 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.97
2025-05-25 22:00:33,739 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 22:00:33,739 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 22:00:33,740 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 22:00:33,740 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 22:03:34,473 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 22:03:38,929 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 22:03:38,932 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 22:03:39,443 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 22:03:39,444 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 22:03:39,444 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 22:03:39,444 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 22:03:39,445 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 22:03:39,445 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 22:03:40,312 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 22:03:40,313 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 22:03:40,752 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 22:03:41,415 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 22:03:45,380 - 3WayCoT.UI - WARNING - Port 7860 is in use, trying next port...
2025-05-25 22:03:45,381 - 3WayCoT.UI - INFO - Attempting to launch on port 7861...
2025-05-25 22:03:47,652 - httpx - INFO - HTTP Request: GET http://localhost:7861/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 22:03:49,817 - httpx - INFO - HTTP Request: HEAD http://localhost:7861/ "HTTP/1.1 200 OK"
2025-05-25 22:06:16,008 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 22:06:16,009 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 22:06:16,009 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 22:06:16,009 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 22:06:16,009 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 22:06:16,010 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 22:06:16,010 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 22:06:16,013 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 22:06:16,014 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 22:06:19,857 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 22:06:19,858 - 3WayCoT.COTGenerator - INFO - Extracted 3 reasoning steps
2025-05-25 22:06:19,859 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 22:06:19,859 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 22:06:19,860 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 22:06:19,860 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 22:06:19,860 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 22:06:19,860 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 22:06:19,861 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 22:06:19,861 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 3 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 22:06:19,861 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 22:06:19,861 - 3WayCoT.COTGenerator - INFO - Generated 3 reasoning steps with assumptions
2025-05-25 22:06:19,862 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-25 22:06:19,862 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 22:06:19,862 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'Identify the core information. The problem states that the farmer initially has 17 sheep, and all but 9 die.  This means 9 sheep survived.\n\nconfidence: 0.95\nmethod: Logical deduction based on the direct statement in the problem.  The method is highly reliable as it involves simple interpretation of the text.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. The term "all but 9" means 9 survived.\n3. The word "die" refers to death and permanent removal from the flock.\n4. There are no additional sheep added to or removed from the flock besides those that die.\n5. The number of sheep is a whole number.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Identify the core information. The problem states that the farmer initially has 17 sheep, and all but 9 die.  This means 9 sheep survived.\n\nconfidence: 0.95\nmethod: Logical deduction based on the direct statement in the problem.  The method is highly reliable as it involves simple interpretation of the text.\nAssumptions:\n1. The problem statement is accurate and complete.\n2. The term "all but 9" means 9 survived.\n3. The word "die" refers to death and permanent removal from the flock.\n4. There are no additional sheep added to or removed from the flock besides those that die.\n5. The number of sheep is a whole number.\n[Assumptions: ]'}, {'step_num': 2, 'reasoning': 'Determine the number of surviving sheep.  Since all but 9 sheep died, this directly implies that 9 sheep remain.\n\nconfidence: 0.98\nmethod: Direct inference from Step 1.  This step is a simple arithmetic conclusion from a clearly stated premise.\nAssumptions:\n1. The numerical information provided is accurate.\n2. Basic arithmetic operations are correctly performed.\n3. There is no ambiguity in the meaning of "all but 9".\n4. No other factors influence the number of surviving sheep.\n5. The context is limited to the information provided in the problem.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Determine the number of surviving sheep.  Since all but 9 sheep died, this directly implies that 9 sheep remain.\n\nconfidence: 0.98\nmethod: Direct inference from Step 1.  This step is a simple arithmetic conclusion from a clearly stated premise.\nAssumptions:\n1. The numerical information provided is accurate.\n2. Basic arithmetic operations are correctly performed.\n3. There is no ambiguity in the meaning of "all but 9".\n4. No other factors influence the number of surviving sheep.\n5. The context is limited to the information provided in the problem.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': 'Final Answer: The farmer has 9 sheep left.\n\nconfidence: 0.97\nmethod:  This confidence is based on the high confidence levels of both steps 1 and 2.  The method is straightforward deductive reasoning with minimal room for error.\nAssumptions:\n1. The problem is correctly interpreted.\n2. Basic arithmetic is applied correctly.\n3. No hidden information or assumptions are needed.\n4. The solution is based solely on the given information.\n5. There are no external factors influencing the outcome.', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: The farmer has 9 sheep left.\n\nconfidence: 0.97\nmethod:  This confidence is based on the high confidence levels of both steps 1 and 2.  The method is straightforward deductive reasoning with minimal room for error.\nAssumptions:\n1. The problem is correctly interpreted.\n2. Basic arithmetic is applied correctly.\n3. No hidden information or assumptions are needed.\n4. The solution is based solely on the given information.\n5. There are no external factors influencing the outcome.\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 22:06:19,866 - 3WayCoT.App - INFO - Generated 3 reasoning steps in 3.86 seconds
2025-05-25 22:06:19,866 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 22:06:19,867 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.98 (high)
2025-05-25 22:06:19,867 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.97 (high)
2025-05-25 22:06:19,868 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-logical deduction based on the direct statement in the problem.  the method is highly reliable as it involves simple interpretation of the text.
2025-05-25 22:06:19,868 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.98 (high) using method: structured-direct inference from step 1.  this step is a simple arithmetic conclusion from a clearly stated premise.
2025-05-25 22:06:19,868 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.97 (high) using method: structured-this confidence is based on the high confidence levels of both steps 1 and 2.  the method is straightforward deductive reasoning with minimal room for error.
2025-05-25 22:06:19,875 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 22:06:19,875 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.9666666666666667, 'max': 0.98, 'min': 0.95, 'range': 0.030000000000000027, 'variance': 0.00015555555555555583, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 22:06:19,876 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 22:06:19,876 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.9666666666666667, 'max': 0.98, 'min': 0.95, 'range': 0.030000000000000027, 'variance': 0.00015555555555555583, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 22:06:19,877 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 3, 'avg_confidence': 0.9666666666666667, 'min_confidence': 0.95, 'max_confidence': 0.98, 'distribution': {'high': 3, 'medium': 0, 'low': 0}}
2025-05-25 22:06:19,878 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 22:06:19,878 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.988, reject=0.012, abstain=0.000, confidence=0.980
2025-05-25 22:06:19,878 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.983, reject=0.017, abstain=0.000, confidence=0.970
2025-05-25 22:06:19,879 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 3, 'accept_count': 3, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9666666666666667, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 22:06:19,879 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.98, 'explanation': 'High confidence in step validity (confidence=0.980, accept=0.988, reject=0.012)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.016666666666666663, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.97, 'explanation': 'High confidence in step validity (confidence=0.970, accept=0.983, reject=0.017)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.025000000000000022, 'abstain': 0.0}}], 'summary': {'total_steps': 3, 'accept_count': 3, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.9666666666666667, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T22:06:19.876641', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.9666666666666667, 'max': 0.98, 'min': 0.95, 'range': 0.030000000000000027, 'variance': 0.00015555555555555583, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 3, 'avg_confidence': 0.9666666666666667, 'min_confidence': 0.95, 'max_confidence': 0.98, 'distribution': {'high': 3, 'medium': 0, 'low': 0}}}}
2025-05-25 22:06:19,882 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=3, REJECT=0, ABSTAIN=0
2025-05-25 22:06:19,883 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (3/3), Rejection: 0.00 (0/3), Abstention: 0.00 (0/3), Avg Confidence: 0.97
2025-05-25 22:06:19,883 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=3, REJECT=0, ABSTAIN=0
2025-05-25 22:06:19,883 - 3WayCoT.App - INFO - Decision summary: ACCEPT=3, REJECT=0, ABSTAIN=0
2025-05-25 22:06:19,884 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=3, REJECT=0, ABSTAIN=0
2025-05-25 22:06:19,884 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (3/3), Rejection: 0.00 (0/3), Abstention: 0.00 (0/3), Avg Confidence: 0.97
2025-05-25 22:06:19,884 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 22:06:19,884 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 22:06:19,885 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 22:06:19,886 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 22:06:46,370 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 22:08:07,479 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 22:08:08,089 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 22:08:08,090 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 22:08:08,502 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 22:08:08,503 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 22:08:08,503 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 22:08:08,503 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 22:08:08,504 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 22:08:08,504 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 22:08:09,149 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 22:08:09,150 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 22:08:09,745 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 22:08:10,370 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 22:08:11,472 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 22:08:13,546 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 22:09:48,862 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 22:09:48,864 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 22:09:48,864 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 22:09:48,865 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 22:09:48,865 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 22:09:48,865 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 22:09:48,866 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 22:09:48,872 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 22:09:48,872 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 22:09:50,007 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 22:09:50,008 - 3WayCoT.COTGenerator - INFO - Extracted 0 reasoning steps
2025-05-25 22:09:50,009 - 3WayCoT.COTGenerator - INFO - Generated 0 reasoning steps with assumptions
2025-05-25 22:09:50,009 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 0
2025-05-25 22:09:50,010 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 22:09:50,011 - 3WayCoT.App - INFO - Generated reasoning steps :[]
2025-05-25 22:09:50,011 - 3WayCoT.App - INFO - Generated 0 reasoning steps in 1.15 seconds
2025-05-25 22:09:50,011 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 22:09:50,012 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {}, 'membership_degrees': {}, 'confidence_calibration': {}}
2025-05-25 22:09:50,012 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 22:09:50,013 - 3WayCoT.ThreeWayDecisionMaker - WARNING - No reasoning steps found in analysis. Cannot make decisions.
2025-05-25 22:09:50,013 - root - INFO - Decisions: {'decisions': [], 'summary': {}, 'metadata': {'timestamp': '2025-05-25T22:09:50.013625', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True}}
2025-05-25 22:09:50,014 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 22:09:50,014 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 22:09:50,014 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 22:09:50,015 - 3WayCoT.App - INFO - Decision summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 22:09:50,015 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=0, REJECT=0, ABSTAIN=0
2025-05-25 22:09:50,015 - 3WayCoT.App - WARNING - No decisions in decision_list for metrics calculation
2025-05-25 22:09:50,016 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 22:09:50,016 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 22:09:50,016 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 22:09:50,017 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 22:10:38,749 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 22:10:38,750 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 22:10:38,750 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 22:10:38,751 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 22:10:38,751 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 22:10:38,751 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 22:10:38,752 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 22:10:38,755 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 22:10:38,755 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 22:10:44,055 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 22:10:44,056 - 3WayCoT.COTGenerator - INFO - Extracted 1 reasoning steps
2025-05-25 22:10:44,056 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 22:10:44,057 - 3WayCoT.COTGenerator - INFO - Step 1 has exactly 5 assumptions
2025-05-25 22:10:44,057 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (5): ['Consistent yields for both crops.', 'Stable market prices for both crops.', 'Suitable land for both crops.', 'Negligible or factored-in harvesting and transportation costs.', 'Revenue maximization as the primary goal.']
2025-05-25 22:10:44,058 - 3WayCoT.COTGenerator - INFO - Generated 1 reasoning steps with assumptions
2025-05-25 22:10:44,058 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 5
2025-05-25 22:10:44,058 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 22:10:44,059 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': "Calculate potential revenue for corn.**\n\nThe farmer has 100 acres * 100 bushels/acre = 10,000 bushels of corn.  At $5/bushel, this yields $50,000 revenue.\n\nconfidence: 0.95\nmethod: Simple arithmetic calculation; high confidence due to straightforward calculation.\nAssumptions:\n1.  The yield of corn is consistently 100 bushels per acre.\n2.  The selling price of corn remains constant at $5/bushel.\n3.  All 100 acres are suitable for corn cultivation.\n4.  There are no unforeseen losses (e.g., disease, pests).\n5.  Harvesting and transportation costs are negligible or factored into the $5/bushel price.\n\n\n**Step 2: Calculate potential revenue for soybeans.**\n\nThe farmer has 100 acres * 50 bushels/acre = 5,000 bushels of soybeans. At $10/bushel, this yields $50,000 revenue.\n\nconfidence: 0.95\nmethod: Simple arithmetic calculation; high confidence due to straightforward calculation.\nAssumptions:\n1. The yield of soybeans is consistently 50 bushels per acre.\n2. The selling price of soybeans remains constant at $10/bushel.\n3. All 100 acres are suitable for soybean cultivation.\n4. There are no unforeseen losses (e.g., disease, pests).\n5. Harvesting and transportation costs are negligible or factored into the $10/bushel price.\n\n\n**Step 3: Compare revenues and determine the optimal crop.**\n\nBoth corn and soybeans yield the same potential revenue ($50,000).\n\nconfidence: 1.0\nmethod: Direct comparison of results from steps 1 and 2.  No uncertainty involved in this comparison.\nAssumptions:\n1. Revenue is the sole factor in the farmer's decision.\n2.  The farmer has the resources to plant either crop equally well.\n3.  Market conditions remain stable.\n4.  There are no other relevant factors (e.g., government subsidies).\n5.  The farmer's goal is to maximize revenue.\n\n\n**Final Answer:**  The farmer can plant either corn or soybeans; both crops yield the same potential revenue.\n\nconfidence: 0.90\nmethod: Based on the calculations and assumptions in the previous steps.  Confidence is slightly reduced due to the inherent uncertainties in agricultural yields and market prices (addressed in assumptions).", 'assumptions': '(Summary of critical assumptions across all steps)\n1. Consistent yields for both crops.\n2. Stable market prices for both crops.\n3. Suitable land for both crops.\n4. Negligible or factored-in harvesting and transportation costs.\n5. Revenue maximization as the primary goal.', 'extracted_assumptions': ['Consistent yields for both crops.', 'Stable market prices for both crops.', 'Suitable land for both crops.', 'Negligible or factored-in harvesting and transportation costs.', 'Revenue maximization as the primary goal.'], 'annotated_reasoning': "Calculate potential revenue for corn.**\n\nThe farmer has 100 acres * 100 bushels/acre = 10,000 bushels of corn.  At $5/bushel, this yields $50,000 revenue.\n\nconfidence: 0.95\nmethod: Simple arithmetic calculation; high confidence due to straightforward calculation.\nAssumptions:\n1.  The yield of corn is consistently 100 bushels per acre.\n2.  The selling price of corn remains constant at $5/bushel.\n3.  All 100 acres are suitable for corn cultivation.\n4.  There are no unforeseen losses (e.g., disease, pests).\n5.  Harvesting and transportation costs are negligible or factored into the $5/bushel price.\n\n\n**Step 2: Calculate potential revenue for soybeans.**\n\nThe farmer has 100 acres * 50 bushels/acre = 5,000 bushels of soybeans. At $10/bushel, this yields $50,000 revenue.\n\nconfidence: 0.95\nmethod: Simple arithmetic calculation; high confidence due to straightforward calculation.\nAssumptions:\n1. The yield of soybeans is consistently 50 bushels per acre.\n2. The selling price of soybeans remains constant at $10/bushel.\n3. All 100 acres are suitable for soybean cultivation.\n4. There are no unforeseen losses (e.g., disease, pests).\n5. Harvesting and transportation costs are negligible or factored into the $10/bushel price.\n\n\n**Step 3: Compare revenues and determine the optimal crop.**\n\nBoth corn and soybeans yield the same potential revenue ($50,000).\n\nconfidence: 1.0\nmethod: Direct comparison of results from steps 1 and 2.  No uncertainty involved in this comparison.\nAssumptions:\n1. Revenue is the sole factor in the farmer's decision.\n2.  The farmer has the resources to plant either crop equally well.\n3.  Market conditions remain stable.\n4.  There are no other relevant factors (e.g., government subsidies).\n5.  The farmer's goal is to maximize revenue.\n\n\n**Final Answer:**  The farmer can plant either corn or soybeans; both crops yield the same potential revenue.\n\nconfidence: 0.90\nmethod: Based on the calculations and assumptions in the previous steps.  Confidence is slightly reduced due to the inherent uncertainties in agricultural yields and market prices (addressed in assumptions).\n[Assumptions: Consistent yields for both crops.; Stable market prices for both crops.; Suitable land for both crops.; Negligible or factored-in harvesting and transportation costs.; Revenue maximization as the primary goal.]"}]
2025-05-25 22:10:44,063 - 3WayCoT.App - INFO - Generated 1 reasoning steps in 5.31 seconds
2025-05-25 22:10:44,063 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 22:10:44,064 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-simple arithmetic calculation; high confidence due to straightforward calculation.
2025-05-25 22:10:44,064 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 22:10:44,065 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.95, 'max': 0.95, 'min': 0.95, 'range': 0.0, 'variance': 0.0, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 22:10:44,065 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 22:10:44,065 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.95, 'max': 0.95, 'min': 0.95, 'range': 0.0, 'variance': 0.0, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 22:10:44,067 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 1, 'avg_confidence': 0.95, 'min_confidence': 0.95, 'max_confidence': 0.95, 'distribution': {'high': 1, 'medium': 0, 'low': 0}}
2025-05-25 22:10:44,067 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 22:10:44,068 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 1, 'accept_count': 1, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.95, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 22:10:44,068 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}], 'summary': {'total_steps': 1, 'accept_count': 1, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.95, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T22:10:44.065695', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.95, 'max': 0.95, 'min': 0.95, 'range': 0.0, 'variance': 0.0, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.0}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 1, 'avg_confidence': 0.95, 'min_confidence': 0.95, 'max_confidence': 0.95, 'distribution': {'high': 1, 'medium': 0, 'low': 0}}}}
2025-05-25 22:10:44,070 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=1, REJECT=0, ABSTAIN=0
2025-05-25 22:10:44,070 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (1/1), Rejection: 0.00 (0/1), Abstention: 0.00 (0/1), Avg Confidence: 0.95
2025-05-25 22:10:44,070 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=1, REJECT=0, ABSTAIN=0
2025-05-25 22:10:44,070 - 3WayCoT.App - INFO - Decision summary: ACCEPT=1, REJECT=0, ABSTAIN=0
2025-05-25 22:10:44,070 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=1, REJECT=0, ABSTAIN=0
2025-05-25 22:10:44,071 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (1/1), Rejection: 0.00 (0/1), Abstention: 0.00 (0/1), Avg Confidence: 0.95
2025-05-25 22:10:44,071 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 22:10:44,071 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 22:10:44,072 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 22:10:44,072 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 22:12:21,253 - 3WayCoT.UI - INFO - Application shutdown complete
2025-05-25 22:14:08,386 - 3WayCoT.UI - INFO - Starting 3WayCoT UI...
2025-05-25 22:14:08,963 - 3WayCoT.App - INFO - Found configured LLM provider: gemini with model: gemini-1.5-flash
2025-05-25 22:14:08,964 - 3WayCoT.Config - INFO - Loaded configuration from D:\Research2023\3WayCoT\3waycot-framework.v3\config.json
2025-05-25 22:14:09,295 - 3WayCoT.COTGenerator - INFO - Initialized Google Gemini LLM: gemini-1.5-flash
2025-05-25 22:14:09,295 - 3WayCoT.UncertaintyResolver - INFO - Initialized UncertaintyResolver with relevance_threshold=0.7, validity_threshold=0.6
2025-05-25 22:14:09,295 - 3WayCoT.UncertaintyResolver - INFO - Using CoT Generator: ChainOfThoughtGenerator
2025-05-25 22:14:09,296 - 3WayCoT.App - INFO - Initialized 3WayCoT with parameters: α=0.7, β=0.6, τ=0.4
2025-05-25 22:14:09,297 - 3WayCoT.App - INFO - Using LLM provider: gemini model: gemini-1.5-flash
2025-05-25 22:14:09,298 - 3WayCoT.App - INFO - 3WayCoT application initialized
2025-05-25 22:14:09,837 - 3WayCoT.UI - INFO - Launching Gradio interface...
2025-05-25 22:14:09,839 - 3WayCoT.UI - INFO - Attempting to launch on port 7860...
2025-05-25 22:14:10,610 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 22:14:10,925 - httpx - INFO - HTTP Request: GET https://api.gradio.app/pkg-version "HTTP/1.1 200 OK"
2025-05-25 22:14:12,162 - httpx - INFO - HTTP Request: GET http://localhost:7860/gradio_api/startup-events "HTTP/1.1 200 OK"
2025-05-25 22:14:14,224 - httpx - INFO - HTTP Request: HEAD http://localhost:7860/ "HTTP/1.1 200 OK"
2025-05-25 22:14:31,930 - 3WayCoT.Main - INFO - Processing with params - alpha: 0.7, beta: 0.6, tau: 0.4, temp: 0.7, max_tokens: 1000, top_p: 1.0
2025-05-25 22:14:31,931 - 3WayCoT.GradioApp - INFO - Updating parameters: {'alpha': 0.7, 'beta': 0.6, 'tau': 0.4, 'temperature': 0.7, 'max_tokens': 1000, 'top_p': 1.0}
2025-05-25 22:14:31,932 - 3WayCoT.App - INFO - Updating parameters: alpha, beta, tau, temperature, max_tokens, top_p
2025-05-25 22:14:31,932 - 3WayCoT.App - WARNING - Received None prompt, setting to empty string
2025-05-25 22:14:31,933 - 3WayCoT.App - INFO - Processing prompt: ...
2025-05-25 22:14:31,933 - 3WayCoT.COTGenerator - INFO - Generating reasoning steps for query: 
2025-05-25 22:14:31,933 - 3WayCoT.COTGenerator - INFO - EXITING construct_prompt You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 22:14:31,938 - 3WayCoT.COTGenerator - INFO - Querying LLM using provider: gemini
2025-05-25 22:14:31,938 - 3WayCoT.COTGenerator - INFO - With query_llm You are an expert problem solver. Your task is to analyze the following problem through careful, step-by-step reasoning.

IMPORTANT: For each step, you MUST list EXACTLY 5 key assumptions. NEVER exceed 5 assumptions per step. If you have more assumptions, prioritize the most critical ones. Each assumption should be concise and clearly stated.

Format your response following these instructions:
- 1. 1. Break down your reasoning into clear, numbered steps.
- 2. 2. CRITICAL: After EACH step, you MUST provide a structured confidence block with the following format:
   confidence: [value between 0.0-1.0]
   method: [how you determined this confidence - e.g., 'prior knowledge', 'statistical analysis', 'expert judgment', etc.]
- 3. 3. The confidence value MUST be a number between 0.0 and 1.0, where 0.0 is no confidence and 1.0 is absolute certainty.
- 4. 4. After the confidence block, list your assumptions using 'Assumptions:' followed by a numbered list.
- 5. 5. Be explicit about uncertainties or limitations in your 'method' description.
- 6. 6. Conclude with a final answer that includes a structured confidence block in the same format.
- 7. 7. CRITICAL: You MUST list EXACTLY 5 assumptions per step. This is a HARD LIMIT. If you have more, prioritize the top 5.


Query: 

Example format for your response (with 5 assumptions per step):

Step 1: [Your reasoning for the first step]
confidence: 0.85
method: expert judgment based on clinical evidence
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

Step 2: [Your reasoning for the next step]
confidence: 0.65
method: statistical analysis with limited data
Assumptions:
1. [Assumption 1]
2. [Assumption 2]
3. [Assumption 3]

[... more steps as needed ...]

Final Answer: [Your final answer to the query]
confidence: [value between 0.0-1.0]
method: [summary of how you determined your overall confidence]
2025-05-25 22:14:36,027 - 3WayCoT.COTGenerator - INFO - Extracting reasoning steps from LLM response
2025-05-25 22:14:36,028 - 3WayCoT.COTGenerator - INFO - Extracted 4 reasoning steps
2025-05-25 22:14:36,029 - 3WayCoT.COTGenerator - INFO - Processing step 1 for assumptions extraction
2025-05-25 22:14:36,030 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 1 (expected up to 5). Assumptions: []
2025-05-25 22:14:36,030 - 3WayCoT.COTGenerator - INFO - Step 1 final assumptions (0): []
2025-05-25 22:14:36,031 - 3WayCoT.COTGenerator - INFO - Processing step 2 for assumptions extraction
2025-05-25 22:14:36,031 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 2 (expected up to 5). Assumptions: []
2025-05-25 22:14:36,031 - 3WayCoT.COTGenerator - INFO - Step 2 final assumptions (0): []
2025-05-25 22:14:36,032 - 3WayCoT.COTGenerator - INFO - Processing step 3 for assumptions extraction
2025-05-25 22:14:36,032 - 3WayCoT.COTGenerator - INFO - Only 0 assumptions found for step 3 (expected up to 5). Assumptions: []
2025-05-25 22:14:36,032 - 3WayCoT.COTGenerator - INFO - Step 3 final assumptions (0): []
2025-05-25 22:14:36,033 - 3WayCoT.COTGenerator - INFO - Processing step 4 for assumptions extraction
2025-05-25 22:14:36,033 - 3WayCoT.COTGenerator - INFO - Only 1 assumptions found for step 4 (expected up to 5). Assumptions: ['Confidence level: 0.5']
2025-05-25 22:14:36,034 - 3WayCoT.COTGenerator - INFO - Step 4 final assumptions (1): ['Confidence level: 0.5']
2025-05-25 22:14:36,034 - 3WayCoT.COTGenerator - INFO - Generated 4 reasoning steps with assumptions
2025-05-25 22:14:36,035 - 3WayCoT.COTGenerator - INFO - Total assumptions across all steps: 1
2025-05-25 22:14:36,035 - 3WayCoT.COTGenerator - INFO - Max assumptions per step: 5
2025-05-25 22:14:36,036 - 3WayCoT.App - INFO - Generated reasoning steps :[{'step_num': 1, 'reasoning': 'Identify the core information in the problem statement. The problem states that a farmer initially has 17 sheep, and all but 9 die. This implies a subtraction operation.\n\nconfidence: 0.95\nmethod: logical deduction based on clear problem statement\nAssumptions:\n1. The problem statement is accurate and complete.\n2. "All but 9" means 9 sheep survived.\n3. The word "die" implies death and removal from the flock.\n4. There are no other factors affecting the sheep population (e.g., births, additional deaths).\n5. The numbers provided (17 and 9) are precise and not estimates.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Identify the core information in the problem statement. The problem states that a farmer initially has 17 sheep, and all but 9 die. This implies a subtraction operation.\n\nconfidence: 0.95\nmethod: logical deduction based on clear problem statement\nAssumptions:\n1. The problem statement is accurate and complete.\n2. "All but 9" means 9 sheep survived.\n3. The word "die" implies death and removal from the flock.\n4. There are no other factors affecting the sheep population (e.g., births, additional deaths).\n5. The numbers provided (17 and 9) are precise and not estimates.\n[Assumptions: ]'}, {'step_num': 2, 'reasoning': 'Perform the subtraction.  Subtract the number of sheep that died (17 - 9) to find the number of sheep remaining.\n\nconfidence: 0.99\nmethod: basic arithmetic; high confidence due to simplicity of calculation\nAssumptions:\n1. Basic arithmetic principles are valid.\n2. The subtraction operation is correctly performed.\n3. The number system used is consistent (base 10).\n4. There are no errors in data entry or calculation.\n5. The result is an integer representing a whole number of sheep.', 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': 'Perform the subtraction.  Subtract the number of sheep that died (17 - 9) to find the number of sheep remaining.\n\nconfidence: 0.99\nmethod: basic arithmetic; high confidence due to simplicity of calculation\nAssumptions:\n1. Basic arithmetic principles are valid.\n2. The subtraction operation is correctly performed.\n3. The number system used is consistent (base 10).\n4. There are no errors in data entry or calculation.\n5. The result is an integer representing a whole number of sheep.\n[Assumptions: ]'}, {'step_num': 3, 'reasoning': "State the final answer.\n\nconfidence: 0.97\nmethod: combining the confidence from steps 1 and 2.\nAssumptions:\n1. Step 1's interpretation of the problem is correct.\n2. Step 2's calculation is accurate.\n3. The answer represents a realistic number of sheep.\n4. No additional information is needed to solve the problem.\n5. The problem does not contain any hidden complexities.", 'assumptions': '', 'extracted_assumptions': [], 'annotated_reasoning': "State the final answer.\n\nconfidence: 0.97\nmethod: combining the confidence from steps 1 and 2.\nAssumptions:\n1. Step 1's interpretation of the problem is correct.\n2. Step 2's calculation is accurate.\n3. The answer represents a realistic number of sheep.\n4. No additional information is needed to solve the problem.\n5. The problem does not contain any hidden complexities.\n[Assumptions: ]"}, {'step_num': 4, 'reasoning': 'Final Answer: 8 sheep are left.\nconfidence: 0.97\nmethod:  Deductive reasoning combined with simple arithmetic.  Confidence is slightly reduced to account for potential minor ambiguities in language interpretation (Step 1).', 'assumptions': 'Confidence level: 0.5', 'is_final': True, 'confidence': 0.5, 'extracted_assumptions': ['Confidence level: 0.5'], 'annotated_reasoning': 'Final Answer: 8 sheep are left.\nconfidence: 0.97\nmethod:  Deductive reasoning combined with simple arithmetic.  Confidence is slightly reduced to account for potential minor ambiguities in language interpretation (Step 1).\n[Assumptions: Confidence level: 0.5]'}]
2025-05-25 22:14:36,038 - 3WayCoT.App - INFO - Generated 4 reasoning steps in 4.11 seconds
2025-05-25 22:14:36,039 - 3WayCoT.App - INFO - Step 1: Extracted confidence 0.95 (high)
2025-05-25 22:14:36,039 - 3WayCoT.App - INFO - Step 2: Extracted confidence 0.99 (high)
2025-05-25 22:14:36,039 - 3WayCoT.App - INFO - Step 3: Extracted confidence 0.97 (high)
2025-05-25 22:14:36,040 - 3WayCoT.App - INFO - Step 4: Extracted confidence 0.97 (high)
2025-05-25 22:14:36,040 - 3WayCoT.ConfidenceExtractor - INFO - Step 1: Extracted confidence 0.95 (high) using method: structured-logical deduction based on clear problem statement
2025-05-25 22:14:36,040 - 3WayCoT.ConfidenceExtractor - INFO - Step 2: Extracted confidence 0.99 (high) using method: structured-basic arithmetic; high confidence due to simplicity of calculation
2025-05-25 22:14:36,041 - 3WayCoT.ConfidenceExtractor - INFO - Step 3: Extracted confidence 0.97 (high) using method: structured-combining the confidence from steps 1 and 2.
2025-05-25 22:14:36,041 - 3WayCoT.ConfidenceExtractor - INFO - Step 4: Extracted confidence 0.97 (high) using method: structured-deductive reasoning combined with simple arithmetic.  confidence is slightly reduced to account for potential minor ambiguities in language interpretation (step 1).
2025-05-25 22:14:36,057 - 3WayCoT.App - INFO - Initializing ThreeWayDecisionMaker with alpha=0.7, beta=0.4
2025-05-25 22:14:36,057 - 3WayCoT.App - INFO - Enhanced confidence metrics: {'confidence_metrics': {'average': 0.97, 'max': 0.99, 'min': 0.95, 'range': 0.040000000000000036, 'variance': 0.00020000000000000036, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 22:14:36,058 - 3WayCoT.ThreeWayDecisionMaker - INFO - Making three-way decisions for reasoning steps using enhanced algorithm...
2025-05-25 22:14:36,059 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using enhanced confidence metrics: {'confidence_metrics': {'average': 0.97, 'max': 0.99, 'min': 0.95, 'range': 0.040000000000000036, 'variance': 0.00020000000000000036, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}
2025-05-25 22:14:36,060 - 3WayCoT.ThreeWayDecisionMaker - INFO - Using confidence distribution: {'count': 4, 'avg_confidence': 0.97, 'min_confidence': 0.95, 'max_confidence': 0.99, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}
2025-05-25 22:14:36,061 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.972, reject=0.028, abstain=0.000, confidence=0.950
2025-05-25 22:14:36,062 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.994, reject=0.006, abstain=0.000, confidence=0.990
2025-05-25 22:14:36,062 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.983, reject=0.017, abstain=0.000, confidence=0.970
2025-05-25 22:14:36,062 - 3WayCoT.ThreeWayDecisionMaker - INFO - Membership degrees: accept=0.983, reject=0.017, abstain=0.000, confidence=0.970
2025-05-25 22:14:36,063 - 3WayCoT.ThreeWayDecisionMaker - INFO - Enhanced decision summary: {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.97, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}
2025-05-25 22:14:36,063 - root - INFO - Decisions: {'decisions': [{'step_index': 0, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.95, 'explanation': 'High confidence in step validity (confidence=0.950, accept=0.972, reject=0.028)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.041666666666666685, 'abstain': 0.0}}, {'step_index': 1, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.99, 'explanation': 'High confidence in step validity (confidence=0.990, accept=0.994, reject=0.006)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.00833333333333336, 'abstain': 0.0}}, {'step_index': 2, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.97, 'explanation': 'High confidence in step validity (confidence=0.970, accept=0.983, reject=0.017)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.025000000000000022, 'abstain': 0.0}}, {'step_index': 3, 'step_content': '', 'decision': 'ACCEPT', 'confidence': 0.97, 'explanation': 'High confidence in step validity (confidence=0.970, accept=0.983, reject=0.017)', 'metrics': {'similarity_score': 0.7, 'assumption_coverage': 0.7, 'uncertainty_score': 0.3, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'membership_scores': {'accept': 1.0, 'reject': 0.025000000000000022, 'abstain': 0.0}}], 'summary': {'total_steps': 4, 'accept_count': 4, 'reject_count': 0, 'abstain_count': 0, 'accept_ratio': 1.0, 'reject_ratio': 0.0, 'abstain_ratio': 0.0, 'avg_confidence_accept': 0.97, 'avg_confidence_reject': 0.0, 'avg_confidence_abstain': 0.0, 'decision_consistency': 1.0, 'confidence_alignment': 1.0}, 'metadata': {'timestamp': '2025-05-25T22:14:36.059531', 'thresholds': {'alpha': 0.7, 'beta': 0.4, 'tau': 0.6}, 'algorithm_version': '2.0', 'confidence_weighted': True, 'confidence_metrics': {'confidence_metrics': {'average': 0.97, 'max': 0.99, 'min': 0.95, 'range': 0.040000000000000036, 'variance': 0.00020000000000000036, 'high_ratio': 1.0, 'low_ratio': 0.0, 'mid_ratio': 0.0, 'trend': 0.020000000000000018}, 'membership_degrees': {'accept': 1.0, 'reject': 0.0, 'abstain': 0.0}, 'confidence_calibration': {'accept_factor': 1.0, 'reject_factor': 1.0, 'abstain_factor': 1.0}}, 'confidence_distribution': {'count': 4, 'avg_confidence': 0.97, 'min_confidence': 0.95, 'max_confidence': 0.99, 'distribution': {'high': 4, 'medium': 0, 'low': 0}}}}
2025-05-25 22:14:36,066 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 22:14:36,066 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.97
2025-05-25 22:14:36,067 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 22:14:36,067 - 3WayCoT.App - INFO - Decision summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 22:14:36,068 - 3WayCoT.App - INFO - Using decision counts from summary: ACCEPT=4, REJECT=0, ABSTAIN=0
2025-05-25 22:14:36,068 - 3WayCoT.App - INFO - Metrics calculated - Acceptance: 1.00 (4/4), Rejection: 0.00 (0/4), Abstention: 0.00 (0/4), Avg Confidence: 0.97
2025-05-25 22:14:36,068 - 3WayCoT.GradioApp - INFO - 
================================================================================
2025-05-25 22:14:36,069 - 3WayCoT.GradioApp - INFO - ENTERING get_visualization_data
2025-05-25 22:14:36,069 - 3WayCoT.GradioApp - INFO - ================================================================================
2025-05-25 22:14:36,069 - 3WayCoT.GradioApp - WARNING - ❌ Invalid or unsuccessful result format
2025-05-25 22:22:40,892 - 3WayCoT.UI - INFO - Application shutdown complete
